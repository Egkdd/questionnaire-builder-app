(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var kf={exports:{}},Ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function ET(){if(_y)return Ql;_y=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:a,type:s,key:d,ref:o!==void 0?o:null,props:c}}return Ql.Fragment=e,Ql.jsx=i,Ql.jsxs=i,Ql}var vy;function TT(){return vy||(vy=1,kf.exports=ET()),kf.exports}var nt=TT(),Bf={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function AT(){if(Ey)return Rt;Ey=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.iterator;function R(I){return I===null||typeof I!="object"?null:(I=b&&I[b]||I["@@iterator"],typeof I=="function"?I:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,K={};function j(I,tt,ft){this.props=I,this.context=tt,this.refs=K,this.updater=ft||M}j.prototype.isReactComponent={},j.prototype.setState=function(I,tt){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,tt,"setState")},j.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function Y(){}Y.prototype=j.prototype;function et(I,tt,ft){this.props=I,this.context=tt,this.refs=K,this.updater=ft||M}var X=et.prototype=new Y;X.constructor=et,L(X,j.prototype),X.isPureReactComponent=!0;var st=Array.isArray,at={H:null,A:null,T:null,S:null},Et=Object.prototype.hasOwnProperty;function x(I,tt,ft,lt,ot,wt){return ft=wt.ref,{$$typeof:a,type:I,key:tt,ref:ft!==void 0?ft:null,props:wt}}function w(I,tt){return x(I.type,tt,void 0,void 0,void 0,I.props)}function S(I){return typeof I=="object"&&I!==null&&I.$$typeof===a}function D(I){var tt={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ft){return tt[ft]})}var O=/\/+/g;function k(I,tt){return typeof I=="object"&&I!==null&&I.key!=null?D(""+I.key):tt.toString(36)}function V(){}function ye(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(V,V):(I.status="pending",I.then(function(tt){I.status==="pending"&&(I.status="fulfilled",I.value=tt)},function(tt){I.status==="pending"&&(I.status="rejected",I.reason=tt)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function he(I,tt,ft,lt,ot){var wt=typeof I;(wt==="undefined"||wt==="boolean")&&(I=null);var bt=!1;if(I===null)bt=!0;else switch(wt){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(I.$$typeof){case a:case e:bt=!0;break;case T:return bt=I._init,he(bt(I._payload),tt,ft,lt,ot)}}if(bt)return ot=ot(I),bt=lt===""?"."+k(I,0):lt,st(ot)?(ft="",bt!=null&&(ft=bt.replace(O,"$&/")+"/"),he(ot,tt,ft,"",function(ie){return ie})):ot!=null&&(S(ot)&&(ot=w(ot,ft+(ot.key==null||I&&I.key===ot.key?"":(""+ot.key).replace(O,"$&/")+"/")+bt)),tt.push(ot)),1;bt=0;var fe=lt===""?".":lt+":";if(st(I))for(var Pt=0;Pt<I.length;Pt++)lt=I[Pt],wt=fe+k(lt,Pt),bt+=he(lt,tt,ft,wt,ot);else if(Pt=R(I),typeof Pt=="function")for(I=Pt.call(I),Pt=0;!(lt=I.next()).done;)lt=lt.value,wt=fe+k(lt,Pt++),bt+=he(lt,tt,ft,wt,ot);else if(wt==="object"){if(typeof I.then=="function")return he(ye(I),tt,ft,lt,ot);throw tt=String(I),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return bt}function rt(I,tt,ft){if(I==null)return I;var lt=[],ot=0;return he(I,lt,"","",function(wt){return tt.call(ft,wt,ot++)}),lt}function _t(I){if(I._status===-1){var tt=I._result;tt=tt(),tt.then(function(ft){(I._status===0||I._status===-1)&&(I._status=1,I._result=ft)},function(ft){(I._status===0||I._status===-1)&&(I._status=2,I._result=ft)}),I._status===-1&&(I._status=0,I._result=tt)}if(I._status===1)return I._result.default;throw I._result}var gt=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function jt(){}return Rt.Children={map:rt,forEach:function(I,tt,ft){rt(I,function(){tt.apply(this,arguments)},ft)},count:function(I){var tt=0;return rt(I,function(){tt++}),tt},toArray:function(I){return rt(I,function(tt){return tt})||[]},only:function(I){if(!S(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Rt.Component=j,Rt.Fragment=i,Rt.Profiler=o,Rt.PureComponent=et,Rt.StrictMode=s,Rt.Suspense=p,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=at,Rt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Rt.cache=function(I){return function(){return I.apply(null,arguments)}},Rt.cloneElement=function(I,tt,ft){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var lt=L({},I.props),ot=I.key,wt=void 0;if(tt!=null)for(bt in tt.ref!==void 0&&(wt=void 0),tt.key!==void 0&&(ot=""+tt.key),tt)!Et.call(tt,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&tt.ref===void 0||(lt[bt]=tt[bt]);var bt=arguments.length-2;if(bt===1)lt.children=ft;else if(1<bt){for(var fe=Array(bt),Pt=0;Pt<bt;Pt++)fe[Pt]=arguments[Pt+2];lt.children=fe}return x(I.type,ot,void 0,void 0,wt,lt)},Rt.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},Rt.createElement=function(I,tt,ft){var lt,ot={},wt=null;if(tt!=null)for(lt in tt.key!==void 0&&(wt=""+tt.key),tt)Et.call(tt,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(ot[lt]=tt[lt]);var bt=arguments.length-2;if(bt===1)ot.children=ft;else if(1<bt){for(var fe=Array(bt),Pt=0;Pt<bt;Pt++)fe[Pt]=arguments[Pt+2];ot.children=fe}if(I&&I.defaultProps)for(lt in bt=I.defaultProps,bt)ot[lt]===void 0&&(ot[lt]=bt[lt]);return x(I,wt,void 0,void 0,null,ot)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(I){return{$$typeof:g,render:I}},Rt.isValidElement=S,Rt.lazy=function(I){return{$$typeof:T,_payload:{_status:-1,_result:I},_init:_t}},Rt.memo=function(I,tt){return{$$typeof:y,type:I,compare:tt===void 0?null:tt}},Rt.startTransition=function(I){var tt=at.T,ft={};at.T=ft;try{var lt=I(),ot=at.S;ot!==null&&ot(ft,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(jt,gt)}catch(wt){gt(wt)}finally{at.T=tt}},Rt.unstable_useCacheRefresh=function(){return at.H.useCacheRefresh()},Rt.use=function(I){return at.H.use(I)},Rt.useActionState=function(I,tt,ft){return at.H.useActionState(I,tt,ft)},Rt.useCallback=function(I,tt){return at.H.useCallback(I,tt)},Rt.useContext=function(I){return at.H.useContext(I)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(I,tt){return at.H.useDeferredValue(I,tt)},Rt.useEffect=function(I,tt){return at.H.useEffect(I,tt)},Rt.useId=function(){return at.H.useId()},Rt.useImperativeHandle=function(I,tt,ft){return at.H.useImperativeHandle(I,tt,ft)},Rt.useInsertionEffect=function(I,tt){return at.H.useInsertionEffect(I,tt)},Rt.useLayoutEffect=function(I,tt){return at.H.useLayoutEffect(I,tt)},Rt.useMemo=function(I,tt){return at.H.useMemo(I,tt)},Rt.useOptimistic=function(I,tt){return at.H.useOptimistic(I,tt)},Rt.useReducer=function(I,tt,ft){return at.H.useReducer(I,tt,ft)},Rt.useRef=function(I){return at.H.useRef(I)},Rt.useState=function(I){return at.H.useState(I)},Rt.useSyncExternalStore=function(I,tt,ft){return at.H.useSyncExternalStore(I,tt,ft)},Rt.useTransition=function(){return at.H.useTransition()},Rt.version="19.0.0",Rt}var Ty;function Dd(){return Ty||(Ty=1,Bf.exports=AT()),Bf.exports}var G=Dd(),qf={exports:{}},Fl={},jf={exports:{}},Hf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function ST(){return Ay||(Ay=1,function(a){function e(rt,_t){var gt=rt.length;rt.push(_t);t:for(;0<gt;){var jt=gt-1>>>1,I=rt[jt];if(0<o(I,_t))rt[jt]=_t,rt[gt]=I,gt=jt;else break t}}function i(rt){return rt.length===0?null:rt[0]}function s(rt){if(rt.length===0)return null;var _t=rt[0],gt=rt.pop();if(gt!==_t){rt[0]=gt;t:for(var jt=0,I=rt.length,tt=I>>>1;jt<tt;){var ft=2*(jt+1)-1,lt=rt[ft],ot=ft+1,wt=rt[ot];if(0>o(lt,gt))ot<I&&0>o(wt,lt)?(rt[jt]=wt,rt[ot]=gt,jt=ot):(rt[jt]=lt,rt[ft]=gt,jt=ft);else if(ot<I&&0>o(wt,gt))rt[jt]=wt,rt[ot]=gt,jt=ot;else break t}}return _t}function o(rt,_t){var gt=rt.sortIndex-_t.sortIndex;return gt!==0?gt:rt.id-_t.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var p=[],y=[],T=1,b=null,R=3,M=!1,L=!1,K=!1,j=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,et=typeof setImmediate<"u"?setImmediate:null;function X(rt){for(var _t=i(y);_t!==null;){if(_t.callback===null)s(y);else if(_t.startTime<=rt)s(y),_t.sortIndex=_t.expirationTime,e(p,_t);else break;_t=i(y)}}function st(rt){if(K=!1,X(rt),!L)if(i(p)!==null)L=!0,ye();else{var _t=i(y);_t!==null&&he(st,_t.startTime-rt)}}var at=!1,Et=-1,x=5,w=-1;function S(){return!(a.unstable_now()-w<x)}function D(){if(at){var rt=a.unstable_now();w=rt;var _t=!0;try{t:{L=!1,K&&(K=!1,Y(Et),Et=-1),M=!0;var gt=R;try{e:{for(X(rt),b=i(p);b!==null&&!(b.expirationTime>rt&&S());){var jt=b.callback;if(typeof jt=="function"){b.callback=null,R=b.priorityLevel;var I=jt(b.expirationTime<=rt);if(rt=a.unstable_now(),typeof I=="function"){b.callback=I,X(rt),_t=!0;break e}b===i(p)&&s(p),X(rt)}else s(p);b=i(p)}if(b!==null)_t=!0;else{var tt=i(y);tt!==null&&he(st,tt.startTime-rt),_t=!1}}break t}finally{b=null,R=gt,M=!1}_t=void 0}}finally{_t?O():at=!1}}}var O;if(typeof et=="function")O=function(){et(D)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,V=k.port2;k.port1.onmessage=D,O=function(){V.postMessage(null)}}else O=function(){j(D,0)};function ye(){at||(at=!0,O())}function he(rt,_t){Et=j(function(){rt(a.unstable_now())},_t)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(rt){rt.callback=null},a.unstable_continueExecution=function(){L||M||(L=!0,ye())},a.unstable_forceFrameRate=function(rt){0>rt||125<rt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<rt?Math.floor(1e3/rt):5},a.unstable_getCurrentPriorityLevel=function(){return R},a.unstable_getFirstCallbackNode=function(){return i(p)},a.unstable_next=function(rt){switch(R){case 1:case 2:case 3:var _t=3;break;default:_t=R}var gt=R;R=_t;try{return rt()}finally{R=gt}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(rt,_t){switch(rt){case 1:case 2:case 3:case 4:case 5:break;default:rt=3}var gt=R;R=rt;try{return _t()}finally{R=gt}},a.unstable_scheduleCallback=function(rt,_t,gt){var jt=a.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?jt+gt:jt):gt=jt,rt){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=gt+I,rt={id:T++,callback:_t,priorityLevel:rt,startTime:gt,expirationTime:I,sortIndex:-1},gt>jt?(rt.sortIndex=gt,e(y,rt),i(p)===null&&rt===i(y)&&(K?(Y(Et),Et=-1):K=!0,he(st,gt-jt))):(rt.sortIndex=I,e(p,rt),L||M||(L=!0,ye())),rt},a.unstable_shouldYield=S,a.unstable_wrapCallback=function(rt){var _t=R;return function(){var gt=R;R=_t;try{return rt.apply(this,arguments)}finally{R=gt}}}}(Hf)),Hf}var Sy;function bT(){return Sy||(Sy=1,jf.exports=ST()),jf.exports}var Gf={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by;function RT(){if(by)return Ge;by=1;var a=Dd();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,y,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:y,implementation:T}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ge.createPortal=function(p,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(p,y,null,T)},Ge.flushSync=function(p){var y=d.T,T=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=y,s.p=T,s.d.f()}},Ge.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Ge.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ge.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var T=y.as,b=g(T,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,M=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:R,fetchPriority:M}):T==="script"&&s.d.X(p,{crossOrigin:b,integrity:R,fetchPriority:M,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ge.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=g(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Ge.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,b=g(T,y.crossOrigin);s.d.L(p,T,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ge.preloadModule=function(p,y){if(typeof p=="string")if(y){var T=g(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Ge.requestFormReset=function(p){s.d.r(p)},Ge.unstable_batchedUpdates=function(p,y){return p(y)},Ge.useFormState=function(p,y,T){return d.H.useFormState(p,y,T)},Ge.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ge.version="19.0.0",Ge}var Ry;function wT(){if(Ry)return Gf.exports;Ry=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Gf.exports=RT(),Gf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function CT(){if(wy)return Fl;wy=1;var a=bT(),e=Dd(),i=wT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var c=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),M=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),et=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),st=Symbol.for("react.memo_cache_sentinel"),at=Symbol.iterator;function Et(t){return t===null||typeof t!="object"?null:(t=at&&t[at]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function w(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case g:return"Portal";case T:return"Profiler";case y:return"StrictMode";case K:return"Suspense";case j:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case M:return(t.displayName||"Context")+".Provider";case R:return(t._context.displayName||"Context")+".Consumer";case L:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Y:return n=t.displayName||null,n!==null?n:w(t.type)||"Memo";case et:n=t._payload,t=t._init;try{return w(t(n))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,O,k;function V(t){if(O===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);O=n&&n[1]||"",k=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+O+t+k}var ye=!1;function he(t,n){if(!t||ye)return"";ye=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(Q){var q=Q}Reflect.construct(t,[],J)}else{try{J.call()}catch(Q){q=Q}t.call(J.prototype)}}else{try{throw Error()}catch(Q){q=Q}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(Q){if(Q&&q&&typeof Q.stack=="string")return[Q.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var C=v.split(`
`),U=E.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===U.length)for(l=C.length-1,h=U.length-1;1<=l&&0<=h&&C[l]!==U[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==U[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==U[h]){var F=`
`+C[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=h);break}}}finally{ye=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?V(r):""}function rt(t){switch(t.tag){case 26:case 27:case 5:return V(t.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 15:return t=he(t.type,!1),t;case 11:return t=he(t.type.render,!1),t;case 1:return t=he(t.type,!0),t;default:return""}}function _t(t){try{var n="";do n+=rt(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function gt(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function jt(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function I(t){if(gt(t)!==t)throw Error(s(188))}function tt(t){var n=t.alternate;if(!n){if(n=gt(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return I(h),t;if(f===l)return I(h),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=h,l=f;else{for(var v=!1,E=h.child;E;){if(E===r){v=!0,r=h,l=f;break}if(E===l){v=!0,l=h,r=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===r){v=!0,r=f,l=h;break}if(E===l){v=!0,l=f,r=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function ft(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=ft(t),n!==null)return n;t=t.sibling}return null}var lt=Array.isArray,ot=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,wt={pending:!1,data:null,method:null,action:null},bt=[],fe=-1;function Pt(t){return{current:t}}function ie(t){0>fe||(t.current=bt[fe],bt[fe]=null,fe--)}function Qt(t,n){fe++,bt[fe]=t.current,t.current=n}var Ye=Pt(null),ci=Pt(null),gn=Pt(null),Gi=Pt(null);function Qi(t,n){switch(Qt(gn,n),Qt(ci,t),Qt(Ye,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?Kp(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=Kp(t),n=Yp(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ie(Ye),Qt(Ye,n)}function hi(){ie(Ye),ie(ci),ie(gn)}function Bs(t){t.memoizedState!==null&&Qt(Gi,t);var n=Ye.current,r=Yp(n,t.type);n!==r&&(Qt(ci,t),Qt(Ye,r))}function Ca(t){ci.current===t&&(ie(Ye),ie(ci)),Gi.current===t&&(ie(Gi),Bl._currentValue=wt)}var Da=Object.prototype.hasOwnProperty,jr=a.unstable_scheduleCallback,Va=a.unstable_cancelCallback,Bc=a.unstable_shouldYield,qs=a.unstable_requestPaint,tn=a.unstable_now,To=a.unstable_getCurrentPriorityLevel,_e=a.unstable_ImmediatePriority,Ce=a.unstable_UserBlockingPriority,fi=a.unstable_NormalPriority,Ao=a.unstable_LowPriority,js=a.unstable_IdlePriority,qc=a.log,Hr=a.unstable_setDisableYieldValue,Fi=null,je=null;function Hs(t){if(je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(Fi,t,void 0,(t.current.flags&128)===128)}catch{}}function Bn(t){if(typeof qc=="function"&&Hr(t),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(Fi,t)}catch{}}var Xe=Math.clz32?Math.clz32:bo,Gs=Math.log,So=Math.LN2;function bo(t){return t>>>=0,t===0?32:31-(Gs(t)/So|0)|0}var qn=128,Ki=4194304;function On(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function pn(t,n){var r=t.pendingLanes;if(r===0)return 0;var l=0,h=t.suspendedLanes,f=t.pingedLanes,v=t.warmLanes;t=t.finishedLanes!==0;var E=r&134217727;return E!==0?(r=E&~h,r!==0?l=On(r):(f&=E,f!==0?l=On(f):t||(v=E&~v,v!==0&&(l=On(v))))):(E=r&~h,E!==0?l=On(E):f!==0?l=On(f):t||(v=r&~v,v!==0&&(l=On(v)))),l===0?0:n!==0&&n!==l&&(n&h)===0&&(h=l&-l,v=n&-n,h>=v||h===32&&(v&4194176)!==0)?n:l}function Yi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ia(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qs(){var t=qn;return qn<<=1,(qn&4194176)===0&&(qn=128),t}function Xi(){var t=Ki;return Ki<<=1,(Ki&62914560)===0&&(Ki=4194304),t}function Na(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function oe(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ro(t,n,r,l,h,f){var v=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,U=t.hiddenUpdates;for(r=v&~r;0<r;){var F=31-Xe(r),J=1<<F;E[F]=0,C[F]=-1;var q=U[F];if(q!==null)for(U[F]=null,F=0;F<q.length;F++){var Q=q[F];Q!==null&&(Q.lane&=-536870913)}r&=~J}l!==0&&$i(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~n))}function $i(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Xe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194218}function Zi(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Xe(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function wo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Co(){var t=ot.p;return t!==0?t:(t=window.event,t===void 0?32:fy(t.type))}function Ji(t,n){var r=ot.p;try{return ot.p=t,n()}finally{ot.p=r}}var jn=Math.random().toString(36).slice(2),De="__reactFiber$"+jn,ve="__reactProps$"+jn,di="__reactContainer$"+jn,Gr="__reactEvents$"+jn,Oa="__reactListeners$"+jn,Hn="__reactHandles$"+jn,Fs="__reactResources$"+jn,Wi="__reactMarker$"+jn;function Qr(t){delete t[De],delete t[ve],delete t[Gr],delete t[Oa],delete t[Hn]}function Mn(t){var n=t[De];if(n)return n;for(var r=t.parentNode;r;){if(n=r[di]||r[De]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Zp(t);t!==null;){if(r=t[De])return r;t=Zp(t)}return n}t=r,r=t.parentNode}return null}function mi(t){if(t=t[De]||t[di]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function tr(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function er(t){var n=t[Fs];return n||(n=t[Fs]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Jt(t){t[Wi]=!0}var Ks=new Set,Ma={};function sn(t,n){en(t,n),en(t+"Capture",n)}function en(t,n){for(Ma[t]=n,t=0;t<n.length;t++)Ks.add(n[t])}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ys={},Xs={};function Do(t){return Da.call(Xs,t)?!0:Da.call(Ys,t)?!1:jc.test(t)?Xs[t]=!0:(Ys[t]=!0,!1)}function nr(t,n,r){if(Do(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function ir(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function yn(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function $e(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Vo(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Hc(t){var n=Vo(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var h=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Fr(t){t._valueTracker||(t._valueTracker=Hc(t))}function $s(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Vo(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function xa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var gi=/[\n"\\]/g;function re(t){return t.replace(gi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function rr(t,n,r,l,h,f,v,E){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+$e(n)):t.value!==""+$e(n)&&(t.value=""+$e(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?Ua(t,v,$e(n)):r!=null?Ua(t,v,$e(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+$e(E):t.removeAttribute("name")}function Kr(t,n,r,l,h,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+$e(r):"",n=n!=null?""+$e(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Ua(t,n,r){n==="number"&&xa(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function kt(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+$e(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Yr(t,n,r){if(n!=null&&(n=""+$e(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+$e(r):""}function ar(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(lt(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=$e(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function _n(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Gc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zs(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Gc.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Io(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Zs(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Zs(t,f,n[f])}function Js(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gn(t){return Fc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var vn=null;function La(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pi=null,yi=null;function _i(t){var n=mi(t);if(n&&(t=n.stateNode)){var r=t[ve]||null;t:switch(t=n.stateNode,n.type){case"input":if(rr(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+re(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[ve]||null;if(!h)throw Error(s(90));rr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&$s(l)}break t;case"textarea":Yr(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&kt(t,!!r.multiple,n,!1)}}}var Ws=!1;function No(t,n,r){if(Ws)return t(n,r);Ws=!0;try{var l=t(n);return l}finally{if(Ws=!1,(pi!==null||yi!==null)&&(Au(),pi&&(n=pi,t=yi,yi=pi=null,_i(n),t)))for(n=0;n<t.length;n++)_i(t[n])}}function Xr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[ve]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var En=!1;if(ln)try{var $r={};Object.defineProperty($r,"passive",{get:function(){En=!0}}),window.addEventListener("test",$r,$r),window.removeEventListener("test",$r,$r)}catch{En=!1}var Qn=null,sr=null,vi=null;function tl(){if(vi)return vi;var t,n=sr,r=n.length,l,h="value"in Qn?Qn.value:Qn.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var v=r-t;for(l=1;l<=v&&n[r-l]===h[f-l];l++);return vi=h.slice(t,1<l?1-l:void 0)}function Fn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Kn(){return!0}function el(){return!1}function Ve(t){function n(r,l,h,f,v){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Kn:el,this.isPropagationStopped=el,this}return D(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Kn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Kn)},persist:function(){},isPersistent:Kn}),n}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},za=Ve(Ht),Zr=D({},Ht,{view:0,detail:0}),Oo=Ve(Zr),Pa,ka,Yn,Jr=D({},Zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ea,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yn&&(Yn&&t.type==="mousemove"?(Pa=t.screenX-Yn.screenX,ka=t.screenY-Yn.screenY):ka=Pa=0,Yn=t),Pa)},movementY:function(t){return"movementY"in t?t.movementY:ka}}),Tn=Ve(Jr),Mo=D({},Jr,{dataTransfer:0}),Kc=Ve(Mo),Wr=D({},Zr,{relatedTarget:0}),Ba=Ve(Wr),nl=D({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),qa=Ve(nl),xo=D({},Ht,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ja=Ve(xo),Yc=D({},Ht,{data:0}),il=Ve(Yc),ta={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rl(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Lo[t])?!!n[t]:!1}function ea(){return rl}var zo=D({},Zr,{key:function(t){if(t.key){var n=ta[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Fn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Uo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ea,charCode:function(t){return t.type==="keypress"?Fn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ha=Ve(zo),Po=D({},Jr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),al=Ve(Po),Ei=D({},Zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ea}),ko=Ve(Ei),Bo=D({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),qo=Ve(Bo),jo=D({},Jr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ga=Ve(jo),Ze=D({},Ht,{newState:0,oldState:0}),Ho=Ve(Ze),Go=[9,13,27,32],Xn=ln&&"CompositionEvent"in window,u=null;ln&&"documentMode"in document&&(u=document.documentMode);var m=ln&&"TextEvent"in window&&!u,_=ln&&(!Xn||u&&8<u&&11>=u),A=" ",P=!1;function H(t,n){switch(t){case"keyup":return Go.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function it(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mt=!1;function Ee(t,n){switch(t){case"compositionend":return it(n);case"keypress":return n.which!==32?null:(P=!0,A);case"textInput":return t=n.data,t===A&&P?null:t;default:return null}}function xt(t,n){if(Mt)return t==="compositionend"||!Xn&&H(t,n)?(t=tl(),vi=sr=Qn=null,Mt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Ie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Te(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ie[t.type]:n==="textarea"}function Ti(t,n,r,l){pi?yi?yi.push(l):yi=[l]:pi=l,n=Cu(n,"onChange"),0<n.length&&(r=new za("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ue=null,$n=null;function sl(t){jp(t,0)}function Qo(t){var n=tr(t);if($s(n))return t}function ym(t,n){if(t==="change")return n}var _m=!1;if(ln){var Xc;if(ln){var $c="oninput"in document;if(!$c){var vm=document.createElement("div");vm.setAttribute("oninput","return;"),$c=typeof vm.oninput=="function"}Xc=$c}else Xc=!1;_m=Xc&&(!document.documentMode||9<document.documentMode)}function Em(){Ue&&(Ue.detachEvent("onpropertychange",Tm),$n=Ue=null)}function Tm(t){if(t.propertyName==="value"&&Qo($n)){var n=[];Ti(n,$n,t,La(t)),No(sl,n)}}function $E(t,n,r){t==="focusin"?(Em(),Ue=n,$n=r,Ue.attachEvent("onpropertychange",Tm)):t==="focusout"&&Em()}function ZE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qo($n)}function JE(t,n){if(t==="click")return Qo(n)}function WE(t,n){if(t==="input"||t==="change")return Qo(n)}function t0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var on=typeof Object.is=="function"?Object.is:t0;function ll(t,n){if(on(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!Da.call(n,h)||!on(t[h],n[h]))return!1}return!0}function Am(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sm(t,n){var r=Am(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Am(r)}}function bm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?bm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Rm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=xa(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=xa(t.document)}return n}function Zc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function e0(t,n){var r=Rm(n);n=t.focusedElem;var l=t.selectionRange;if(r!==n&&n&&n.ownerDocument&&bm(n.ownerDocument.documentElement,n)){if(l!==null&&Zc(n)){if(t=l.start,r=l.end,r===void 0&&(r=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(r,n.value.length);else if(r=(t=n.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var h=n.textContent.length,f=Math.min(l.start,h);l=l.end===void 0?f:Math.min(l.end,h),!r.extend&&f>l&&(h=l,l=f,f=h),h=Sm(n,f);var v=Sm(n,l);h&&v&&(r.rangeCount!==1||r.anchorNode!==h.node||r.anchorOffset!==h.offset||r.focusNode!==v.node||r.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),r.removeAllRanges(),f>l?(r.addRange(t),r.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),r.addRange(t)))}}for(t=[],r=n;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)r=t[n],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var n0=ln&&"documentMode"in document&&11>=document.documentMode,Qa=null,Jc=null,ol=null,Wc=!1;function wm(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Wc||Qa==null||Qa!==xa(l)||(l=Qa,"selectionStart"in l&&Zc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ol&&ll(ol,l)||(ol=l,l=Cu(Jc,"onSelect"),0<l.length&&(n=new za("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Qa)))}function na(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Fa={animationend:na("Animation","AnimationEnd"),animationiteration:na("Animation","AnimationIteration"),animationstart:na("Animation","AnimationStart"),transitionrun:na("Transition","TransitionRun"),transitionstart:na("Transition","TransitionStart"),transitioncancel:na("Transition","TransitionCancel"),transitionend:na("Transition","TransitionEnd")},th={},Cm={};ln&&(Cm=document.createElement("div").style,"AnimationEvent"in window||(delete Fa.animationend.animation,delete Fa.animationiteration.animation,delete Fa.animationstart.animation),"TransitionEvent"in window||delete Fa.transitionend.transition);function ia(t){if(th[t])return th[t];if(!Fa[t])return t;var n=Fa[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Cm)return th[t]=n[r];return t}var Dm=ia("animationend"),Vm=ia("animationiteration"),Im=ia("animationstart"),i0=ia("transitionrun"),r0=ia("transitionstart"),a0=ia("transitioncancel"),Nm=ia("transitionend"),Om=new Map,Mm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function xn(t,n){Om.set(t,n),sn(n,[t])}var An=[],Ka=0,eh=0;function Fo(){for(var t=Ka,n=eh=Ka=0;n<t;){var r=An[n];An[n++]=null;var l=An[n];An[n++]=null;var h=An[n];An[n++]=null;var f=An[n];if(An[n++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}f!==0&&xm(r,h,f)}}function Ko(t,n,r,l){An[Ka++]=t,An[Ka++]=n,An[Ka++]=r,An[Ka++]=l,eh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function nh(t,n,r,l){return Ko(t,n,r,l),Yo(t)}function lr(t,n){return Ko(t,null,null,n),Yo(t)}function xm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;h&&n!==null&&t.tag===3&&(f=t.stateNode,h=31-Xe(r),f=f.hiddenUpdates,t=f[h],t===null?f[h]=[n]:t.push(n),n.lane=r|536870912)}function Yo(t){if(50<Ml)throw Ml=0,uf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ya={},Um=new WeakMap;function Sn(t,n){if(typeof t=="object"&&t!==null){var r=Um.get(t);return r!==void 0?r:(n={value:t,source:n,stack:_t(n)},Um.set(t,n),n)}return{value:t,source:n,stack:_t(n)}}var Xa=[],$a=0,Xo=null,$o=0,bn=[],Rn=0,ra=null,Ai=1,Si="";function aa(t,n){Xa[$a++]=$o,Xa[$a++]=Xo,Xo=t,$o=n}function Lm(t,n,r){bn[Rn++]=Ai,bn[Rn++]=Si,bn[Rn++]=ra,ra=t;var l=Ai;t=Si;var h=32-Xe(l)-1;l&=~(1<<h),r+=1;var f=32-Xe(n)+h;if(30<f){var v=h-h%5;f=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ai=1<<32-Xe(n)+h|r<<h|l,Si=f+t}else Ai=1<<f|r<<h|l,Si=t}function ih(t){t.return!==null&&(aa(t,1),Lm(t,1,0))}function rh(t){for(;t===Xo;)Xo=Xa[--$a],Xa[$a]=null,$o=Xa[--$a],Xa[$a]=null;for(;t===ra;)ra=bn[--Rn],bn[Rn]=null,Si=bn[--Rn],bn[Rn]=null,Ai=bn[--Rn],bn[Rn]=null}var Je=null,Le=null,Bt=!1,Un=null,Zn=!1,ah=Error(s(519));function sa(t){var n=Error(s(418,""));throw hl(Sn(n,t)),ah}function zm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[De]=t,n[ve]=l,r){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(r=0;r<Ul.length;r++)Ot(Ul[r],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),Kr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Fr(n);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),ar(n,l.value,l.defaultValue,l.children),Fr(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Fp(n.textContent,r)?(l.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),l.onScroll!=null&&Ot("scroll",n),l.onScrollEnd!=null&&Ot("scrollend",n),l.onClick!=null&&(n.onclick=Du),n=!0):n=!1,n||sa(t)}function Pm(t){for(Je=t.return;Je;)switch(Je.tag){case 3:case 27:Zn=!0;return;case 5:case 13:Zn=!1;return;default:Je=Je.return}}function ul(t){if(t!==Je)return!1;if(!Bt)return Pm(t),Bt=!0,!1;var n=!1,r;if((r=t.tag!==3&&t.tag!==27)&&((r=t.tag===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||wf(t.type,t.memoizedProps)),r=!r),r&&(n=!0),n&&Le&&sa(t),Pm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){Le=zn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}Le=null}}else Le=Je?zn(t.stateNode.nextSibling):null;return!0}function cl(){Le=Je=null,Bt=!1}function hl(t){Un===null?Un=[t]:Un.push(t)}var fl=Error(s(460)),km=Error(s(474)),sh={then:function(){}};function Bm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Zo(){}function qm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Zo,Zo),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===fl?Error(s(483)):t;default:if(typeof n.status=="string")n.then(Zo,Zo);else{if(t=Xt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===fl?Error(s(483)):t}throw dl=n,fl}}var dl=null;function jm(){if(dl===null)throw Error(s(459));var t=dl;return dl=null,t}var Za=null,ml=0;function Jo(t){var n=ml;return ml+=1,Za===null&&(Za=[]),qm(Za,t,n)}function gl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Wo(t,n){throw n.$$typeof===c?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Hm(t){var n=t._init;return n(t._payload)}function Gm(t){function n(z,N){if(t){var B=z.deletions;B===null?(z.deletions=[N],z.flags|=16):B.push(N)}}function r(z,N){if(!t)return null;for(;N!==null;)n(z,N),N=N.sibling;return null}function l(z){for(var N=new Map;z!==null;)z.key!==null?N.set(z.key,z):N.set(z.index,z),z=z.sibling;return N}function h(z,N){return z=vr(z,N),z.index=0,z.sibling=null,z}function f(z,N,B){return z.index=B,t?(B=z.alternate,B!==null?(B=B.index,B<N?(z.flags|=33554434,N):B):(z.flags|=33554434,N)):(z.flags|=1048576,N)}function v(z){return t&&z.alternate===null&&(z.flags|=33554434),z}function E(z,N,B,$){return N===null||N.tag!==6?(N=tf(B,z.mode,$),N.return=z,N):(N=h(N,B),N.return=z,N)}function C(z,N,B,$){var ct=B.type;return ct===p?F(z,N,B.props.children,$,B.key):N!==null&&(N.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===et&&Hm(ct)===N.type)?(N=h(N,B.props),gl(N,B),N.return=z,N):(N=yu(B.type,B.key,B.props,null,z.mode,$),gl(N,B),N.return=z,N)}function U(z,N,B,$){return N===null||N.tag!==4||N.stateNode.containerInfo!==B.containerInfo||N.stateNode.implementation!==B.implementation?(N=ef(B,z.mode,$),N.return=z,N):(N=h(N,B.children||[]),N.return=z,N)}function F(z,N,B,$,ct){return N===null||N.tag!==7?(N=pa(B,z.mode,$,ct),N.return=z,N):(N=h(N,B),N.return=z,N)}function J(z,N,B){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=tf(""+N,z.mode,B),N.return=z,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case d:return B=yu(N.type,N.key,N.props,null,z.mode,B),gl(B,N),B.return=z,B;case g:return N=ef(N,z.mode,B),N.return=z,N;case et:var $=N._init;return N=$(N._payload),J(z,N,B)}if(lt(N)||Et(N))return N=pa(N,z.mode,B,null),N.return=z,N;if(typeof N.then=="function")return J(z,Jo(N),B);if(N.$$typeof===M)return J(z,mu(z,N),B);Wo(z,N)}return null}function q(z,N,B,$){var ct=N!==null?N.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ct!==null?null:E(z,N,""+B,$);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case d:return B.key===ct?C(z,N,B,$):null;case g:return B.key===ct?U(z,N,B,$):null;case et:return ct=B._init,B=ct(B._payload),q(z,N,B,$)}if(lt(B)||Et(B))return ct!==null?null:F(z,N,B,$,null);if(typeof B.then=="function")return q(z,N,Jo(B),$);if(B.$$typeof===M)return q(z,N,mu(z,B),$);Wo(z,B)}return null}function Q(z,N,B,$,ct){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return z=z.get(B)||null,E(N,z,""+$,ct);if(typeof $=="object"&&$!==null){switch($.$$typeof){case d:return z=z.get($.key===null?B:$.key)||null,C(N,z,$,ct);case g:return z=z.get($.key===null?B:$.key)||null,U(N,z,$,ct);case et:var Vt=$._init;return $=Vt($._payload),Q(z,N,B,$,ct)}if(lt($)||Et($))return z=z.get(B)||null,F(N,z,$,ct,null);if(typeof $.then=="function")return Q(z,N,B,Jo($),ct);if($.$$typeof===M)return Q(z,N,B,mu(N,$),ct);Wo(N,$)}return null}function ht(z,N,B,$){for(var ct=null,Vt=null,mt=N,yt=N=0,Me=null;mt!==null&&yt<B.length;yt++){mt.index>yt?(Me=mt,mt=null):Me=mt.sibling;var qt=q(z,mt,B[yt],$);if(qt===null){mt===null&&(mt=Me);break}t&&mt&&qt.alternate===null&&n(z,mt),N=f(qt,N,yt),Vt===null?ct=qt:Vt.sibling=qt,Vt=qt,mt=Me}if(yt===B.length)return r(z,mt),Bt&&aa(z,yt),ct;if(mt===null){for(;yt<B.length;yt++)mt=J(z,B[yt],$),mt!==null&&(N=f(mt,N,yt),Vt===null?ct=mt:Vt.sibling=mt,Vt=mt);return Bt&&aa(z,yt),ct}for(mt=l(mt);yt<B.length;yt++)Me=Q(mt,z,yt,B[yt],$),Me!==null&&(t&&Me.alternate!==null&&mt.delete(Me.key===null?yt:Me.key),N=f(Me,N,yt),Vt===null?ct=Me:Vt.sibling=Me,Vt=Me);return t&&mt.forEach(function(wr){return n(z,wr)}),Bt&&aa(z,yt),ct}function At(z,N,B,$){if(B==null)throw Error(s(151));for(var ct=null,Vt=null,mt=N,yt=N=0,Me=null,qt=B.next();mt!==null&&!qt.done;yt++,qt=B.next()){mt.index>yt?(Me=mt,mt=null):Me=mt.sibling;var wr=q(z,mt,qt.value,$);if(wr===null){mt===null&&(mt=Me);break}t&&mt&&wr.alternate===null&&n(z,mt),N=f(wr,N,yt),Vt===null?ct=wr:Vt.sibling=wr,Vt=wr,mt=Me}if(qt.done)return r(z,mt),Bt&&aa(z,yt),ct;if(mt===null){for(;!qt.done;yt++,qt=B.next())qt=J(z,qt.value,$),qt!==null&&(N=f(qt,N,yt),Vt===null?ct=qt:Vt.sibling=qt,Vt=qt);return Bt&&aa(z,yt),ct}for(mt=l(mt);!qt.done;yt++,qt=B.next())qt=Q(mt,z,yt,qt.value,$),qt!==null&&(t&&qt.alternate!==null&&mt.delete(qt.key===null?yt:qt.key),N=f(qt,N,yt),Vt===null?ct=qt:Vt.sibling=qt,Vt=qt);return t&&mt.forEach(function(vT){return n(z,vT)}),Bt&&aa(z,yt),ct}function le(z,N,B,$){if(typeof B=="object"&&B!==null&&B.type===p&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case d:t:{for(var ct=B.key;N!==null;){if(N.key===ct){if(ct=B.type,ct===p){if(N.tag===7){r(z,N.sibling),$=h(N,B.props.children),$.return=z,z=$;break t}}else if(N.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===et&&Hm(ct)===N.type){r(z,N.sibling),$=h(N,B.props),gl($,B),$.return=z,z=$;break t}r(z,N);break}else n(z,N);N=N.sibling}B.type===p?($=pa(B.props.children,z.mode,$,B.key),$.return=z,z=$):($=yu(B.type,B.key,B.props,null,z.mode,$),gl($,B),$.return=z,z=$)}return v(z);case g:t:{for(ct=B.key;N!==null;){if(N.key===ct)if(N.tag===4&&N.stateNode.containerInfo===B.containerInfo&&N.stateNode.implementation===B.implementation){r(z,N.sibling),$=h(N,B.children||[]),$.return=z,z=$;break t}else{r(z,N);break}else n(z,N);N=N.sibling}$=ef(B,z.mode,$),$.return=z,z=$}return v(z);case et:return ct=B._init,B=ct(B._payload),le(z,N,B,$)}if(lt(B))return ht(z,N,B,$);if(Et(B)){if(ct=Et(B),typeof ct!="function")throw Error(s(150));return B=ct.call(B),At(z,N,B,$)}if(typeof B.then=="function")return le(z,N,Jo(B),$);if(B.$$typeof===M)return le(z,N,mu(z,B),$);Wo(z,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,N!==null&&N.tag===6?(r(z,N.sibling),$=h(N,B),$.return=z,z=$):(r(z,N),$=tf(B,z.mode,$),$.return=z,z=$),v(z)):r(z,N)}return function(z,N,B,$){try{ml=0;var ct=le(z,N,B,$);return Za=null,ct}catch(mt){if(mt===fl)throw mt;var Vt=Vn(29,mt,null,z.mode);return Vt.lanes=$,Vt.return=z,Vt}finally{}}}var la=Gm(!0),Qm=Gm(!1),Ja=Pt(null),tu=Pt(0);function Fm(t,n){t=xi,Qt(tu,t),Qt(Ja,n),xi=t|n.baseLanes}function lh(){Qt(tu,xi),Qt(Ja,Ja.current)}function oh(){xi=tu.current,ie(Ja),ie(tu)}var wn=Pt(null),Jn=null;function or(t){var n=t.alternate;Qt(Ae,Ae.current&1),Qt(wn,t),Jn===null&&(n===null||Ja.current!==null||n.memoizedState!==null)&&(Jn=t)}function Km(t){if(t.tag===22){if(Qt(Ae,Ae.current),Qt(wn,t),Jn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Jn=t)}}else ur()}function ur(){Qt(Ae,Ae.current),Qt(wn,wn.current)}function bi(t){ie(wn),Jn===t&&(Jn=null),ie(Ae)}var Ae=Pt(0);function eu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var s0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},l0=a.unstable_scheduleCallback,o0=a.unstable_NormalPriority,Se={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uh(){return{controller:new s0,data:new Map,refCount:0}}function pl(t){t.refCount--,t.refCount===0&&l0(o0,function(){t.controller.abort()})}var yl=null,ch=0,Wa=0,ts=null;function u0(t,n){if(yl===null){var r=yl=[];ch=0,Wa=yf(),ts={status:"pending",value:void 0,then:function(l){r.push(l)}}}return ch++,n.then(Ym,Ym),n}function Ym(){if(--ch===0&&yl!==null){ts!==null&&(ts.status="fulfilled");var t=yl;yl=null,Wa=0,ts=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function c0(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var Xm=S.S;S.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&u0(t,n),Xm!==null&&Xm(t,n)};var oa=Pt(null);function hh(){var t=oa.current;return t!==null?t:Xt.pooledCache}function nu(t,n){n===null?Qt(oa,oa.current):Qt(oa,n.pool)}function $m(){var t=hh();return t===null?null:{parent:Se._currentValue,pool:t}}var cr=0,Ct=null,Ft=null,de=null,iu=!1,es=!1,ua=!1,ru=0,_l=0,ns=null,h0=0;function ue(){throw Error(s(321))}function fh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!on(t[r],n[r]))return!1;return!0}function dh(t,n,r,l,h,f){return cr=f,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,S.H=t===null||t.memoizedState===null?ca:hr,ua=!1,f=r(l,h),ua=!1,es&&(f=Jm(n,r,l,h)),Zm(t),f}function Zm(t){S.H=Wn;var n=Ft!==null&&Ft.next!==null;if(cr=0,de=Ft=Ct=null,iu=!1,_l=0,ns=null,n)throw Error(s(300));t===null||Ne||(t=t.dependencies,t!==null&&du(t)&&(Ne=!0))}function Jm(t,n,r,l){Ct=t;var h=0;do{if(es&&(ns=null),_l=0,es=!1,25<=h)throw Error(s(301));if(h+=1,de=Ft=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}S.H=ha,f=n(r,l)}while(es);return f}function f0(){var t=S.H,n=t.useState()[0];return n=typeof n.then=="function"?vl(n):n,t=t.useState()[0],(Ft!==null?Ft.memoizedState:null)!==t&&(Ct.flags|=1024),n}function mh(){var t=ru!==0;return ru=0,t}function gh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function ph(t){if(iu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}iu=!1}cr=0,de=Ft=Ct=null,es=!1,_l=ru=0,ns=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?Ct.memoizedState=de=t:de=de.next=t,de}function me(){if(Ft===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var n=de===null?Ct.memoizedState:de.next;if(n!==null)de=n,Ft=t;else{if(t===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},de===null?Ct.memoizedState=de=t:de=de.next=t}return de}var au;au=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function vl(t){var n=_l;return _l+=1,ns===null&&(ns=[]),t=qm(ns,t,n),n=Ct,(de===null?n.memoizedState:de.next)===null&&(n=n.alternate,S.H=n===null||n.memoizedState===null?ca:hr),t}function su(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return vl(t);if(t.$$typeof===M)return He(t)}throw Error(s(438,String(t)))}function yh(t){var n=null,r=Ct.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=au(),Ct.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=st;return n.index++,r}function Ri(t,n){return typeof n=="function"?n(t):n}function lu(t){var n=me();return _h(n,Ft,t)}function _h(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=v=null,C=null,U=n,F=!1;do{var J=U.lane&-536870913;if(J!==U.lane?(Ut&J)===J:(cr&J)===J){var q=U.revertLane;if(q===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),J===Wa&&(F=!0);else if((cr&q)===q){U=U.next,q===Wa&&(F=!0);continue}else J={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(E=C=J,v=f):C=C.next=J,Ct.lanes|=q,Er|=q;J=U.action,ua&&r(f,J),f=U.hasEagerState?U.eagerState:r(f,J)}else q={lane:J,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(E=C=q,v=f):C=C.next=q,Ct.lanes|=J,Er|=J;U=U.next}while(U!==null&&U!==n);if(C===null?v=f:C.next=E,!on(f,t.memoizedState)&&(Ne=!0,F&&(r=ts,r!==null)))throw r;t.memoizedState=f,t.baseState=v,t.baseQueue=C,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function vh(t){var n=me(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);on(f,n.memoizedState)||(Ne=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Wm(t,n,r){var l=Ct,h=me(),f=Bt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var v=!on((Ft||h).memoizedState,r);if(v&&(h.memoizedState=r,Ne=!0),h=h.queue,Ah(ng.bind(null,l,h,t),[t]),h.getSnapshot!==n||v||de!==null&&de.memoizedState.tag&1){if(l.flags|=2048,is(9,eg.bind(null,l,h,r,n),{destroy:void 0},null),Xt===null)throw Error(s(349));f||(cr&60)!==0||tg(l,n,r)}return r}function tg(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Ct.updateQueue,n===null?(n=au(),Ct.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function eg(t,n,r,l){n.value=r,n.getSnapshot=l,ig(n)&&rg(t)}function ng(t,n,r){return r(function(){ig(n)&&rg(t)})}function ig(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!on(t,r)}catch{return!0}}function rg(t){var n=lr(t,2);n!==null&&We(n,t,2)}function Eh(t){var n=nn();if(typeof t=="function"){var r=t;if(t=r(),ua){Bn(!0);try{r()}finally{Bn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:t},n}function ag(t,n,r,l){return t.baseState=r,_h(t,Ft,typeof l=="function"?l:Ri)}function d0(t,n,r,l,h){if(cu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};S.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,sg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function sg(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=S.T,v={};S.T=v;try{var E=r(h,l),C=S.S;C!==null&&C(v,E),lg(t,n,E)}catch(U){Th(t,n,U)}finally{S.T=f}}else try{f=r(h,l),lg(t,n,f)}catch(U){Th(t,n,U)}}function lg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){og(t,n,l)},function(l){return Th(t,n,l)}):og(t,n,r)}function og(t,n,r){n.status="fulfilled",n.value=r,ug(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,sg(t,r)))}function Th(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,ug(n),n=n.next;while(n!==l)}t.action=null}function ug(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function cg(t,n){return n}function hg(t,n){if(Bt){var r=Xt.formState;if(r!==null){t:{var l=Ct;if(Bt){if(Le){e:{for(var h=Le,f=Zn;h.nodeType!==8;){if(!f){h=null;break e}if(h=zn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Le=zn(h.nextSibling),l=h.data==="F!";break t}}sa(l)}l=!1}l&&(n=r[0])}}return r=nn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cg,lastRenderedState:n},r.queue=l,r=Vg.bind(null,Ct,l),l.dispatch=r,l=Eh(!1),f=Ch.bind(null,Ct,!1,l.queue),l=nn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=d0.bind(null,Ct,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function fg(t){var n=me();return dg(n,Ft,t)}function dg(t,n,r){n=_h(t,n,cg)[0],t=lu(Ri)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?vl(n):n;var l=me(),h=l.queue,f=h.dispatch;return r!==l.memoizedState&&(Ct.flags|=2048,is(9,m0.bind(null,h,r),{destroy:void 0},null)),[n,f,t]}function m0(t,n){t.action=n}function mg(t){var n=me(),r=Ft;if(r!==null)return dg(n,r,t);me(),n=n.memoizedState,r=me();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function is(t,n,r,l){return t={tag:t,create:n,inst:r,deps:l,next:null},n=Ct.updateQueue,n===null&&(n=au(),Ct.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function gg(){return me().memoizedState}function ou(t,n,r,l){var h=nn();Ct.flags|=t,h.memoizedState=is(1|n,r,{destroy:void 0},l===void 0?null:l)}function uu(t,n,r,l){var h=me();l=l===void 0?null:l;var f=h.memoizedState.inst;Ft!==null&&l!==null&&fh(l,Ft.memoizedState.deps)?h.memoizedState=is(n,r,f,l):(Ct.flags|=t,h.memoizedState=is(1|n,r,f,l))}function pg(t,n){ou(8390656,8,t,n)}function Ah(t,n){uu(2048,8,t,n)}function yg(t,n){return uu(4,2,t,n)}function _g(t,n){return uu(4,4,t,n)}function vg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Eg(t,n,r){r=r!=null?r.concat([t]):null,uu(4,4,vg.bind(null,n,t),r)}function Sh(){}function Tg(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&fh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Ag(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&fh(n,l[1]))return l[0];if(l=t(),ua){Bn(!0);try{t()}finally{Bn(!1)}}return r.memoizedState=[l,n],l}function bh(t,n,r){return r===void 0||(cr&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=bp(),Ct.lanes|=t,Er|=t,r)}function Sg(t,n,r,l){return on(r,n)?r:Ja.current!==null?(t=bh(t,r,l),on(t,n)||(Ne=!0),t):(cr&42)===0?(Ne=!0,t.memoizedState=r):(t=bp(),Ct.lanes|=t,Er|=t,n)}function bg(t,n,r,l,h){var f=ot.p;ot.p=f!==0&&8>f?f:8;var v=S.T,E={};S.T=E,Ch(t,!1,n,r);try{var C=h(),U=S.S;if(U!==null&&U(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=c0(C,l);El(t,n,F,fn(t))}else El(t,n,l,fn(t))}catch(J){El(t,n,{then:function(){},status:"rejected",reason:J},fn())}finally{ot.p=f,S.T=v}}function g0(){}function Rh(t,n,r,l){if(t.tag!==5)throw Error(s(476));var h=Rg(t).queue;bg(t,h,n,wt,r===null?g0:function(){return wg(t),r(l)})}function Rg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:wt,baseState:wt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:wt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function wg(t){var n=Rg(t).next.queue;El(t,n,{},fn())}function wh(){return He(Bl)}function Cg(){return me().memoizedState}function Dg(){return me().memoizedState}function p0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=fn();t=mr(r);var l=gr(n,t,r);l!==null&&(We(l,n,r),Sl(l,n,r)),n={cache:uh()},t.payload=n;return}n=n.return}}function y0(t,n,r){var l=fn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},cu(t)?Ig(n,r):(r=nh(t,n,r,l),r!==null&&(We(r,t,l),Ng(r,n,l)))}function Vg(t,n,r){var l=fn();El(t,n,r,l)}function El(t,n,r,l){var h={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(cu(t))Ig(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,E=f(v,r);if(h.hasEagerState=!0,h.eagerState=E,on(E,v))return Ko(t,n,h,0),Xt===null&&Fo(),!1}catch{}finally{}if(r=nh(t,n,h,l),r!==null)return We(r,t,l),Ng(r,n,l),!0}return!1}function Ch(t,n,r,l){if(l={lane:2,revertLane:yf(),action:l,hasEagerState:!1,eagerState:null,next:null},cu(t)){if(n)throw Error(s(479))}else n=nh(t,r,l,2),n!==null&&We(n,t,2)}function cu(t){var n=t.alternate;return t===Ct||n!==null&&n===Ct}function Ig(t,n){es=iu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Ng(t,n,r){if((r&4194176)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Zi(t,r)}}var Wn={readContext:He,use:su,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue};Wn.useCacheRefresh=ue,Wn.useMemoCache=ue,Wn.useHostTransitionStatus=ue,Wn.useFormState=ue,Wn.useActionState=ue,Wn.useOptimistic=ue;var ca={readContext:He,use:su,useCallback:function(t,n){return nn().memoizedState=[t,n===void 0?null:n],t},useContext:He,useEffect:pg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,ou(4194308,4,vg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return ou(4194308,4,t,n)},useInsertionEffect:function(t,n){ou(4,2,t,n)},useMemo:function(t,n){var r=nn();n=n===void 0?null:n;var l=t();if(ua){Bn(!0);try{t()}finally{Bn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=nn();if(r!==void 0){var h=r(n);if(ua){Bn(!0);try{r(n)}finally{Bn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=y0.bind(null,Ct,t),[l.memoizedState,t]},useRef:function(t){var n=nn();return t={current:t},n.memoizedState=t},useState:function(t){t=Eh(t);var n=t.queue,r=Vg.bind(null,Ct,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Sh,useDeferredValue:function(t,n){var r=nn();return bh(r,t,n)},useTransition:function(){var t=Eh(!1);return t=bg.bind(null,Ct,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Ct,h=nn();if(Bt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Xt===null)throw Error(s(349));(Ut&60)!==0||tg(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,pg(ng.bind(null,l,f,t),[t]),l.flags|=2048,is(9,eg.bind(null,l,f,r,n),{destroy:void 0},null),r},useId:function(){var t=nn(),n=Xt.identifierPrefix;if(Bt){var r=Si,l=Ai;r=(l&~(1<<32-Xe(l)-1)).toString(32)+r,n=":"+n+"R"+r,r=ru++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=h0++,n=":"+n+"r"+r.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return nn().memoizedState=p0.bind(null,Ct)}};ca.useMemoCache=yh,ca.useHostTransitionStatus=wh,ca.useFormState=hg,ca.useActionState=hg,ca.useOptimistic=function(t){var n=nn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Ch.bind(null,Ct,!0,r),r.dispatch=n,[t,n]};var hr={readContext:He,use:su,useCallback:Tg,useContext:He,useEffect:Ah,useImperativeHandle:Eg,useInsertionEffect:yg,useLayoutEffect:_g,useMemo:Ag,useReducer:lu,useRef:gg,useState:function(){return lu(Ri)},useDebugValue:Sh,useDeferredValue:function(t,n){var r=me();return Sg(r,Ft.memoizedState,t,n)},useTransition:function(){var t=lu(Ri)[0],n=me().memoizedState;return[typeof t=="boolean"?t:vl(t),n]},useSyncExternalStore:Wm,useId:Cg};hr.useCacheRefresh=Dg,hr.useMemoCache=yh,hr.useHostTransitionStatus=wh,hr.useFormState=fg,hr.useActionState=fg,hr.useOptimistic=function(t,n){var r=me();return ag(r,Ft,t,n)};var ha={readContext:He,use:su,useCallback:Tg,useContext:He,useEffect:Ah,useImperativeHandle:Eg,useInsertionEffect:yg,useLayoutEffect:_g,useMemo:Ag,useReducer:vh,useRef:gg,useState:function(){return vh(Ri)},useDebugValue:Sh,useDeferredValue:function(t,n){var r=me();return Ft===null?bh(r,t,n):Sg(r,Ft.memoizedState,t,n)},useTransition:function(){var t=vh(Ri)[0],n=me().memoizedState;return[typeof t=="boolean"?t:vl(t),n]},useSyncExternalStore:Wm,useId:Cg};ha.useCacheRefresh=Dg,ha.useMemoCache=yh,ha.useHostTransitionStatus=wh,ha.useFormState=mg,ha.useActionState=mg,ha.useOptimistic=function(t,n){var r=me();return Ft!==null?ag(r,Ft,t,n):(r.baseState=t,[t,r.queue.dispatch])};function Dh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:D({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Vh={isMounted:function(t){return(t=t._reactInternals)?gt(t)===t:!1},enqueueSetState:function(t,n,r){t=t._reactInternals;var l=fn(),h=mr(l);h.payload=n,r!=null&&(h.callback=r),n=gr(t,h,l),n!==null&&(We(n,t,l),Sl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=fn(),h=mr(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=gr(t,h,l),n!==null&&(We(n,t,l),Sl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=fn(),l=mr(r);l.tag=2,n!=null&&(l.callback=n),n=gr(t,l,r),n!==null&&(We(n,t,r),Sl(n,t,r))}};function Og(t,n,r,l,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!ll(r,l)||!ll(h,f):!0}function Mg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Vh.enqueueReplaceState(n,n.state,null)}function fa(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=D({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}var hu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function xg(t){hu(t)}function Ug(t){console.error(t)}function Lg(t){hu(t)}function fu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function zg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ih(t,n,r){return r=mr(r),r.tag=3,r.payload={element:null},r.callback=function(){fu(t,n)},r}function Pg(t){return t=mr(t),t.tag=3,t}function kg(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){zg(n,r,l)}}var v=r.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){zg(n,r,l),typeof h!="function"&&(Tr===null?Tr=new Set([this]):Tr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function _0(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Al(n,r,h,!0),r=wn.current,r!==null){switch(r.tag){case 13:return Jn===null?ff():r.alternate===null&&se===0&&(se=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===sh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),mf(t,l,h)),!1;case 22:return r.flags|=65536,l===sh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),mf(t,l,h)),!1}throw Error(s(435,r.tag))}return mf(t,l,h),ff(),!1}if(Bt)return n=wn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==ah&&(t=Error(s(422),{cause:l}),hl(Sn(t,r)))):(l!==ah&&(n=Error(s(423),{cause:l}),hl(Sn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Sn(l,r),h=Ih(t.stateNode,l,h),Qh(t,h),se!==4&&(se=2)),!1;var f=Error(s(520),{cause:l});if(f=Sn(f,r),Nl===null?Nl=[f]:Nl.push(f),se!==4&&(se=2),n===null)return!0;l=Sn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Ih(r.stateNode,l,t),Qh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Tr===null||!Tr.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Pg(h),kg(h,t,r,l),Qh(r,h),!1}r=r.return}while(r!==null);return!1}var Bg=Error(s(461)),Ne=!1;function ze(t,n,r,l){n.child=t===null?Qm(n,null,r,l):la(n,t.child,r,l)}function qg(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return ma(n),l=dh(t,n,r,v,f,h),E=mh(),t!==null&&!Ne?(gh(t,n,h),wi(t,n,h)):(Bt&&E&&ih(n),n.flags|=1,ze(t,n,l,h),n.child)}function jg(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!Wh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Hg(t,n,f,l,h)):(t=yu(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!kh(t,h)){var v=f.memoizedProps;if(r=r.compare,r=r!==null?r:ll,r(v,l)&&t.ref===n.ref)return wi(t,n,h)}return n.flags|=1,t=vr(f,l),t.ref=n.ref,t.return=n,n.child=t}function Hg(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(ll(f,l)&&t.ref===n.ref)if(Ne=!1,n.pendingProps=l=f,kh(t,h))(t.flags&131072)!==0&&(Ne=!0);else return n.lanes=t.lanes,wi(t,n,h)}return Nh(t,n,r,l,h)}function Gg(t,n,r){var l=n.pendingProps,h=l.children,f=(n.stateNode._pendingVisibility&2)!==0,v=t!==null?t.memoizedState:null;if(Tl(t,n),l.mode==="hidden"||f){if((n.flags&128)!==0){if(l=v!==null?v.baseLanes|r:r,t!==null){for(h=n.child=t.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Qg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&nu(n,v!==null?v.cachePool:null),v!==null?Fm(n,v):lh(),Km(n);else return n.lanes=n.childLanes=536870912,Qg(t,n,v!==null?v.baseLanes|r:r,r)}else v!==null?(nu(n,v.cachePool),Fm(n,v),ur(),n.memoizedState=null):(t!==null&&nu(n,null),lh(),ur());return ze(t,n,h,r),n.child}function Qg(t,n,r,l){var h=hh();return h=h===null?null:{parent:Se._currentValue,pool:h},n.memoizedState={baseLanes:r,cachePool:h},t!==null&&nu(n,null),lh(),Km(n),t!==null&&Al(t,n,l,!0),null}function Tl(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=2097664)}}function Nh(t,n,r,l,h){return ma(n),r=dh(t,n,r,l,void 0,h),l=mh(),t!==null&&!Ne?(gh(t,n,h),wi(t,n,h)):(Bt&&l&&ih(n),n.flags|=1,ze(t,n,r,h),n.child)}function Fg(t,n,r,l,h,f){return ma(n),n.updateQueue=null,r=Jm(n,l,r,h),Zm(t),l=mh(),t!==null&&!Ne?(gh(t,n,f),wi(t,n,f)):(Bt&&l&&ih(n),n.flags|=1,ze(t,n,r,f),n.child)}function Kg(t,n,r,l,h){if(ma(n),n.stateNode===null){var f=Ya,v=r.contextType;typeof v=="object"&&v!==null&&(f=He(v)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Vh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Hh(n),v=r.contextType,f.context=typeof v=="object"&&v!==null?He(v):Ya,f.state=n.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(Dh(n,r,v,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Vh.enqueueReplaceState(f,f.state,null),Rl(n,l,f,h),bl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,C=fa(r,E);f.props=C;var U=f.context,F=r.contextType;v=Ya,typeof F=="object"&&F!==null&&(v=He(F));var J=r.getDerivedStateFromProps;F=typeof J=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||U!==v)&&Mg(n,f,l,v),dr=!1;var q=n.memoizedState;f.state=q,Rl(n,l,f,h),bl(),U=n.memoizedState,E||q!==U||dr?(typeof J=="function"&&(Dh(n,r,J,l),U=n.memoizedState),(C=dr||Og(n,r,C,l,q,U,v))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=U),f.props=l,f.state=U,f.context=v,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Gh(t,n),v=n.memoizedProps,F=fa(r,v),f.props=F,J=n.pendingProps,q=f.context,U=r.contextType,C=Ya,typeof U=="object"&&U!==null&&(C=He(U)),E=r.getDerivedStateFromProps,(U=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==J||q!==C)&&Mg(n,f,l,C),dr=!1,q=n.memoizedState,f.state=q,Rl(n,l,f,h),bl();var Q=n.memoizedState;v!==J||q!==Q||dr||t!==null&&t.dependencies!==null&&du(t.dependencies)?(typeof E=="function"&&(Dh(n,r,E,l),Q=n.memoizedState),(F=dr||Og(n,r,F,l,q,Q,C)||t!==null&&t.dependencies!==null&&du(t.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,Q,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,Q,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Q),f.props=l,f.state=Q,f.context=C,l=F):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Tl(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=la(n,t.child,null,h),n.child=la(n,null,r,h)):ze(t,n,r,h),n.memoizedState=f.state,t=n.child):t=wi(t,n,h),t}function Yg(t,n,r,l){return cl(),n.flags|=256,ze(t,n,r,l),n.child}var Oh={dehydrated:null,treeContext:null,retryLane:0};function Mh(t){return{baseLanes:t,cachePool:$m()}}function xh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=In),t}function Xg(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(h?or(n):ur(),Bt){var E=Le,C;if(C=E){t:{for(C=E,E=Zn;C.nodeType!==8;){if(!E){E=null;break t}if(C=zn(C.nextSibling),C===null){E=null;break t}}E=C}E!==null?(n.memoizedState={dehydrated:E,treeContext:ra!==null?{id:Ai,overflow:Si}:null,retryLane:536870912},C=Vn(18,null,null,0),C.stateNode=E,C.return=n,n.child=C,Je=n,Le=null,C=!0):C=!1}C||sa(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?n.lanes=16:n.lanes=536870912,null;bi(n)}return E=l.children,l=l.fallback,h?(ur(),h=n.mode,E=Lh({mode:"hidden",children:E},h),l=pa(l,h,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,h=n.child,h.memoizedState=Mh(r),h.childLanes=xh(t,v,r),n.memoizedState=Oh,l):(or(n),Uh(n,E))}if(C=t.memoizedState,C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(or(n),n.flags&=-257,n=zh(t,n,r)):n.memoizedState!==null?(ur(),n.child=t.child,n.flags|=128,n=null):(ur(),h=l.fallback,E=n.mode,l=Lh({mode:"visible",children:l.children},E),h=pa(h,E,r,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,la(n,t.child,null,r),l=n.child,l.memoizedState=Mh(r),l.childLanes=xh(t,v,r),n.memoizedState=Oh,n=h);else if(or(n),E.data==="$!"){if(v=E.nextSibling&&E.nextSibling.dataset,v)var U=v.dgst;v=U,l=Error(s(419)),l.stack="",l.digest=v,hl({value:l,source:null,stack:null}),n=zh(t,n,r)}else if(Ne||Al(t,n,r,!1),v=(r&t.childLanes)!==0,Ne||v){if(v=Xt,v!==null){if(l=r&-r,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(v.suspendedLanes|r))!==0?0:l,l!==0&&l!==C.retryLane)throw C.retryLane=l,lr(t,l),We(v,t,l),Bg}E.data==="$?"||ff(),n=zh(t,n,r)}else E.data==="$?"?(n.flags|=128,n.child=t.child,n=M0.bind(null,t),E._reactRetry=n,n=null):(t=C.treeContext,Le=zn(E.nextSibling),Je=n,Bt=!0,Un=null,Zn=!1,t!==null&&(bn[Rn++]=Ai,bn[Rn++]=Si,bn[Rn++]=ra,Ai=t.id,Si=t.overflow,ra=n),n=Uh(n,l.children),n.flags|=4096);return n}return h?(ur(),h=l.fallback,E=n.mode,C=t.child,U=C.sibling,l=vr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&31457280,U!==null?h=vr(U,h):(h=pa(h,E,r,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,E=t.child.memoizedState,E===null?E=Mh(r):(C=E.cachePool,C!==null?(U=Se._currentValue,C=C.parent!==U?{parent:U,pool:U}:C):C=$m(),E={baseLanes:E.baseLanes|r,cachePool:C}),h.memoizedState=E,h.childLanes=xh(t,v,r),n.memoizedState=Oh,l):(or(n),r=t.child,t=r.sibling,r=vr(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=r,n.memoizedState=null,r)}function Uh(t,n){return n=Lh({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Lh(t,n){return Tp(t,n,0,null)}function zh(t,n,r){return la(n,t.child,null,r),t=Uh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function $g(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),qh(t.return,n,r)}function Ph(t,n,r,l,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=h)}function Zg(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;if(ze(t,n,l.children,r),l=Ae.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$g(t,r,n);else if(t.tag===19)$g(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Qt(Ae,l),h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&eu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Ph(n,!1,h,r,f);break;case"backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&eu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Ph(n,!0,r,null,f);break;case"together":Ph(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function wi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Er|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Al(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=vr(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=vr(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function kh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&du(t)))}function v0(t,n,r){switch(n.tag){case 3:Qi(n,n.stateNode.containerInfo),fr(n,Se,t.memoizedState.cache),cl();break;case 27:case 5:Bs(n);break;case 4:Qi(n,n.stateNode.containerInfo);break;case 10:fr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(or(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Xg(t,n,r):(or(n),t=wi(t,n,r),t!==null?t.sibling:null);or(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Al(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return Zg(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Qt(Ae,Ae.current),l)break;return null;case 22:case 23:return n.lanes=0,Gg(t,n,r);case 24:fr(n,Se,t.memoizedState.cache)}return wi(t,n,r)}function Jg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ne=!0;else{if(!kh(t,r)&&(n.flags&128)===0)return Ne=!1,v0(t,n,r);Ne=(t.flags&131072)!==0}else Ne=!1,Bt&&(n.flags&1048576)!==0&&Lm(n,$o,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")Wh(l)?(t=fa(l,t),n.tag=1,n=Kg(null,n,l,t,r)):(n.tag=0,n=Nh(null,n,l,t,r));else{if(l!=null){if(h=l.$$typeof,h===L){n.tag=11,n=qg(null,n,l,t,r);break t}else if(h===Y){n.tag=14,n=jg(null,n,l,t,r);break t}}throw n=w(l)||l,Error(s(306,n,""))}}return n;case 0:return Nh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=fa(l,n.pendingProps),Kg(t,n,l,h,r);case 3:t:{if(Qi(n,n.stateNode.containerInfo),t===null)throw Error(s(387));var f=n.pendingProps;h=n.memoizedState,l=h.element,Gh(t,n),Rl(n,f,null,r);var v=n.memoizedState;if(f=v.cache,fr(n,Se,f),f!==h.cache&&jh(n,[Se],r,!0),bl(),f=v.element,h.isDehydrated)if(h={element:f,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=Yg(t,n,f,r);break t}else if(f!==l){l=Sn(Error(s(424)),n),hl(l),n=Yg(t,n,f,r);break t}else for(Le=zn(n.stateNode.containerInfo.firstChild),Je=n,Bt=!0,Un=null,Zn=!0,r=Qm(n,null,f,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(cl(),f===l){n=wi(t,n,r);break t}ze(t,n,f,r)}n=n.child}return n;case 26:return Tl(t,n),t===null?(r=ey(n.type,null,n.pendingProps,null))?n.memoizedState=r:Bt||(r=n.type,t=n.pendingProps,l=Vu(gn.current).createElement(r),l[De]=n,l[ve]=t,Pe(l,r,t),Jt(l),n.stateNode=l):n.memoizedState=ey(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Bs(n),t===null&&Bt&&(l=n.stateNode=Jp(n.type,n.pendingProps,gn.current),Je=n,Zn=!0,Le=zn(l.firstChild)),l=n.pendingProps.children,t!==null||Bt?ze(t,n,l,r):n.child=la(n,null,l,r),Tl(t,n),n.child;case 5:return t===null&&Bt&&((h=l=Le)&&(l=X0(l,n.type,n.pendingProps,Zn),l!==null?(n.stateNode=l,Je=n,Le=zn(l.firstChild),Zn=!1,h=!0):h=!1),h||sa(n)),Bs(n),h=n.type,f=n.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,wf(h,f)?l=null:v!==null&&wf(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=dh(t,n,f0,null,null,r),Bl._currentValue=h),Tl(t,n),ze(t,n,l,r),n.child;case 6:return t===null&&Bt&&((t=r=Le)&&(r=$0(r,n.pendingProps,Zn),r!==null?(n.stateNode=r,Je=n,Le=null,t=!0):t=!1),t||sa(n)),null;case 13:return Xg(t,n,r);case 4:return Qi(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=la(n,null,l,r):ze(t,n,l,r),n.child;case 11:return qg(t,n,n.type,n.pendingProps,r);case 7:return ze(t,n,n.pendingProps,r),n.child;case 8:return ze(t,n,n.pendingProps.children,r),n.child;case 12:return ze(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,fr(n,n.type,l.value),ze(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,ma(n),h=He(h),l=l(h),n.flags|=1,ze(t,n,l,r),n.child;case 14:return jg(t,n,n.type,n.pendingProps,r);case 15:return Hg(t,n,n.type,n.pendingProps,r);case 19:return Zg(t,n,r);case 22:return Gg(t,n,r);case 24:return ma(n),l=He(Se),t===null?(h=hh(),h===null&&(h=Xt,f=uh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},Hh(n),fr(n,Se,h)):((t.lanes&r)!==0&&(Gh(t,n),Rl(n,null,null,r),bl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),fr(n,Se,l)):(l=f.cache,fr(n,Se,l),l!==h.cache&&jh(n,[Se],r,!0))),ze(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}var Bh=Pt(null),da=null,Ci=null;function fr(t,n,r){Qt(Bh,n._currentValue),n._currentValue=r}function Di(t){t._currentValue=Bh.current,ie(Bh)}function qh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function jh(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),qh(f.return,r,t),l||(v=null);break t}f=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=r,f=v.alternate,f!==null&&(f.lanes|=r),qh(v,r,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Al(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;on(h.pendingProps.value,v.value)||(t!==null?t.push(E):t=[E])}}else if(h===Gi.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Bl):t=[Bl])}h=h.return}t!==null&&jh(n,t,r,l),n.flags|=262144}function du(t){for(t=t.firstContext;t!==null;){if(!on(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ma(t){da=t,Ci=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function He(t){return Wg(da,t)}function mu(t,n){return da===null&&ma(t),Wg(t,n)}function Wg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ci===null){if(t===null)throw Error(s(308));Ci=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ci=Ci.next=n;return r}var dr=!1;function Hh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function mr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function gr(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(te&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Yo(t),xm(t,null,r),n}return Ko(t,l,n,r),Yo(t)}function Sl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Zi(t,r)}}function Qh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var v={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Fh=!1;function bl(){if(Fh){var t=ts;if(t!==null)throw t}}function Rl(t,n,r,l){Fh=!1;var h=t.updateQueue;dr=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,U=C.next;C.next=null,v===null?f=U:v.next=U,v=C;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==v&&(E===null?F.firstBaseUpdate=U:E.next=U,F.lastBaseUpdate=C))}if(f!==null){var J=h.baseState;v=0,F=U=C=null,E=f;do{var q=E.lane&-536870913,Q=q!==E.lane;if(Q?(Ut&q)===q:(l&q)===q){q!==0&&q===Wa&&(Fh=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ht=t,At=E;q=n;var le=r;switch(At.tag){case 1:if(ht=At.payload,typeof ht=="function"){J=ht.call(le,J,q);break t}J=ht;break t;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=At.payload,q=typeof ht=="function"?ht.call(le,J,q):ht,q==null)break t;J=D({},J,q);break t;case 2:dr=!0}}q=E.callback,q!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[q]:Q.push(q))}else Q={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(U=F=Q,C=J):F=F.next=Q,v|=q;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;Q=E,E=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);F===null&&(C=J),h.baseState=C,h.firstBaseUpdate=U,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Er|=v,t.lanes=v,t.memoizedState=J}}function tp(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function ep(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)tp(r[t],n)}function wl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,v=r.inst;l=f(),v.destroy=l}r=r.next}while(r!==h)}}catch(E){Yt(n,n.return,E)}}function pr(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=n;var C=r;try{E()}catch(U){Yt(h,C,U)}}}l=l.next}while(l!==f)}}catch(U){Yt(n,n.return,U)}}function np(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{ep(n,r)}catch(l){Yt(t,t.return,l)}}}function ip(t,n,r){r.props=fa(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Yt(t,n,l)}}function ga(t,n){try{var r=t.ref;if(r!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof r=="function"?t.refCleanup=r(h):r.current=h}}catch(f){Yt(t,n,f)}}function un(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){Yt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Yt(t,n,h)}else r.current=null}function rp(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){Yt(t,t.return,h)}}function ap(t,n,r){try{var l=t.stateNode;G0(l,t.type,r,n),l[ve]=n}catch(h){Yt(t,t.return,h)}}function sp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Kh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||sp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Du));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Yh(t,n,r),t=t.sibling;t!==null;)Yh(t,n,r),t=t.sibling}function gu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(gu(t,n,r),t=t.sibling;t!==null;)gu(t,n,r),t=t.sibling}var Vi=!1,ae=!1,Xh=!1,lp=typeof WeakSet=="function"?WeakSet:Set,Oe=null,op=!1;function E0(t,n){if(t=t.containerInfo,bf=Uu,t=Rm(t),Zc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var v=0,E=-1,C=-1,U=0,F=0,J=t,q=null;e:for(;;){for(var Q;J!==r||h!==0&&J.nodeType!==3||(E=v+h),J!==f||l!==0&&J.nodeType!==3||(C=v+l),J.nodeType===3&&(v+=J.nodeValue.length),(Q=J.firstChild)!==null;)q=J,J=Q;for(;;){if(J===t)break e;if(q===r&&++U===h&&(E=v),q===f&&++F===l&&(C=v),(Q=J.nextSibling)!==null)break;J=q,q=J.parentNode}J=Q}r=E===-1||C===-1?null:{start:E,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(Rf={focusedElem:t,selectionRange:r},Uu=!1,Oe=n;Oe!==null;)if(n=Oe,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Oe=t;else for(;Oe!==null;){switch(n=Oe,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var ht=fa(r.type,h,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(ht,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(At){Yt(r,r.return,At)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Vf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Vf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Oe=t;break}Oe=n.return}return ht=op,op=!1,ht}function up(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Ni(t,r),l&4&&wl(5,r);break;case 1:if(Ni(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(E){Yt(r,r.return,E)}else{var h=fa(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Yt(r,r.return,E)}}l&64&&np(r),l&512&&ga(r,r.return);break;case 3:if(Ni(t,r),l&64&&(l=r.updateQueue,l!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{ep(l,t)}catch(E){Yt(r,r.return,E)}}break;case 26:Ni(t,r),l&512&&ga(r,r.return);break;case 27:case 5:Ni(t,r),n===null&&l&4&&rp(r),l&512&&ga(r,r.return);break;case 12:Ni(t,r);break;case 13:Ni(t,r),l&4&&fp(t,r);break;case 22:if(h=r.memoizedState!==null||Vi,!h){n=n!==null&&n.memoizedState!==null||ae;var f=Vi,v=ae;Vi=h,(ae=n)&&!v?yr(t,r,(r.subtreeFlags&8772)!==0):Ni(t,r),Vi=f,ae=v}l&512&&(r.memoizedProps.mode==="manual"?ga(r,r.return):un(r,r.return));break;default:Ni(t,r)}}function cp(t){var n=t.alternate;n!==null&&(t.alternate=null,cp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Qr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ge=null,cn=!1;function Ii(t,n,r){for(r=r.child;r!==null;)hp(t,n,r),r=r.sibling}function hp(t,n,r){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(Fi,r)}catch{}switch(r.tag){case 26:ae||un(r,n),Ii(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ae||un(r,n);var l=ge,h=cn;for(ge=r.stateNode,Ii(t,n,r),r=r.stateNode,n=r.attributes;n.length;)r.removeAttributeNode(n[0]);Qr(r),ge=l,cn=h;break;case 5:ae||un(r,n);case 6:h=ge;var f=cn;if(ge=null,Ii(t,n,r),ge=h,cn=f,ge!==null)if(cn)try{t=ge,l=r.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(v){Yt(r,n,v)}else try{ge.removeChild(r.stateNode)}catch(v){Yt(r,n,v)}break;case 18:ge!==null&&(cn?(n=ge,r=r.stateNode,n.nodeType===8?Df(n.parentNode,r):n.nodeType===1&&Df(n,r),Gl(n)):Df(ge,r.stateNode));break;case 4:l=ge,h=cn,ge=r.stateNode.containerInfo,cn=!0,Ii(t,n,r),ge=l,cn=h;break;case 0:case 11:case 14:case 15:ae||pr(2,r,n),ae||pr(4,r,n),Ii(t,n,r);break;case 1:ae||(un(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&ip(r,n,l)),Ii(t,n,r);break;case 21:Ii(t,n,r);break;case 22:ae||un(r,n),ae=(l=ae)||r.memoizedState!==null,Ii(t,n,r),ae=l;break;default:Ii(t,n,r)}}function fp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Gl(t)}catch(r){Yt(n,n.return,r)}}function T0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new lp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new lp),n;default:throw Error(s(435,t.tag))}}function $h(t,n){var r=T0(t);n.forEach(function(l){var h=x0.bind(null,t,l);r.has(l)||(r.add(l),l.then(h,h))})}function Cn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,v=n,E=v;t:for(;E!==null;){switch(E.tag){case 27:case 5:ge=E.stateNode,cn=!1;break t;case 3:ge=E.stateNode.containerInfo,cn=!0;break t;case 4:ge=E.stateNode.containerInfo,cn=!0;break t}E=E.return}if(ge===null)throw Error(s(160));hp(f,v,h),ge=null,cn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)dp(n,t),n=n.sibling}var Ln=null;function dp(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Cn(n,t),Dn(t),l&4&&(pr(3,t,t.return),wl(3,t),pr(5,t,t.return));break;case 1:Cn(n,t),Dn(t),l&512&&(ae||r===null||un(r,r.return)),l&64&&Vi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=Ln;if(Cn(n,t),Dn(t),l&512&&(ae||r===null||un(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Wi]||f[De]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Pe(f,l,r),f[De]=t,Jt(f),l=f;break t;case"link":var v=ry("link","href",h).get(l+(r.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(r.href==null?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){v.splice(E,1);break e}}f=h.createElement(l),Pe(f,l,r),h.head.appendChild(f);break;case"meta":if(v=ry("meta","content",h).get(l+(r.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){v.splice(E,1);break e}}f=h.createElement(l),Pe(f,l,r),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[De]=t,Jt(f),l=f}t.stateNode=l}else ay(h,t.type,t.stateNode);else t.stateNode=iy(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?ay(h,t.type,t.stateNode):iy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ap(t,t.memoizedProps,r.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){h=t.stateNode,f=t.memoizedProps;try{for(var C=h.firstChild;C;){var U=C.nextSibling,F=C.nodeName;C[Wi]||F==="HEAD"||F==="BODY"||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&C.rel.toLowerCase()==="stylesheet"||h.removeChild(C),C=U}for(var J=t.type,q=h.attributes;q.length;)h.removeAttributeNode(q[0]);Pe(h,J,f),h[De]=t,h[ve]=f}catch(ht){Yt(t,t.return,ht)}}case 5:if(Cn(n,t),Dn(t),l&512&&(ae||r===null||un(r,r.return)),t.flags&32){h=t.stateNode;try{_n(h,"")}catch(ht){Yt(t,t.return,ht)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,ap(t,h,r!==null?r.memoizedProps:h)),l&1024&&(Xh=!0);break;case 6:if(Cn(n,t),Dn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(ht){Yt(t,t.return,ht)}}break;case 3:if(Ou=null,h=Ln,Ln=Iu(n.containerInfo),Cn(n,t),Ln=h,Dn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Gl(n.containerInfo)}catch(ht){Yt(t,t.return,ht)}Xh&&(Xh=!1,mp(t));break;case 4:l=Ln,Ln=Iu(t.stateNode.containerInfo),Cn(n,t),Dn(t),Ln=l;break;case 12:Cn(n,t),Dn(t);break;case 13:Cn(n,t),Dn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(sf=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,$h(t,l)));break;case 22:if(l&512&&(ae||r===null||un(r,r.return)),C=t.memoizedState!==null,U=r!==null&&r.memoizedState!==null,F=Vi,J=ae,Vi=F||C,ae=J||U,Cn(n,t),ae=J,Vi=F,Dn(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=C?n._visibility&-2:n._visibility|1,C&&(n=Vi||ae,r===null||U||n||rs(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(r=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(r===null){U=r=n;try{if(h=U.stateNode,C)f=h.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{v=U.stateNode,E=U.memoizedProps.style;var Q=E!=null&&E.hasOwnProperty("display")?E.display:null;v.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(ht){Yt(U,U.return,ht)}}}else if(n.tag===6){if(r===null){U=n;try{U.stateNode.nodeValue=C?"":U.memoizedProps}catch(ht){Yt(U,U.return,ht)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,$h(t,r))));break;case 19:Cn(n,t),Dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,$h(t,l)));break;case 21:break;default:Cn(n,t),Dn(t)}}function Dn(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var r=t.return;r!==null;){if(sp(r)){var l=r;break t}r=r.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,f=Kh(t);gu(t,f,h);break;case 5:var v=l.stateNode;l.flags&32&&(_n(v,""),l.flags&=-33);var E=Kh(t);gu(t,E,v);break;case 3:case 4:var C=l.stateNode.containerInfo,U=Kh(t);Yh(t,U,C);break;default:throw Error(s(161))}}}catch(F){Yt(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function mp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;mp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ni(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)up(t,n.alternate,n),n=n.sibling}function rs(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:pr(4,n,n.return),rs(n);break;case 1:un(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&ip(n,n.return,r),rs(n);break;case 26:case 27:case 5:un(n,n.return),rs(n);break;case 22:un(n,n.return),n.memoizedState===null&&rs(n);break;default:rs(n)}t=t.sibling}}function yr(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:yr(h,f,r),wl(4,f);break;case 1:if(yr(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){Yt(l,l.return,U)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)tp(C[h],E)}catch(U){Yt(l,l.return,U)}}r&&v&64&&np(f),ga(f,f.return);break;case 26:case 27:case 5:yr(h,f,r),r&&l===null&&v&4&&rp(f),ga(f,f.return);break;case 12:yr(h,f,r);break;case 13:yr(h,f,r),r&&v&4&&fp(h,f);break;case 22:f.memoizedState===null&&yr(h,f,r),ga(f,f.return);break;default:yr(h,f,r)}n=n.sibling}}function Zh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&pl(r))}function Jh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&pl(t))}function _r(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)gp(t,n,r,l),n=n.sibling}function gp(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:_r(t,n,r,l),h&2048&&wl(9,n);break;case 3:_r(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&pl(t)));break;case 12:if(h&2048){_r(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Yt(n,n.return,C)}}else _r(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?_r(t,n,r,l):Cl(t,n):f._visibility&4?_r(t,n,r,l):(f._visibility|=4,as(t,n,r,l,(n.subtreeFlags&10256)!==0)),h&2048&&Zh(n.alternate,n);break;case 24:_r(t,n,r,l),h&2048&&Jh(n.alternate,n);break;default:_r(t,n,r,l)}}function as(t,n,r,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,v=n,E=r,C=l,U=v.flags;switch(v.tag){case 0:case 11:case 15:as(f,v,E,C,h),wl(8,v);break;case 23:break;case 22:var F=v.stateNode;v.memoizedState!==null?F._visibility&4?as(f,v,E,C,h):Cl(f,v):(F._visibility|=4,as(f,v,E,C,h)),h&&U&2048&&Zh(v.alternate,v);break;case 24:as(f,v,E,C,h),h&&U&2048&&Jh(v.alternate,v);break;default:as(f,v,E,C,h)}n=n.sibling}}function Cl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:Cl(r,l),h&2048&&Zh(l.alternate,l);break;case 24:Cl(r,l),h&2048&&Jh(l.alternate,l);break;default:Cl(r,l)}n=n.sibling}}var Dl=8192;function ss(t){if(t.subtreeFlags&Dl)for(t=t.child;t!==null;)pp(t),t=t.sibling}function pp(t){switch(t.tag){case 26:ss(t),t.flags&Dl&&t.memoizedState!==null&&uT(Ln,t.memoizedState,t.memoizedProps);break;case 5:ss(t);break;case 3:case 4:var n=Ln;Ln=Iu(t.stateNode.containerInfo),ss(t),Ln=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Dl,Dl=16777216,ss(t),Dl=n):ss(t));break;default:ss(t)}}function yp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Vl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Oe=l,vp(l,t)}yp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)_p(t),t=t.sibling}function _p(t){switch(t.tag){case 0:case 11:case 15:Vl(t),t.flags&2048&&pr(9,t,t.return);break;case 3:Vl(t);break;case 12:Vl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,pu(t)):Vl(t);break;default:Vl(t)}}function pu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Oe=l,vp(l,t)}yp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:pr(8,n,n.return),pu(n);break;case 22:r=n.stateNode,r._visibility&4&&(r._visibility&=-5,pu(n));break;default:pu(n)}t=t.sibling}}function vp(t,n){for(;Oe!==null;){var r=Oe;switch(r.tag){case 0:case 11:case 15:pr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:pl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Oe=l;else t:for(r=t;Oe!==null;){l=Oe;var h=l.sibling,f=l.return;if(cp(l),l===r){Oe=null;break t}if(h!==null){h.return=f,Oe=h;break t}Oe=f}}}function A0(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,n,r,l){return new A0(t,n,r,l)}function Wh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vr(t,n){var r=t.alternate;return r===null?(r=Vn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&31457280,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Ep(t,n){t.flags&=31457282;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function yu(t,n,r,l,h,f){var v=0;if(l=t,typeof t=="function")Wh(t)&&(v=1);else if(typeof t=="string")v=lT(t,r,Ye.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case p:return pa(r.children,h,f,n);case y:v=8,h|=24;break;case T:return t=Vn(12,r,n,h|2),t.elementType=T,t.lanes=f,t;case K:return t=Vn(13,r,n,h),t.elementType=K,t.lanes=f,t;case j:return t=Vn(19,r,n,h),t.elementType=j,t.lanes=f,t;case X:return Tp(r,h,f,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case b:case M:v=10;break t;case R:v=9;break t;case L:v=11;break t;case Y:v=14;break t;case et:v=16,l=null;break t}v=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=Vn(v,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function pa(t,n,r,l){return t=Vn(7,t,l,n),t.lanes=r,t}function Tp(t,n,r,l){t=Vn(22,t,l,n),t.elementType=X,t.lanes=r;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=h._current;if(f===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var v=lr(f,2);v!==null&&(h._pendingVisibility|=2,We(v,f,2))}},attach:function(){var f=h._current;if(f===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var v=lr(f,2);v!==null&&(h._pendingVisibility&=-3,We(v,f,2))}}};return t.stateNode=h,t}function tf(t,n,r){return t=Vn(6,t,null,n),t.lanes=r,t}function ef(t,n,r){return n=Vn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Oi(t){t.flags|=4}function Ap(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!sy(n)){if(n=wn.current,n!==null&&((Ut&4194176)===Ut?Jn!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||n!==Jn))throw dl=sh,km;t.flags|=8192}}function _u(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Xi():536870912,t.lanes|=n,os|=n)}function Il(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Wt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function S0(t,n,r){var l=n.pendingProps;switch(rh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(n),null;case 1:return Wt(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Di(Se),hi(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ul(n)?Oi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Un!==null&&(cf(Un),Un=null))),Wt(n),null;case 26:return r=n.memoizedState,t===null?(Oi(n),r!==null?(Wt(n),Ap(n,r)):(Wt(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Oi(n),Wt(n),Ap(n,r)):(Wt(n),n.flags&=-16777217):(t.memoizedProps!==l&&Oi(n),Wt(n),n.flags&=-16777217),null;case 27:Ca(n),r=gn.current;var h=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Oi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Wt(n),null}t=Ye.current,ul(n)?zm(n):(t=Jp(h,l,r),n.stateNode=t,Oi(n))}return Wt(n),null;case 5:if(Ca(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Oi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Wt(n),null}if(t=Ye.current,ul(n))zm(n);else{switch(h=Vu(gn.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(r,{is:l.is}):h.createElement(r)}}t[De]=n,t[ve]=l;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=t;t:switch(Pe(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Oi(n)}}return Wt(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Oi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=gn.current,ul(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=Je,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[De]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Fp(t.nodeValue,r)),t||sa(n)}else t=Vu(t).createTextNode(l),t[De]=n,n.stateNode=t}return Wt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ul(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[De]=n}else cl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Wt(n),h=!1}else Un!==null&&(cf(Un),Un=null),h=!0;if(!h)return n.flags&256?(bi(n),n):(bi(n),null)}if(bi(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),_u(n,n.updateQueue),Wt(n),null;case 4:return hi(),t===null&&Tf(n.stateNode.containerInfo),Wt(n),null;case 10:return Di(n.type),Wt(n),null;case 19:if(ie(Ae),h=n.memoizedState,h===null)return Wt(n),null;if(l=(n.flags&128)!==0,f=h.rendering,f===null)if(l)Il(h,!1);else{if(se!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=eu(t),f!==null){for(n.flags|=128,Il(h,!1),t=f.updateQueue,n.updateQueue=t,_u(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Ep(r,t),r=r.sibling;return Qt(Ae,Ae.current&1|2),n.child}t=t.sibling}h.tail!==null&&tn()>vu&&(n.flags|=128,l=!0,Il(h,!1),n.lanes=4194304)}else{if(!l)if(t=eu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,_u(n,t),Il(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Bt)return Wt(n),null}else 2*tn()-h.renderingStartTime>vu&&r!==536870912&&(n.flags|=128,l=!0,Il(h,!1),n.lanes=4194304);h.isBackwards?(f.sibling=n.child,n.child=f):(t=h.last,t!==null?t.sibling=f:n.child=f,h.last=f)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=tn(),n.sibling=null,t=Ae.current,Qt(Ae,l?t&1|2:t&1),n):(Wt(n),null);case 22:case 23:return bi(n),oh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(Wt(n),n.subtreeFlags&6&&(n.flags|=8192)):Wt(n),r=n.updateQueue,r!==null&&_u(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&ie(oa),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Di(Se),Wt(n),null;case 25:return null}throw Error(s(156,n.tag))}function b0(t,n){switch(rh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Di(Se),hi(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ca(n),null;case 13:if(bi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));cl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ie(Ae),null;case 4:return hi(),null;case 10:return Di(n.type),null;case 22:case 23:return bi(n),oh(),t!==null&&ie(oa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Di(Se),null;case 25:return null;default:return null}}function Sp(t,n){switch(rh(n),n.tag){case 3:Di(Se),hi();break;case 26:case 27:case 5:Ca(n);break;case 4:hi();break;case 13:bi(n);break;case 19:ie(Ae);break;case 10:Di(n.type);break;case 22:case 23:bi(n),oh(),t!==null&&ie(oa);break;case 24:Di(Se)}}var R0={getCacheForType:function(t){var n=He(Se),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},w0=typeof WeakMap=="function"?WeakMap:Map,te=0,Xt=null,It=null,Ut=0,$t=0,hn=null,Mi=!1,ls=!1,nf=!1,xi=0,se=0,Er=0,ya=0,rf=0,In=0,os=0,Nl=null,ti=null,af=!1,sf=0,vu=1/0,Eu=null,Tr=null,Tu=!1,_a=null,Ol=0,lf=0,of=null,Ml=0,uf=null;function fn(){if((te&2)!==0&&Ut!==0)return Ut&-Ut;if(S.T!==null){var t=Wa;return t!==0?t:yf()}return Co()}function bp(){In===0&&(In=(Ut&536870912)===0||Bt?Qs():536870912);var t=wn.current;return t!==null&&(t.flags|=32),In}function We(t,n,r){(t===Xt&&$t===2||t.cancelPendingCommit!==null)&&(us(t,0),Ui(t,Ut,In,!1)),oe(t,r),((te&2)===0||t!==Xt)&&(t===Xt&&((te&2)===0&&(ya|=r),se===4&&Ui(t,Ut,In,!1)),ei(t))}function Rp(t,n,r){if((te&6)!==0)throw Error(s(327));var l=!r&&(n&60)===0&&(n&t.expiredLanes)===0||Yi(t,n),h=l?V0(t,n):df(t,n,!0),f=l;do{if(h===0){ls&&!l&&Ui(t,n,0,!1);break}else if(h===6)Ui(t,n,0,!Mi);else{if(r=t.current.alternate,f&&!C0(r)){h=df(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var E=t;h=Nl;var C=E.current.memoizedState.isDehydrated;if(C&&(us(E,v).flags|=256),v=df(E,v,!1),v!==2){if(nf&&!C){E.errorRecoveryDisabledLanes|=f,ya|=f,h=4;break t}f=ti,ti=h,f!==null&&cf(f)}h=v}if(f=!1,h!==2)continue}}if(h===1){us(t,0),Ui(t,n,0,!0);break}t:{switch(l=t,h){case 0:case 1:throw Error(s(345));case 4:if((n&4194176)===n){Ui(l,n,In,!Mi);break t}break;case 2:ti=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=r,l.finishedLanes=n,(n&62914560)===n&&(f=sf+300-tn(),10<f)){if(Ui(l,n,In,!Mi),pn(l,0)!==0)break t;l.timeoutHandle=Xp(wp.bind(null,l,r,ti,Eu,af,n,In,ya,os,Mi,2,-0,0),f);break t}wp(l,r,ti,Eu,af,n,In,ya,os,Mi,0,-0,0)}}break}while(!0);ei(t)}function cf(t){ti===null?ti=t:ti.push.apply(ti,t)}function wp(t,n,r,l,h,f,v,E,C,U,F,J,q){var Q=n.subtreeFlags;if((Q&8192||(Q&16785408)===16785408)&&(kl={stylesheets:null,count:0,unsuspend:oT},pp(n),n=cT(),n!==null)){t.cancelPendingCommit=n(Mp.bind(null,t,r,l,h,v,E,C,1,J,q)),Ui(t,f,v,!U);return}Mp(t,r,l,h,v,E,C,F,J,q)}function C0(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!on(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ui(t,n,r,l){n&=~rf,n&=~ya,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-Xe(h),v=1<<f;l[f]=-1,h&=~v}r!==0&&$i(t,r,n)}function Au(){return(te&6)===0?(xl(0),!1):!0}function hf(){if(It!==null){if($t===0)var t=It.return;else t=It,Ci=da=null,ph(t),Za=null,ml=0,t=It;for(;t!==null;)Sp(t.alternate,t),t=t.return;It=null}}function us(t,n){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,F0(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),hf(),Xt=t,It=r=vr(t.current,null),Ut=n,$t=0,hn=null,Mi=!1,ls=Yi(t,n),nf=!1,os=In=rf=ya=Er=se=0,ti=Nl=null,af=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-Xe(l),f=1<<h;n|=t[h],l&=~f}return xi=n,Fo(),r}function Cp(t,n){Ct=null,S.H=Wn,n===fl?(n=jm(),$t=3):n===km?(n=jm(),$t=4):$t=n===Bg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,hn=n,It===null&&(se=1,fu(t,Sn(n,t.current)))}function Dp(){var t=S.H;return S.H=Wn,t===null?Wn:t}function Vp(){var t=S.A;return S.A=R0,t}function ff(){se=4,Mi||(Ut&4194176)!==Ut&&wn.current!==null||(ls=!0),(Er&134217727)===0&&(ya&134217727)===0||Xt===null||Ui(Xt,Ut,In,!1)}function df(t,n,r){var l=te;te|=2;var h=Dp(),f=Vp();(Xt!==t||Ut!==n)&&(Eu=null,us(t,n)),n=!1;var v=se;t:do try{if($t!==0&&It!==null){var E=It,C=hn;switch($t){case 8:hf(),v=6;break t;case 3:case 2:case 6:wn.current===null&&(n=!0);var U=$t;if($t=0,hn=null,cs(t,E,C,U),r&&ls){v=0;break t}break;default:U=$t,$t=0,hn=null,cs(t,E,C,U)}}D0(),v=se;break}catch(F){Cp(t,F)}while(!0);return n&&t.shellSuspendCounter++,Ci=da=null,te=l,S.H=h,S.A=f,It===null&&(Xt=null,Ut=0,Fo()),v}function D0(){for(;It!==null;)Ip(It)}function V0(t,n){var r=te;te|=2;var l=Dp(),h=Vp();Xt!==t||Ut!==n?(Eu=null,vu=tn()+500,us(t,n)):ls=Yi(t,n);t:do try{if($t!==0&&It!==null){n=It;var f=hn;e:switch($t){case 1:$t=0,hn=null,cs(t,n,f,1);break;case 2:if(Bm(f)){$t=0,hn=null,Np(n);break}n=function(){$t===2&&Xt===t&&($t=7),ei(t)},f.then(n,n);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:Bm(f)?($t=0,hn=null,Np(n)):($t=0,hn=null,cs(t,n,f,7));break;case 5:var v=null;switch(It.tag){case 26:v=It.memoizedState;case 5:case 27:var E=It;if(!v||sy(v)){$t=0,hn=null;var C=E.sibling;if(C!==null)It=C;else{var U=E.return;U!==null?(It=U,Su(U)):It=null}break e}}$t=0,hn=null,cs(t,n,f,5);break;case 6:$t=0,hn=null,cs(t,n,f,6);break;case 8:hf(),se=6;break t;default:throw Error(s(462))}}I0();break}catch(F){Cp(t,F)}while(!0);return Ci=da=null,S.H=l,S.A=h,te=r,It!==null?0:(Xt=null,Ut=0,Fo(),se)}function I0(){for(;It!==null&&!Bc();)Ip(It)}function Ip(t){var n=Jg(t.alternate,t,xi);t.memoizedProps=t.pendingProps,n===null?Su(t):It=n}function Np(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Fg(r,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=Fg(r,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:ph(n);default:Sp(r,n),n=It=Ep(n,xi),n=Jg(r,n,xi)}t.memoizedProps=t.pendingProps,n===null?Su(t):It=n}function cs(t,n,r,l){Ci=da=null,ph(n),Za=null,ml=0;var h=n.return;try{if(_0(t,h,n,r,Ut)){se=1,fu(t,Sn(r,t.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;se=1,fu(t,Sn(r,t.current)),It=null;return}n.flags&32768?(Bt||l===1?t=!0:ls||(Ut&536870912)!==0?t=!1:(Mi=t=!0,(l===2||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Op(n,t)):Su(n)}function Su(t){var n=t;do{if((n.flags&32768)!==0){Op(n,Mi);return}t=n.return;var r=S0(n.alternate,n,xi);if(r!==null){It=r;return}if(n=n.sibling,n!==null){It=n;return}It=n=t}while(n!==null);se===0&&(se=5)}function Op(t,n){do{var r=b0(t.alternate,t);if(r!==null){r.flags&=32767,It=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){It=t;return}It=t=r}while(t!==null);se=6,It=null}function Mp(t,n,r,l,h,f,v,E,C,U){var F=S.T,J=ot.p;try{ot.p=2,S.T=null,N0(t,n,r,l,J,h,f,v,E,C,U)}finally{S.T=F,ot.p=J}}function N0(t,n,r,l,h,f,v,E){do hs();while(_a!==null);if((te&6)!==0)throw Error(s(327));var C=t.finishedWork;if(l=t.finishedLanes,C===null)return null;if(t.finishedWork=null,t.finishedLanes=0,C===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var U=C.lanes|C.childLanes;if(U|=eh,Ro(t,l,U,f,v,E),t===Xt&&(It=Xt=null,Ut=0),(C.subtreeFlags&10256)===0&&(C.flags&10256)===0||Tu||(Tu=!0,lf=U,of=r,U0(fi,function(){return hs(),null})),r=(C.flags&15990)!==0,(C.subtreeFlags&15990)!==0||r?(r=S.T,S.T=null,f=ot.p,ot.p=2,v=te,te|=4,E0(t,C),dp(C,t),e0(Rf,t.containerInfo),Uu=!!bf,Rf=bf=null,t.current=C,up(t,C.alternate,C),qs(),te=v,ot.p=f,S.T=r):t.current=C,Tu?(Tu=!1,_a=t,Ol=l):xp(t,U),U=t.pendingLanes,U===0&&(Tr=null),Hs(C.stateNode),ei(t),n!==null)for(h=t.onRecoverableError,C=0;C<n.length;C++)U=n[C],h(U.value,{componentStack:U.stack});return(Ol&3)!==0&&hs(),U=t.pendingLanes,(l&4194218)!==0&&(U&42)!==0?t===uf?Ml++:(Ml=0,uf=t):Ml=0,xl(0),null}function xp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,pl(n)))}function hs(){if(_a!==null){var t=_a,n=lf;lf=0;var r=wo(Ol),l=S.T,h=ot.p;try{if(ot.p=32>r?32:r,S.T=null,_a===null)var f=!1;else{r=of,of=null;var v=_a,E=Ol;if(_a=null,Ol=0,(te&6)!==0)throw Error(s(331));var C=te;if(te|=4,_p(v.current),gp(v,v.current,E,r),te=C,xl(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(Fi,v)}catch{}f=!0}return f}finally{ot.p=h,S.T=l,xp(t,n)}}return!1}function Up(t,n,r){n=Sn(r,n),n=Ih(t.stateNode,n,2),t=gr(t,n,2),t!==null&&(oe(t,2),ei(t))}function Yt(t,n,r){if(t.tag===3)Up(t,t,r);else for(;n!==null;){if(n.tag===3){Up(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Tr===null||!Tr.has(l))){t=Sn(r,t),r=Pg(2),l=gr(n,r,2),l!==null&&(kg(r,l,n,t),oe(l,2),ei(l));break}}n=n.return}}function mf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new w0;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(nf=!0,h.add(r),t=O0.bind(null,t,n,r),n.then(t,t))}function O0(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Xt===t&&(Ut&r)===r&&(se===4||se===3&&(Ut&62914560)===Ut&&300>tn()-sf?(te&2)===0&&us(t,0):rf|=r,os===Ut&&(os=0)),ei(t)}function Lp(t,n){n===0&&(n=Xi()),t=lr(t,n),t!==null&&(oe(t,n),ei(t))}function M0(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Lp(t,r)}function x0(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Lp(t,r)}function U0(t,n){return jr(t,n)}var bu=null,fs=null,gf=!1,Ru=!1,pf=!1,va=0;function ei(t){t!==fs&&t.next===null&&(fs===null?bu=fs=t:fs=fs.next=t),Ru=!0,gf||(gf=!0,z0(L0))}function xl(t,n){if(!pf&&Ru){pf=!0;do for(var r=!1,l=bu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var v=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Xe(42|t)+1)-1,f&=h&~(v&~E),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(r=!0,kp(l,f))}else f=Ut,f=pn(l,l===Xt?f:0),(f&3)===0||Yi(l,f)||(r=!0,kp(l,f));l=l.next}while(r);pf=!1}}function L0(){Ru=gf=!1;var t=0;va!==0&&(Q0()&&(t=va),va=0);for(var n=tn(),r=null,l=bu;l!==null;){var h=l.next,f=zp(l,n);f===0?(l.next=null,r===null?bu=h:r.next=h,h===null&&(fs=r)):(r=l,(t!==0||(f&3)!==0)&&(Ru=!0)),l=h}xl(t)}function zp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-Xe(f),E=1<<v,C=h[v];C===-1?((E&r)===0||(E&l)!==0)&&(h[v]=Ia(E,n)):C<=n&&(t.expiredLanes|=E),f&=~E}if(n=Xt,r=Ut,r=pn(t,t===n?r:0),l=t.callbackNode,r===0||t===n&&$t===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Va(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Yi(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Va(l),wo(r)){case 2:case 8:r=Ce;break;case 32:r=fi;break;case 268435456:r=js;break;default:r=fi}return l=Pp.bind(null,t),r=jr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Va(l),t.callbackPriority=2,t.callbackNode=null,2}function Pp(t,n){var r=t.callbackNode;if(hs()&&t.callbackNode!==r)return null;var l=Ut;return l=pn(t,t===Xt?l:0),l===0?null:(Rp(t,l,n),zp(t,tn()),t.callbackNode!=null&&t.callbackNode===r?Pp.bind(null,t):null)}function kp(t,n){if(hs())return null;Rp(t,n,!0)}function z0(t){K0(function(){(te&6)!==0?jr(_e,t):t()})}function yf(){return va===0&&(va=Qs()),va}function Bp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Gn(""+t)}function qp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function P0(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=Bp((h[ve]||null).action),v=l.submitter;v&&(n=(n=v[ve]||null)?Bp(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var E=new za("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(va!==0){var C=v?qp(h,v):new FormData(h);Rh(r,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=v?qp(h,v):new FormData(h),Rh(r,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var _f=0;_f<Mm.length;_f++){var vf=Mm[_f],k0=vf.toLowerCase(),B0=vf[0].toUpperCase()+vf.slice(1);xn(k0,"on"+B0)}xn(Dm,"onAnimationEnd"),xn(Vm,"onAnimationIteration"),xn(Im,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(i0,"onTransitionRun"),xn(r0,"onTransitionStart"),xn(a0,"onTransitionCancel"),xn(Nm,"onTransitionEnd"),en("onMouseEnter",["mouseout","mouseover"]),en("onMouseLeave",["mouseout","mouseover"]),en("onPointerEnter",["pointerout","pointerover"]),en("onPointerLeave",["pointerout","pointerover"]),sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sn("onBeforeInput",["compositionend","keypress","textInput","paste"]),sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ul));function jp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var E=l[v],C=E.instance,U=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=U;try{f(h)}catch(F){hu(F)}h.currentTarget=null,f=C}else for(v=0;v<l.length;v++){if(E=l[v],C=E.instance,U=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=U;try{f(h)}catch(F){hu(F)}h.currentTarget=null,f=C}}}}function Ot(t,n){var r=n[Gr];r===void 0&&(r=n[Gr]=new Set);var l=t+"__bubble";r.has(l)||(Hp(n,t,2,!1),r.add(l))}function Ef(t,n,r){var l=0;n&&(l|=4),Hp(r,t,l,n)}var wu="_reactListening"+Math.random().toString(36).slice(2);function Tf(t){if(!t[wu]){t[wu]=!0,Ks.forEach(function(r){r!=="selectionchange"&&(q0.has(r)||Ef(r,!1,t),Ef(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[wu]||(n[wu]=!0,Ef("selectionchange",!1,n))}}function Hp(t,n,r,l){switch(fy(n)){case 2:var h=dT;break;case 8:h=mT;break;default:h=xf}r=h.bind(null,n,r,t),h=void 0,!En||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function Af(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===h||E.nodeType===8&&E.parentNode===h)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&(C=v.stateNode.containerInfo,C===h||C.nodeType===8&&C.parentNode===h))return;v=v.return}for(;E!==null;){if(v=Mn(E),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=f=v;continue t}E=E.parentNode}}l=l.return}No(function(){var U=f,F=La(r),J=[];t:{var q=Om.get(t);if(q!==void 0){var Q=za,ht=t;switch(t){case"keypress":if(Fn(r)===0)break t;case"keydown":case"keyup":Q=Ha;break;case"focusin":ht="focus",Q=Ba;break;case"focusout":ht="blur",Q=Ba;break;case"beforeblur":case"afterblur":Q=Ba;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Kc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=ko;break;case Dm:case Vm:case Im:Q=qa;break;case Nm:Q=qo;break;case"scroll":case"scrollend":Q=Oo;break;case"wheel":Q=Ga;break;case"copy":case"cut":case"paste":Q=ja;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=al;break;case"toggle":case"beforetoggle":Q=Ho}var At=(n&4)!==0,le=!At&&(t==="scroll"||t==="scrollend"),z=At?q!==null?q+"Capture":null:q;At=[];for(var N=U,B;N!==null;){var $=N;if(B=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||B===null||z===null||($=Xr(N,z),$!=null&&At.push(Ll(N,$,B))),le)break;N=N.return}0<At.length&&(q=new Q(q,ht,null,r,F),J.push({event:q,listeners:At}))}}if((n&7)===0){t:{if(q=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",q&&r!==vn&&(ht=r.relatedTarget||r.fromElement)&&(Mn(ht)||ht[di]))break t;if((Q||q)&&(q=F.window===F?F:(q=F.ownerDocument)?q.defaultView||q.parentWindow:window,Q?(ht=r.relatedTarget||r.toElement,Q=U,ht=ht?Mn(ht):null,ht!==null&&(le=gt(ht),At=ht.tag,ht!==le||At!==5&&At!==27&&At!==6)&&(ht=null)):(Q=null,ht=U),Q!==ht)){if(At=Tn,$="onMouseLeave",z="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(At=al,$="onPointerLeave",z="onPointerEnter",N="pointer"),le=Q==null?q:tr(Q),B=ht==null?q:tr(ht),q=new At($,N+"leave",Q,r,F),q.target=le,q.relatedTarget=B,$=null,Mn(F)===U&&(At=new At(z,N+"enter",ht,r,F),At.target=B,At.relatedTarget=le,$=At),le=$,Q&&ht)e:{for(At=Q,z=ht,N=0,B=At;B;B=ds(B))N++;for(B=0,$=z;$;$=ds($))B++;for(;0<N-B;)At=ds(At),N--;for(;0<B-N;)z=ds(z),B--;for(;N--;){if(At===z||z!==null&&At===z.alternate)break e;At=ds(At),z=ds(z)}At=null}else At=null;Q!==null&&Gp(J,q,Q,At,!1),ht!==null&&le!==null&&Gp(J,le,ht,At,!0)}}t:{if(q=U?tr(U):window,Q=q.nodeName&&q.nodeName.toLowerCase(),Q==="select"||Q==="input"&&q.type==="file")var ct=ym;else if(Te(q))if(_m)ct=WE;else{ct=ZE;var Vt=$E}else Q=q.nodeName,!Q||Q.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?U&&Js(U.elementType)&&(ct=ym):ct=JE;if(ct&&(ct=ct(t,U))){Ti(J,ct,r,F);break t}Vt&&Vt(t,q,U),t==="focusout"&&U&&q.type==="number"&&U.memoizedProps.value!=null&&Ua(q,"number",q.value)}switch(Vt=U?tr(U):window,t){case"focusin":(Te(Vt)||Vt.contentEditable==="true")&&(Qa=Vt,Jc=U,ol=null);break;case"focusout":ol=Jc=Qa=null;break;case"mousedown":Wc=!0;break;case"contextmenu":case"mouseup":case"dragend":Wc=!1,wm(J,r,F);break;case"selectionchange":if(n0)break;case"keydown":case"keyup":wm(J,r,F)}var mt;if(Xn)t:{switch(t){case"compositionstart":var yt="onCompositionStart";break t;case"compositionend":yt="onCompositionEnd";break t;case"compositionupdate":yt="onCompositionUpdate";break t}yt=void 0}else Mt?H(t,r)&&(yt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(yt="onCompositionStart");yt&&(_&&r.locale!=="ko"&&(Mt||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&Mt&&(mt=tl()):(Qn=F,sr="value"in Qn?Qn.value:Qn.textContent,Mt=!0)),Vt=Cu(U,yt),0<Vt.length&&(yt=new il(yt,t,null,r,F),J.push({event:yt,listeners:Vt}),mt?yt.data=mt:(mt=it(r),mt!==null&&(yt.data=mt)))),(mt=m?Ee(t,r):xt(t,r))&&(yt=Cu(U,"onBeforeInput"),0<yt.length&&(Vt=new il("onBeforeInput","beforeinput",null,r,F),J.push({event:Vt,listeners:yt}),Vt.data=mt)),P0(J,t,U,r,F)}jp(J,n)})}function Ll(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Cu(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Xr(t,r),h!=null&&l.unshift(Ll(t,h,f)),h=Xr(t,n),h!=null&&l.push(Ll(t,h,f))),t=t.return}return l}function ds(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Gp(t,n,r,l,h){for(var f=n._reactName,v=[];r!==null&&r!==l;){var E=r,C=E.alternate,U=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||U===null||(C=U,h?(U=Xr(r,f),U!=null&&v.unshift(Ll(r,U,C))):h||(U=Xr(r,f),U!=null&&v.push(Ll(r,U,C)))),r=r.return}v.length!==0&&t.push({event:n,listeners:v})}var j0=/\r\n?/g,H0=/\u0000|\uFFFD/g;function Qp(t){return(typeof t=="string"?t:""+t).replace(j0,`
`).replace(H0,"")}function Fp(t,n){return n=Qp(n),Qp(t)===n}function Du(){}function Kt(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||_n(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&_n(t,""+l);break;case"className":ir(t,"class",l);break;case"tabIndex":ir(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ir(t,r,l);break;case"style":Io(t,l,f);break;case"data":if(n!=="object"){ir(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Gn(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Kt(t,n,"name",h.name,h,null),Kt(t,n,"formEncType",h.formEncType,h,null),Kt(t,n,"formMethod",h.formMethod,h,null),Kt(t,n,"formTarget",h.formTarget,h,null)):(Kt(t,n,"encType",h.encType,h,null),Kt(t,n,"method",h.method,h,null),Kt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Gn(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Du);break;case"onScroll":l!=null&&Ot("scroll",t);break;case"onScrollEnd":l!=null&&Ot("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Gn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Ot("beforetoggle",t),Ot("toggle",t),nr(t,"popover",l);break;case"xlinkActuate":yn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":yn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":yn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":yn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":yn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":yn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":yn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":yn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":yn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":nr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Qc.get(r)||r,nr(t,r,l))}}function Sf(t,n,r,l,h,f){switch(r){case"style":Io(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?_n(t,l):(typeof l=="number"||typeof l=="bigint")&&_n(t,""+l);break;case"onScroll":l!=null&&Ot("scroll",t);break;case"onScrollEnd":l!=null&&Ot("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Du);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ma.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[ve]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):nr(t,r,l)}}}function Pe(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",t),Ot("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var v=r[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,f,v,r,null)}}h&&Kt(t,n,"srcSet",r.srcSet,r,null),l&&Kt(t,n,"src",r.src,r,null);return;case"input":Ot("invalid",t);var E=f=v=h=null,C=null,U=null;for(l in r)if(r.hasOwnProperty(l)){var F=r[l];if(F!=null)switch(l){case"name":h=F;break;case"type":v=F;break;case"checked":C=F;break;case"defaultChecked":U=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:Kt(t,n,l,F,r,null)}}Kr(t,f,E,C,U,v,h,!1),Fr(t);return;case"select":Ot("invalid",t),l=v=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Kt(t,n,h,E,r,null)}n=f,r=v,t.multiple=!!l,n!=null?kt(t,!!l,n,!1):r!=null&&kt(t,!!l,r,!0);return;case"textarea":Ot("invalid",t),f=h=l=null;for(v in r)if(r.hasOwnProperty(v)&&(E=r[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Kt(t,n,v,E,r,null)}ar(t,l,h,f),Fr(t);return;case"option":for(C in r)if(r.hasOwnProperty(C)&&(l=r[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Kt(t,n,C,l,r,null)}return;case"dialog":Ot("cancel",t),Ot("close",t);break;case"iframe":case"object":Ot("load",t);break;case"video":case"audio":for(l=0;l<Ul.length;l++)Ot(Ul[l],t);break;case"image":Ot("error",t),Ot("load",t);break;case"details":Ot("toggle",t);break;case"embed":case"source":case"link":Ot("error",t),Ot("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in r)if(r.hasOwnProperty(U)&&(l=r[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,U,l,r,null)}return;default:if(Js(n)){for(F in r)r.hasOwnProperty(F)&&(l=r[F],l!==void 0&&Sf(t,n,F,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Kt(t,n,E,l,r,null))}function G0(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,E=null,C=null,U=null,F=null;for(Q in r){var J=r[Q];if(r.hasOwnProperty(Q)&&J!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":C=J;default:l.hasOwnProperty(Q)||Kt(t,n,Q,null,l,J)}}for(var q in l){var Q=l[q];if(J=r[q],l.hasOwnProperty(q)&&(Q!=null||J!=null))switch(q){case"type":f=Q;break;case"name":h=Q;break;case"checked":U=Q;break;case"defaultChecked":F=Q;break;case"value":v=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,n));break;default:Q!==J&&Kt(t,n,q,Q,l,J)}}rr(t,v,E,C,U,F,f,h);return;case"select":Q=v=E=q=null;for(f in r)if(C=r[f],r.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":Q=C;default:l.hasOwnProperty(f)||Kt(t,n,f,null,l,C)}for(h in l)if(f=l[h],C=r[h],l.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":q=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==C&&Kt(t,n,h,f,l,C)}n=E,r=v,l=Q,q!=null?kt(t,!!r,q,!1):!!l!=!!r&&(n!=null?kt(t,!!r,n,!0):kt(t,!!r,r?[]:"",!1));return;case"textarea":Q=q=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Kt(t,n,E,null,l,h)}for(v in l)if(h=l[v],f=r[v],l.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":q=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Kt(t,n,v,h,l,f)}Yr(t,q,Q);return;case"option":for(var ht in r)if(q=r[ht],r.hasOwnProperty(ht)&&q!=null&&!l.hasOwnProperty(ht))switch(ht){case"selected":t.selected=!1;break;default:Kt(t,n,ht,null,l,q)}for(C in l)if(q=l[C],Q=r[C],l.hasOwnProperty(C)&&q!==Q&&(q!=null||Q!=null))switch(C){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Kt(t,n,C,q,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in r)q=r[At],r.hasOwnProperty(At)&&q!=null&&!l.hasOwnProperty(At)&&Kt(t,n,At,null,l,q);for(U in l)if(q=l[U],Q=r[U],l.hasOwnProperty(U)&&q!==Q&&(q!=null||Q!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:Kt(t,n,U,q,l,Q)}return;default:if(Js(n)){for(var le in r)q=r[le],r.hasOwnProperty(le)&&q!==void 0&&!l.hasOwnProperty(le)&&Sf(t,n,le,void 0,l,q);for(F in l)q=l[F],Q=r[F],!l.hasOwnProperty(F)||q===Q||q===void 0&&Q===void 0||Sf(t,n,F,q,l,Q);return}}for(var z in r)q=r[z],r.hasOwnProperty(z)&&q!=null&&!l.hasOwnProperty(z)&&Kt(t,n,z,null,l,q);for(J in l)q=l[J],Q=r[J],!l.hasOwnProperty(J)||q===Q||q==null&&Q==null||Kt(t,n,J,q,l,Q)}var bf=null,Rf=null;function Vu(t){return t.nodeType===9?t:t.ownerDocument}function Kp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function wf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Cf=null;function Q0(){var t=window.event;return t&&t.type==="popstate"?t===Cf?!1:(Cf=t,!0):(Cf=null,!1)}var Xp=typeof setTimeout=="function"?setTimeout:void 0,F0=typeof clearTimeout=="function"?clearTimeout:void 0,$p=typeof Promise=="function"?Promise:void 0,K0=typeof queueMicrotask=="function"?queueMicrotask:typeof $p<"u"?function(t){return $p.resolve(null).then(t).catch(Y0)}:Xp;function Y0(t){setTimeout(function(){throw t})}function Df(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"){if(l===0){t.removeChild(h),Gl(n);return}l--}else r!=="$"&&r!=="$?"&&r!=="$!"||l++;r=h}while(r);Gl(n)}function Vf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Vf(r),Qr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function X0(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Wi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function $0(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=zn(t.nextSibling),t===null))return null;return t}function zn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function Zp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Jp(t,n,r){switch(n=Vu(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var Nn=new Map,Wp=new Set;function Iu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Li=ot.d;ot.d={f:Z0,r:J0,D:W0,C:tT,L:eT,m:nT,X:rT,S:iT,M:aT};function Z0(){var t=Li.f(),n=Au();return t||n}function J0(t){var n=mi(t);n!==null&&n.tag===5&&n.type==="form"?wg(n):Li.r(t)}var ms=typeof document>"u"?null:document;function ty(t,n,r){var l=ms;if(l&&typeof n=="string"&&n){var h=re(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),Wp.has(h)||(Wp.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Pe(n,"link",t),Jt(n),l.head.appendChild(n)))}}function W0(t){Li.D(t),ty("dns-prefetch",t,null)}function tT(t,n){Li.C(t,n),ty("preconnect",t,n)}function eT(t,n,r){Li.L(t,n,r);var l=ms;if(l&&t&&n){var h='link[rel="preload"][as="'+re(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+re(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+re(r.imageSizes)+'"]')):h+='[href="'+re(t)+'"]';var f=h;switch(n){case"style":f=gs(t);break;case"script":f=ps(t)}Nn.has(f)||(t=D({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Nn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(zl(f))||n==="script"&&l.querySelector(Pl(f))||(n=l.createElement("link"),Pe(n,"link",t),Jt(n),l.head.appendChild(n)))}}function nT(t,n){Li.m(t,n);var r=ms;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+re(l)+'"][href="'+re(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ps(t)}if(!Nn.has(f)&&(t=D({rel:"modulepreload",href:t},n),Nn.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Pl(f)))return}l=r.createElement("link"),Pe(l,"link",t),Jt(l),r.head.appendChild(l)}}}function iT(t,n,r){Li.S(t,n,r);var l=ms;if(l&&t){var h=er(l).hoistableStyles,f=gs(t);n=n||"default";var v=h.get(f);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(zl(f)))E.loading=5;else{t=D({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Nn.get(f))&&If(t,r);var C=v=l.createElement("link");Jt(C),Pe(C,"link",t),C._p=new Promise(function(U,F){C.onload=U,C.onerror=F}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Nu(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(f,v)}}}function rT(t,n){Li.X(t,n);var r=ms;if(r&&t){var l=er(r).hoistableScripts,h=ps(t),f=l.get(h);f||(f=r.querySelector(Pl(h)),f||(t=D({src:t,async:!0},n),(n=Nn.get(h))&&Nf(t,n),f=r.createElement("script"),Jt(f),Pe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function aT(t,n){Li.M(t,n);var r=ms;if(r&&t){var l=er(r).hoistableScripts,h=ps(t),f=l.get(h);f||(f=r.querySelector(Pl(h)),f||(t=D({src:t,async:!0,type:"module"},n),(n=Nn.get(h))&&Nf(t,n),f=r.createElement("script"),Jt(f),Pe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function ey(t,n,r,l){var h=(h=gn.current)?Iu(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=gs(r.href),r=er(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=gs(r.href);var f=er(h).hoistableStyles,v=f.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=h.querySelector(zl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Nn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Nn.set(t,r),f||sT(h,t,r,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ps(r),r=er(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function gs(t){return'href="'+re(t)+'"'}function zl(t){return'link[rel="stylesheet"]['+t+"]"}function ny(t){return D({},t,{"data-precedence":t.precedence,precedence:null})}function sT(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pe(n,"link",r),Jt(n),t.head.appendChild(n))}function ps(t){return'[src="'+re(t)+'"]'}function Pl(t){return"script[async]"+t}function iy(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+re(r.href)+'"]');if(l)return n.instance=l,Jt(l),l;var h=D({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Jt(l),Pe(l,"style",h),Nu(l,r.precedence,t),n.instance=l;case"stylesheet":h=gs(r.href);var f=t.querySelector(zl(h));if(f)return n.state.loading|=4,n.instance=f,Jt(f),f;l=ny(r),(h=Nn.get(h))&&If(l,h),f=(t.ownerDocument||t).createElement("link"),Jt(f);var v=f;return v._p=new Promise(function(E,C){v.onload=E,v.onerror=C}),Pe(f,"link",l),n.state.loading|=4,Nu(f,r.precedence,t),n.instance=f;case"script":return f=ps(r.src),(h=t.querySelector(Pl(f)))?(n.instance=h,Jt(h),h):(l=r,(h=Nn.get(f))&&(l=D({},r),Nf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Jt(h),Pe(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Nu(l,r.precedence,t));return n.instance}function Nu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function If(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Nf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ou=null;function ry(t,n,r){if(Ou===null){var l=new Map,h=Ou=new Map;h.set(r,l)}else h=Ou,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[Wi]||f[De]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=t+v;var E=l.get(v);E?E.push(f):l.set(v,[f])}}return l}function ay(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function lT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function sy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var kl=null;function oT(){}function uT(t,n,r){if(kl===null)throw Error(s(475));var l=kl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=gs(r.href),f=t.querySelector(zl(h));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Mu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,Jt(f);return}f=t.ownerDocument||t,r=ny(r),(h=Nn.get(h))&&If(r,h),f=f.createElement("link"),Jt(f);var v=f;v._p=new Promise(function(E,C){v.onload=E,v.onerror=C}),Pe(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Mu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function cT(){if(kl===null)throw Error(s(475));var t=kl;return t.stylesheets&&t.count===0&&Of(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&Of(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Mu(){if(this.count--,this.count===0){if(this.stylesheets)Of(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var xu=null;function Of(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,xu=new Map,n.forEach(hT,t),xu=null,Mu.call(t))}function hT(t,n){if(!(n.state.loading&4)){var r=xu.get(t);if(r)var l=r.get(null);else{r=new Map,xu.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(r.set(v.dataset.precedence,v),l=v)}l&&r.set(null,l)}h=n.instance,v=h.getAttribute("data-precedence"),f=r.get(v)||l,f===l&&r.set(null,h),r.set(v,h),this.count++,l=Mu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Bl={$$typeof:M,Provider:null,Consumer:null,_currentValue:wt,_currentValue2:wt,_threadCount:0};function fT(t,n,r,l,h,f,v,E){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Na(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Na(0),this.hiddenUpdates=Na(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function ly(t,n,r,l,h,f,v,E,C,U,F,J){return t=new fT(t,n,r,v,E,C,U,J),n=1,f===!0&&(n|=24),f=Vn(3,null,null,n),t.current=f,f.stateNode=t,n=uh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Hh(f),t}function oy(t){return t?(t=Ya,t):Ya}function uy(t,n,r,l,h,f){h=oy(h),l.context===null?l.context=h:l.pendingContext=h,l=mr(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=gr(t,l,n),r!==null&&(We(r,t,n),Sl(r,t,n))}function cy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Mf(t,n){cy(t,n),(t=t.alternate)&&cy(t,n)}function hy(t){if(t.tag===13){var n=lr(t,67108864);n!==null&&We(n,t,67108864),Mf(t,67108864)}}var Uu=!0;function dT(t,n,r,l){var h=S.T;S.T=null;var f=ot.p;try{ot.p=2,xf(t,n,r,l)}finally{ot.p=f,S.T=h}}function mT(t,n,r,l){var h=S.T;S.T=null;var f=ot.p;try{ot.p=8,xf(t,n,r,l)}finally{ot.p=f,S.T=h}}function xf(t,n,r,l){if(Uu){var h=Uf(l);if(h===null)Af(t,n,l,Lu,r),dy(t,l);else if(pT(h,t,n,r,l))l.stopPropagation();else if(dy(t,l),n&4&&-1<gT.indexOf(t)){for(;h!==null;){var f=mi(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=On(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var C=1<<31-Xe(v);E.entanglements[1]|=C,v&=~C}ei(f),(te&6)===0&&(vu=tn()+500,xl(0))}}break;case 13:E=lr(f,2),E!==null&&We(E,f,2),Au(),Mf(f,2)}if(f=Uf(l),f===null&&Af(t,n,l,Lu,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else Af(t,n,l,null,r)}}function Uf(t){return t=La(t),Lf(t)}var Lu=null;function Lf(t){if(Lu=null,t=Mn(t),t!==null){var n=gt(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=jt(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Lu=t,null}function fy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(To()){case _e:return 2;case Ce:return 8;case fi:case Ao:return 32;case js:return 268435456;default:return 32}default:return 32}}var zf=!1,Ar=null,Sr=null,br=null,ql=new Map,jl=new Map,Rr=[],gT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dy(t,n){switch(t){case"focusin":case"focusout":Ar=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":ql.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(n.pointerId)}}function Hl(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=mi(n),n!==null&&hy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function pT(t,n,r,l,h){switch(n){case"focusin":return Ar=Hl(Ar,t,n,r,l,h),!0;case"dragenter":return Sr=Hl(Sr,t,n,r,l,h),!0;case"mouseover":return br=Hl(br,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return ql.set(f,Hl(ql.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,jl.set(f,Hl(jl.get(f)||null,t,n,r,l,h)),!0}return!1}function my(t){var n=Mn(t.target);if(n!==null){var r=gt(n);if(r!==null){if(n=r.tag,n===13){if(n=jt(r),n!==null){t.blockedOn=n,Ji(t.priority,function(){if(r.tag===13){var l=fn(),h=lr(r,l);h!==null&&We(h,r,l),Mf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Uf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);vn=l,r.target.dispatchEvent(l),vn=null}else return n=mi(r),n!==null&&hy(n),t.blockedOn=r,!1;n.shift()}return!0}function gy(t,n,r){zu(t)&&r.delete(n)}function yT(){zf=!1,Ar!==null&&zu(Ar)&&(Ar=null),Sr!==null&&zu(Sr)&&(Sr=null),br!==null&&zu(br)&&(br=null),ql.forEach(gy),jl.forEach(gy)}function Pu(t,n){t.blockedOn===n&&(t.blockedOn=null,zf||(zf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,yT)))}var ku=null;function py(t){ku!==t&&(ku=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){ku===t&&(ku=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Lf(l||r)===null)continue;break}var f=mi(r);f!==null&&(t.splice(n,3),n-=3,Rh(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function Gl(t){function n(C){return Pu(C,t)}Ar!==null&&Pu(Ar,t),Sr!==null&&Pu(Sr,t),br!==null&&Pu(br,t),ql.forEach(n),jl.forEach(n);for(var r=0;r<Rr.length;r++){var l=Rr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Rr.length&&(r=Rr[0],r.blockedOn===null);)my(r),r.blockedOn===null&&Rr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],v=h[ve]||null;if(typeof f=="function")v||py(r);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[ve]||null)E=v.formAction;else if(Lf(h)!==null)continue}else E=v.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),py(r)}}}function Pf(t){this._internalRoot=t}Bu.prototype.render=Pf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=fn();uy(r,l,t,n,null,null)},Bu.prototype.unmount=Pf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&hs(),uy(t.current,2,null,t,null,null),Au(),n[di]=null}};function Bu(t){this._internalRoot=t}Bu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Co();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Rr.length&&n!==0&&n<Rr[r].priority;r++);Rr.splice(r,0,t),r===0&&my(t)}};var yy=e.version;if(yy!=="19.0.0")throw Error(s(527,yy,"19.0.0"));ot.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=tt(n),t=t!==null?ft(t):null,t=t===null?null:t.stateNode,t};var _T={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:Mn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qu.isDisabled&&qu.supportsFiber)try{Fi=qu.inject(_T),je=qu}catch{}}return Fl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",h=xg,f=Ug,v=Lg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=ly(t,1,!1,null,null,r,l,h,f,v,E,null),t[di]=n.current,Tf(t.nodeType===8?t.parentNode:t),new Pf(n)},Fl.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,h="",f=xg,v=Ug,E=Lg,C=null,U=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(C=r.unstable_transitionCallbacks),r.formState!==void 0&&(U=r.formState)),n=ly(t,1,!0,n,r??null,l,h,f,v,E,C,U),n.context=oy(null),r=n.current,l=fn(),h=mr(l),h.callback=null,gr(r,h,l),n.current.lanes=l,oe(n,l),ei(n),t[di]=n.current,Tf(t),new Bu(n)},Fl.version="19.0.0",Fl}var Cy;function DT(){if(Cy)return qf.exports;Cy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),qf.exports=CT(),qf.exports}var VT=DT(),Kl={},Dy;function IT(){if(Dy)return Kl;Dy=1,Object.defineProperty(Kl,"__esModule",{value:!0}),Kl.parse=d,Kl.serialize=y;const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,c=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function d(R,M){const L=new c,K=R.length;if(K<2)return L;const j=(M==null?void 0:M.decode)||T;let Y=0;do{const et=R.indexOf("=",Y);if(et===-1)break;const X=R.indexOf(";",Y),st=X===-1?K:X;if(et>st){Y=R.lastIndexOf(";",et-1)+1;continue}const at=g(R,Y,et),Et=p(R,et,at),x=R.slice(at,Et);if(L[x]===void 0){let w=g(R,et+1,st),S=p(R,st,w);const D=j(R.slice(w,S));L[x]=D}Y=st+1}while(Y<K);return L}function g(R,M,L){do{const K=R.charCodeAt(M);if(K!==32&&K!==9)return M}while(++M<L);return L}function p(R,M,L){for(;M>L;){const K=R.charCodeAt(--M);if(K!==32&&K!==9)return M+1}return L}function y(R,M,L){const K=(L==null?void 0:L.encode)||encodeURIComponent;if(!a.test(R))throw new TypeError(`argument name is invalid: ${R}`);const j=K(M);if(!e.test(j))throw new TypeError(`argument val is invalid: ${M}`);let Y=R+"="+j;if(!L)return Y;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);Y+="; Max-Age="+L.maxAge}if(L.domain){if(!i.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);Y+="; Domain="+L.domain}if(L.path){if(!s.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);Y+="; Path="+L.path}if(L.expires){if(!b(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);Y+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&(Y+="; HttpOnly"),L.secure&&(Y+="; Secure"),L.partitioned&&(Y+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return Y}function T(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function b(R){return o.call(R)==="[object Date]"}return Kl}IT();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Vy="popstate";function NT(a={}){function e(s,o){let{pathname:c,search:d,hash:g}=s.location;return rd("",{pathname:c,search:d,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(s,o){return typeof o=="string"?o:ro(o)}return MT(e,i,null,a)}function ee(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function ai(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function OT(){return Math.random().toString(36).substring(2,10)}function Iy(a,e){return{usr:a.state,key:a.key,idx:e}}function rd(a,e,i=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?Os(e):e,state:i,key:e&&e.key||s||OT()}}function ro({pathname:a="/",search:e="",hash:i=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(a+=i.charAt(0)==="#"?i:"#"+i),a}function Os(a){let e={};if(a){let i=a.indexOf("#");i>=0&&(e.hash=a.substring(i),a=a.substring(0,i));let s=a.indexOf("?");s>=0&&(e.search=a.substring(s),a=a.substring(0,s)),a&&(e.pathname=a)}return e}function MT(a,e,i,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,g="POP",p=null,y=T();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function T(){return(d.state||{idx:null}).idx}function b(){g="POP";let j=T(),Y=j==null?null:j-y;y=j,p&&p({action:g,location:K.location,delta:Y})}function R(j,Y){g="PUSH";let et=rd(K.location,j,Y);y=T()+1;let X=Iy(et,y),st=K.createHref(et);try{d.pushState(X,"",st)}catch(at){if(at instanceof DOMException&&at.name==="DataCloneError")throw at;o.location.assign(st)}c&&p&&p({action:g,location:K.location,delta:1})}function M(j,Y){g="REPLACE";let et=rd(K.location,j,Y);y=T();let X=Iy(et,y),st=K.createHref(et);d.replaceState(X,"",st),c&&p&&p({action:g,location:K.location,delta:0})}function L(j){let Y=o.location.origin!=="null"?o.location.origin:o.location.href,et=typeof j=="string"?j:ro(j);return et=et.replace(/ $/,"%20"),ee(Y,`No window.location.(origin|href) available to create URL for href: ${et}`),new URL(et,Y)}let K={get action(){return g},get location(){return a(o,d)},listen(j){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Vy,b),p=j,()=>{o.removeEventListener(Vy,b),p=null}},createHref(j){return e(o,j)},createURL:L,encodeLocation(j){let Y=L(j);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:R,replace:M,go(j){return d.go(j)}};return K}function q_(a,e,i="/"){return xT(a,e,i,!1)}function xT(a,e,i,s){let o=typeof e=="string"?Os(e):e,c=ki(o.pathname||"/",i);if(c==null)return null;let d=j_(a);UT(d);let g=null;for(let p=0;g==null&&p<d.length;++p){let y=FT(c);g=GT(d[p],y,s)}return g}function j_(a,e=[],i=[],s=""){let o=(c,d,g)=>{let p={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};p.relativePath.startsWith("/")&&(ee(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=zi([s,p.relativePath]),T=i.concat(p);c.children&&c.children.length>0&&(ee(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),j_(c.children,e,T,y)),!(c.path==null&&!c.index)&&e.push({path:y,score:jT(y,c.index),routesMeta:T})};return a.forEach((c,d)=>{var g;if(c.path===""||!((g=c.path)!=null&&g.includes("?")))o(c,d);else for(let p of H_(c.path))o(c,d,p)}),e}function H_(a){let e=a.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=H_(s.join("/")),g=[];return g.push(...d.map(p=>p===""?c:[c,p].join("/"))),o&&g.push(...d),g.map(p=>a.startsWith("/")&&p===""?"/":p)}function UT(a){a.sort((e,i)=>e.score!==i.score?i.score-e.score:HT(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var LT=/^:[\w-]+$/,zT=3,PT=2,kT=1,BT=10,qT=-2,Ny=a=>a==="*";function jT(a,e){let i=a.split("/"),s=i.length;return i.some(Ny)&&(s+=qT),e&&(s+=PT),i.filter(o=>!Ny(o)).reduce((o,c)=>o+(LT.test(c)?zT:c===""?kT:BT),s)}function HT(a,e){return a.length===e.length&&a.slice(0,-1).every((s,o)=>s===e[o])?a[a.length-1]-e[e.length-1]:0}function GT(a,e,i=!1){let{routesMeta:s}=a,o={},c="/",d=[];for(let g=0;g<s.length;++g){let p=s[g],y=g===s.length-1,T=c==="/"?e:e.slice(c.length)||"/",b=ic({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},T),R=p.route;if(!b&&y&&i&&!s[s.length-1].route.index&&(b=ic({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!b)return null;Object.assign(o,b.params),d.push({params:o,pathname:zi([c,b.pathname]),pathnameBase:$T(zi([c,b.pathnameBase])),route:R}),b.pathnameBase!=="/"&&(c=zi([c,b.pathnameBase]))}return d}function ic(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,s]=QT(a.path,a.caseSensitive,a.end),o=e.match(i);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:s.reduce((y,{paramName:T,isOptional:b},R)=>{if(T==="*"){let L=g[R]||"";d=c.slice(0,c.length-L.length).replace(/(.)\/+$/,"$1")}const M=g[R];return b&&!M?y[T]=void 0:y[T]=(M||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:a}}function QT(a,e=!1,i=!0){ai(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let s=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,p)=>(s.push({paramName:g,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(s.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function FT(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ai(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function ki(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=a.charAt(i);return s&&s!=="/"?null:a.slice(i)||"/"}function KT(a,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof a=="string"?Os(a):a;return{pathname:i?i.startsWith("/")?i:YT(i,e):e,search:ZT(s),hash:JT(o)}}function YT(a,e){let i=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Qf(a,e,i,s){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XT(a){return a.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function G_(a){let e=XT(a);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function Q_(a,e,i,s=!1){let o;typeof a=="string"?o=Os(a):(o={...a},ee(!o.pathname||!o.pathname.includes("?"),Qf("?","pathname","search",o)),ee(!o.pathname||!o.pathname.includes("#"),Qf("#","pathname","hash",o)),ee(!o.search||!o.search.includes("#"),Qf("#","search","hash",o)));let c=a===""||o.pathname==="",d=c?"/":o.pathname,g;if(d==null)g=i;else{let b=e.length-1;if(!s&&d.startsWith("..")){let R=d.split("/");for(;R[0]==="..";)R.shift(),b-=1;o.pathname=R.join("/")}g=b>=0?e[b]:"/"}let p=KT(o,g),y=d&&d!=="/"&&d.endsWith("/"),T=(c||d===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(y||T)&&(p.pathname+="/"),p}var zi=a=>a.join("/").replace(/\/\/+/g,"/"),$T=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),ZT=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,JT=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function WT(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var F_=["POST","PUT","PATCH","DELETE"];new Set(F_);var tA=["GET",...F_];new Set(tA);var Ms=G.createContext(null);Ms.displayName="DataRouter";var Ec=G.createContext(null);Ec.displayName="DataRouterState";var K_=G.createContext({isTransitioning:!1});K_.displayName="ViewTransition";var eA=G.createContext(new Map);eA.displayName="Fetchers";var nA=G.createContext(null);nA.displayName="Await";var oi=G.createContext(null);oi.displayName="Navigation";var mo=G.createContext(null);mo.displayName="Location";var ui=G.createContext({outlet:null,matches:[],isDataRoute:!1});ui.displayName="Route";var Vd=G.createContext(null);Vd.displayName="RouteError";function iA(a,{relative:e}={}){ee(go(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=G.useContext(oi),{hash:o,pathname:c,search:d}=po(a,{relative:e}),g=c;return i!=="/"&&(g=c==="/"?i:zi([i,c])),s.createHref({pathname:g,search:d,hash:o})}function go(){return G.useContext(mo)!=null}function ba(){return ee(go(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(mo).location}var Y_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function X_(a){G.useContext(oi).static||G.useLayoutEffect(a)}function Tc(){let{isDataRoute:a}=G.useContext(ui);return a?pA():rA()}function rA(){ee(go(),"useNavigate() may be used only in the context of a <Router> component.");let a=G.useContext(Ms),{basename:e,navigator:i}=G.useContext(oi),{matches:s}=G.useContext(ui),{pathname:o}=ba(),c=JSON.stringify(G_(s)),d=G.useRef(!1);return X_(()=>{d.current=!0}),G.useCallback((p,y={})=>{if(ai(d.current,Y_),!d.current)return;if(typeof p=="number"){i.go(p);return}let T=Q_(p,JSON.parse(c),o,y.relative==="path");a==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:zi([e,T.pathname])),(y.replace?i.replace:i.push)(T,y.state,y)},[e,i,c,o,a])}G.createContext(null);function $_(){let{matches:a}=G.useContext(ui),e=a[a.length-1];return e?e.params:{}}function po(a,{relative:e}={}){let{matches:i}=G.useContext(ui),{pathname:s}=ba(),o=JSON.stringify(G_(i));return G.useMemo(()=>Q_(a,JSON.parse(o),s,e==="path"),[a,o,s,e])}function aA(a,e){return Z_(a,e)}function Z_(a,e,i,s){var et;ee(go(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:c}=G.useContext(oi),{matches:d}=G.useContext(ui),g=d[d.length-1],p=g?g.params:{},y=g?g.pathname:"/",T=g?g.pathnameBase:"/",b=g&&g.route;{let X=b&&b.path||"";J_(y,!b||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let R=ba(),M;if(e){let X=typeof e=="string"?Os(e):e;ee(T==="/"||((et=X.pathname)==null?void 0:et.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${X.pathname}" was given in the \`location\` prop.`),M=X}else M=R;let L=M.pathname||"/",K=L;if(T!=="/"){let X=T.replace(/^\//,"").split("/");K="/"+L.replace(/^\//,"").split("/").slice(X.length).join("/")}let j=!c&&i&&i.matches&&i.matches.length>0?i.matches:q_(a,{pathname:K});ai(b||j!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),ai(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=cA(j&&j.map(X=>Object.assign({},X,{params:Object.assign({},p,X.params),pathname:zi([T,o.encodeLocation?o.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?T:zi([T,o.encodeLocation?o.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),d,i,s);return e&&Y?G.createElement(mo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},Y):Y}function sA(){let a=gA(),e=WT(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",a),d=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:c},"ErrorBoundary")," or"," ",G.createElement("code",{style:c},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),i?G.createElement("pre",{style:o},i):null,d)}var lA=G.createElement(sA,null),oA=class extends G.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){console.error("React Router caught the following error during render",a,e)}render(){return this.state.error!==void 0?G.createElement(ui.Provider,{value:this.props.routeContext},G.createElement(Vd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function uA({routeContext:a,match:e,children:i}){let s=G.useContext(Ms);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(ui.Provider,{value:a},i)}function cA(a,e=[],i=null,s=null){if(a==null){if(!i)return null;if(i.errors)a=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let o=a,c=i==null?void 0:i.errors;if(c!=null){let p=o.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);ee(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let d=!1,g=-1;if(i)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(g=p),y.route.id){let{loaderData:T,errors:b}=i,R=y.route.loader&&!T.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||R){d=!0,g>=0?o=o.slice(0,g+1):o=[o[0]];break}}}return o.reduceRight((p,y,T)=>{let b,R=!1,M=null,L=null;i&&(b=c&&y.route.id?c[y.route.id]:void 0,M=y.route.errorElement||lA,d&&(g<0&&T===0?(J_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,L=null):g===T&&(R=!0,L=y.route.hydrateFallbackElement||null)));let K=e.concat(o.slice(0,T+1)),j=()=>{let Y;return b?Y=M:R?Y=L:y.route.Component?Y=G.createElement(y.route.Component,null):y.route.element?Y=y.route.element:Y=p,G.createElement(uA,{match:y,routeContext:{outlet:p,matches:K,isDataRoute:i!=null},children:Y})};return i&&(y.route.ErrorBoundary||y.route.errorElement||T===0)?G.createElement(oA,{location:i.location,revalidation:i.revalidation,component:M,error:b,children:j(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):j()},null)}function Id(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hA(a){let e=G.useContext(Ms);return ee(e,Id(a)),e}function fA(a){let e=G.useContext(Ec);return ee(e,Id(a)),e}function dA(a){let e=G.useContext(ui);return ee(e,Id(a)),e}function Nd(a){let e=dA(a),i=e.matches[e.matches.length-1];return ee(i.route.id,`${a} can only be used on routes that contain a unique "id"`),i.route.id}function mA(){return Nd("useRouteId")}function gA(){var s;let a=G.useContext(Vd),e=fA("useRouteError"),i=Nd("useRouteError");return a!==void 0?a:(s=e.errors)==null?void 0:s[i]}function pA(){let{router:a}=hA("useNavigate"),e=Nd("useNavigate"),i=G.useRef(!1);return X_(()=>{i.current=!0}),G.useCallback(async(o,c={})=>{ai(i.current,Y_),i.current&&(typeof o=="number"?a.navigate(o):await a.navigate(o,{fromRouteId:e,...c}))},[a,e])}var Oy={};function J_(a,e,i){!e&&!Oy[a]&&(Oy[a]=!0,ai(!1,i))}G.memo(yA);function yA({routes:a,future:e,state:i}){return Z_(a,void 0,i,e)}function Yu(a){ee(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _A({basename:a="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:c=!1}){ee(!go(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=a.replace(/^\/*/,"/"),g=G.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof i=="string"&&(i=Os(i));let{pathname:p="/",search:y="",hash:T="",state:b=null,key:R="default"}=i,M=G.useMemo(()=>{let L=ki(p,d);return L==null?null:{location:{pathname:L,search:y,hash:T,state:b,key:R},navigationType:s}},[d,p,y,T,b,R,s]);return ai(M!=null,`<Router basename="${d}"> is not able to match the URL "${p}${y}${T}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:G.createElement(oi.Provider,{value:g},G.createElement(mo.Provider,{children:e,value:M}))}function vA({children:a,location:e}){return aA(ad(a),e)}function ad(a,e=[]){let i=[];return G.Children.forEach(a,(s,o)=>{if(!G.isValidElement(s))return;let c=[...e,o];if(s.type===G.Fragment){i.push.apply(i,ad(s.props.children,c));return}ee(s.type===Yu,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ee(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=ad(s.props.children,c)),i.push(d)}),i}var Xu="get",$u="application/x-www-form-urlencoded";function Ac(a){return a!=null&&typeof a.tagName=="string"}function EA(a){return Ac(a)&&a.tagName.toLowerCase()==="button"}function TA(a){return Ac(a)&&a.tagName.toLowerCase()==="form"}function AA(a){return Ac(a)&&a.tagName.toLowerCase()==="input"}function SA(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function bA(a,e){return a.button===0&&(!e||e==="_self")&&!SA(a)}var ju=null;function RA(){if(ju===null)try{new FormData(document.createElement("form"),0),ju=!1}catch{ju=!0}return ju}var wA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ff(a){return a!=null&&!wA.has(a)?(ai(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$u}"`),null):a}function CA(a,e){let i,s,o,c,d;if(TA(a)){let g=a.getAttribute("action");s=g?ki(g,e):null,i=a.getAttribute("method")||Xu,o=Ff(a.getAttribute("enctype"))||$u,c=new FormData(a)}else if(EA(a)||AA(a)&&(a.type==="submit"||a.type==="image")){let g=a.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=a.getAttribute("formaction")||g.getAttribute("action");if(s=p?ki(p,e):null,i=a.getAttribute("formmethod")||g.getAttribute("method")||Xu,o=Ff(a.getAttribute("formenctype"))||Ff(g.getAttribute("enctype"))||$u,c=new FormData(g,a),!RA()){let{name:y,type:T,value:b}=a;if(T==="image"){let R=y?`${y}.`:"";c.append(`${R}x`,"0"),c.append(`${R}y`,"0")}else y&&c.append(y,b)}}else{if(Ac(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Xu,s=null,o=$u,d=a}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:c,body:d}}function Od(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}async function DA(a,e){if(a.id in e)return e[a.id];try{let i=await import(a.module);return e[a.id]=i,i}catch(i){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function VA(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function IA(a,e,i){let s=await Promise.all(a.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await DA(c,i);return d.links?d.links():[]}return[]}));return xA(s.flat(1).filter(VA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function My(a,e,i,s,o,c){let d=(p,y)=>i[y]?p.route.id!==i[y].route.id:!0,g=(p,y)=>{var T;return i[y].pathname!==p.pathname||((T=i[y].route.path)==null?void 0:T.endsWith("*"))&&i[y].params["*"]!==p.params["*"]};return c==="assets"?e.filter((p,y)=>d(p,y)||g(p,y)):c==="data"?e.filter((p,y)=>{var b;let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(d(p,y)||g(p,y))return!0;if(p.route.shouldRevalidate){let R=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=i[0])==null?void 0:b.params)||{},nextUrl:new URL(a,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function NA(a,e,{includeHydrateFallback:i}={}){return OA(a.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function OA(a){return[...new Set(a)]}function MA(a){let e={},i=Object.keys(a).sort();for(let s of i)e[s]=a[s];return e}function xA(a,e){let i=new Set;return new Set(e),a.reduce((s,o)=>{let c=JSON.stringify(MA(o));return i.has(c)||(i.add(c),s.push({key:c,link:o})),s},[])}function UA(a,e){let i=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return i.pathname==="/"?i.pathname="_root.data":e&&ki(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function W_(){let a=G.useContext(Ms);return Od(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function LA(){let a=G.useContext(Ec);return Od(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Md=G.createContext(void 0);Md.displayName="FrameworkContext";function tv(){let a=G.useContext(Md);return Od(a,"You must render this element inside a <HydratedRouter> element"),a}function zA(a,e){let i=G.useContext(Md),[s,o]=G.useState(!1),[c,d]=G.useState(!1),{onFocus:g,onBlur:p,onMouseEnter:y,onMouseLeave:T,onTouchStart:b}=e,R=G.useRef(null);G.useEffect(()=>{if(a==="render"&&d(!0),a==="viewport"){let K=Y=>{Y.forEach(et=>{d(et.isIntersecting)})},j=new IntersectionObserver(K,{threshold:.5});return R.current&&j.observe(R.current),()=>{j.disconnect()}}},[a]),G.useEffect(()=>{if(s){let K=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(K)}}},[s]);let M=()=>{o(!0)},L=()=>{o(!1),d(!1)};return i?a!=="intent"?[c,R,{}]:[c,R,{onFocus:Yl(g,M),onBlur:Yl(p,L),onMouseEnter:Yl(y,M),onMouseLeave:Yl(T,L),onTouchStart:Yl(b,M)}]:[!1,R,{}]}function Yl(a,e){return i=>{a&&a(i),i.defaultPrevented||e(i)}}function PA({page:a,...e}){let{router:i}=W_(),s=G.useMemo(()=>q_(i.routes,a,i.basename),[i.routes,a,i.basename]);return s?G.createElement(BA,{page:a,matches:s,...e}):null}function kA(a){let{manifest:e,routeModules:i}=tv(),[s,o]=G.useState([]);return G.useEffect(()=>{let c=!1;return IA(a,e,i).then(d=>{c||o(d)}),()=>{c=!0}},[a,e,i]),s}function BA({page:a,matches:e,...i}){let s=ba(),{manifest:o,routeModules:c}=tv(),{basename:d}=W_(),{loaderData:g,matches:p}=LA(),y=G.useMemo(()=>My(a,e,p,o,s,"data"),[a,e,p,o,s]),T=G.useMemo(()=>My(a,e,p,o,s,"assets"),[a,e,p,o,s]),b=G.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let L=new Set,K=!1;if(e.forEach(Y=>{var X;let et=o.routes[Y.route.id];!et||!et.hasLoader||(!y.some(st=>st.route.id===Y.route.id)&&Y.route.id in g&&((X=c[Y.route.id])!=null&&X.shouldRevalidate)||et.hasClientLoader?K=!0:L.add(Y.route.id))}),L.size===0)return[];let j=UA(a,d);return K&&L.size>0&&j.searchParams.set("_routes",e.filter(Y=>L.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[j.pathname+j.search]},[d,g,s,o,y,e,a,c]),R=G.useMemo(()=>NA(T,o),[T,o]),M=kA(T);return G.createElement(G.Fragment,null,b.map(L=>G.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...i})),R.map(L=>G.createElement("link",{key:L,rel:"modulepreload",href:L,...i})),M.map(({key:L,link:K})=>G.createElement("link",{key:L,...K})))}function qA(...a){return e=>{a.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var ev=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ev&&(window.__reactRouterVersion="7.4.0")}catch{}function jA({basename:a,children:e,window:i}){let s=G.useRef();s.current==null&&(s.current=NT({window:i,v5Compat:!0}));let o=s.current,[c,d]=G.useState({action:o.action,location:o.location}),g=G.useCallback(p=>{G.startTransition(()=>d(p))},[d]);return G.useLayoutEffect(()=>o.listen(g),[o,g]),G.createElement(_A,{basename:a,children:e,location:c.location,navigationType:c.action,navigator:o})}var nv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iv=G.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:g,target:p,to:y,preventScrollReset:T,viewTransition:b,...R},M){let{basename:L}=G.useContext(oi),K=typeof y=="string"&&nv.test(y),j,Y=!1;if(typeof y=="string"&&K&&(j=y,ev))try{let S=new URL(window.location.href),D=y.startsWith("//")?new URL(S.protocol+y):new URL(y),O=ki(D.pathname,L);D.origin===S.origin&&O!=null?y=O+D.search+D.hash:Y=!0}catch{ai(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let et=iA(y,{relative:o}),[X,st,at]=zA(s,R),Et=FA(y,{replace:d,state:g,target:p,preventScrollReset:T,relative:o,viewTransition:b});function x(S){e&&e(S),S.defaultPrevented||Et(S)}let w=G.createElement("a",{...R,...at,href:j||et,onClick:Y||c?e:x,ref:qA(M,st),target:p,"data-discover":!K&&i==="render"?"true":void 0});return X&&!K?G.createElement(G.Fragment,null,w,G.createElement(PA,{page:et})):w});iv.displayName="Link";var HA=G.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:g,children:p,...y},T){let b=po(d,{relative:y.relative}),R=ba(),M=G.useContext(Ec),{navigator:L,basename:K}=G.useContext(oi),j=M!=null&&ZA(b)&&g===!0,Y=L.encodeLocation?L.encodeLocation(b).pathname:b.pathname,et=R.pathname,X=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;i||(et=et.toLowerCase(),X=X?X.toLowerCase():null,Y=Y.toLowerCase()),X&&K&&(X=ki(X,K)||X);const st=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let at=et===Y||!o&&et.startsWith(Y)&&et.charAt(st)==="/",Et=X!=null&&(X===Y||!o&&X.startsWith(Y)&&X.charAt(Y.length)==="/"),x={isActive:at,isPending:Et,isTransitioning:j},w=at?e:void 0,S;typeof s=="function"?S=s(x):S=[s,at?"active":null,Et?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let D=typeof c=="function"?c(x):c;return G.createElement(iv,{...y,"aria-current":w,className:S,ref:T,style:D,to:d,viewTransition:g},typeof p=="function"?p(x):p)});HA.displayName="NavLink";var GA=G.forwardRef(({discover:a="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:c,method:d=Xu,action:g,onSubmit:p,relative:y,preventScrollReset:T,viewTransition:b,...R},M)=>{let L=XA(),K=$A(g,{relative:y}),j=d.toLowerCase()==="get"?"get":"post",Y=typeof g=="string"&&nv.test(g),et=X=>{if(p&&p(X),X.defaultPrevented)return;X.preventDefault();let st=X.nativeEvent.submitter,at=(st==null?void 0:st.getAttribute("formmethod"))||d;L(st||X.currentTarget,{fetcherKey:e,method:at,navigate:i,replace:o,state:c,relative:y,preventScrollReset:T,viewTransition:b})};return G.createElement("form",{ref:M,method:j,action:K,onSubmit:s?p:et,...R,"data-discover":!Y&&a==="render"?"true":void 0})});GA.displayName="Form";function QA(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rv(a){let e=G.useContext(Ms);return ee(e,QA(a)),e}function FA(a,{target:e,replace:i,state:s,preventScrollReset:o,relative:c,viewTransition:d}={}){let g=Tc(),p=ba(),y=po(a,{relative:c});return G.useCallback(T=>{if(bA(T,e)){T.preventDefault();let b=i!==void 0?i:ro(p)===ro(y);g(a,{replace:b,state:s,preventScrollReset:o,relative:c,viewTransition:d})}},[p,g,y,i,s,e,a,o,c,d])}var KA=0,YA=()=>`__${String(++KA)}__`;function XA(){let{router:a}=rv("useSubmit"),{basename:e}=G.useContext(oi),i=mA();return G.useCallback(async(s,o={})=>{let{action:c,method:d,encType:g,formData:p,body:y}=CA(s,e);if(o.navigate===!1){let T=o.fetcherKey||YA();await a.fetch(T,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||g,flushSync:o.flushSync})}else await a.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||g,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[a,e,i])}function $A(a,{relative:e}={}){let{basename:i}=G.useContext(oi),s=G.useContext(ui);ee(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...po(a||".",{relative:e})},d=ba();if(a==null){c.search=d.search;let g=new URLSearchParams(c.search),p=g.getAll("index");if(p.some(T=>T==="")){g.delete("index"),p.filter(b=>b).forEach(b=>g.append("index",b));let T=g.toString();c.search=T?`?${T}`:""}}return(!a||a===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:zi([i,c.pathname])),ro(c)}function ZA(a,e={}){let i=G.useContext(K_);ee(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=rv("useViewTransitionState"),o=po(a,{relative:e.relative});if(!i.isTransitioning)return!1;let c=ki(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=ki(i.nextLocation.pathname,s)||i.nextLocation.pathname;return ic(o.pathname,d)!=null||ic(o.pathname,c)!=null}new TextEncoder;const JA=()=>{};var xy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},WA=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=a[i++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=a[i++],d=a[i++],g=a[i++],p=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const c=a[i++],d=a[i++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},sv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const c=a[o],d=o+1<a.length,g=d?a[o+1]:0,p=o+2<a.length,y=p?a[o+2]:0,T=c>>2,b=(c&3)<<4|g>>4;let R=(g&15)<<2|y>>6,M=y&63;p||(M=64,d||(R=64)),s.push(i[T],i[b],i[R],i[M])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(av(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):WA(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const c=i[a.charAt(o++)],g=o<a.length?i[a.charAt(o)]:0;++o;const y=o<a.length?i[a.charAt(o)]:64;++o;const b=o<a.length?i[a.charAt(o)]:64;if(++o,c==null||g==null||y==null||b==null)throw new tS;const R=c<<2|g>>4;if(s.push(R),y!==64){const M=g<<4&240|y>>2;if(s.push(M),b!==64){const L=y<<6&192|b;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class tS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eS=function(a){const e=av(a);return sv.encodeByteArray(e,!0)},rc=function(a){return eS(a).replace(/\./g,"")},nS=function(a){try{return sv.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS=()=>iS().__FIREBASE_DEFAULTS__,aS=()=>{if(typeof process>"u"||typeof xy>"u")return;const a=xy.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},sS=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&nS(a[1]);return e&&JSON.parse(e)},xd=()=>{try{return JA()||rS()||aS()||sS()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},lS=a=>{var e,i;return(i=(e=xd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[a]},oS=a=>{const e=lS(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},lv=()=>{var a;return(a=xd())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},a);return[rc(JSON.stringify(i)),rc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fS(){var a;const e=(a=xd())===null||a===void 0?void 0:a.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dS(){return!fS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mS(){try{return typeof indexedDB=="object"}catch{return!1}}function gS(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="FirebaseError";class xs extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=pS,Object.setPrototypeOf(this,xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ov.prototype.create)}}class ov{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?yS(c,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new xs(o,g,s)}}function yS(a,e){return a.replace(_S,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const _S=/\{\$([^}]+)}/g;function ac(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const c=a[o],d=e[o];if(Uy(c)&&Uy(d)){if(!ac(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function Uy(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(a){return a&&a._delegate?a._delegate:a}class ao{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new uS;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TS(e))try{this.getOrInitializeService({instanceIdentifier:Ea})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=Ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ea){return this.instances.has(e)}getOptions(e=Ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),c=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&e(d,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ES(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ea){return this.component?this.component.multipleInstances?e:Ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ES(a){return a===Ea?void 0:a}function TS(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new vS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(zt||(zt={}));const SS={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},bS=zt.INFO,RS={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},wS=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=RS[e];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class uv{constructor(e){this.name=e,this._logLevel=bS,this._logHandler=wS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in zt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...e),this._logHandler(this,zt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...e),this._logHandler(this,zt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...e),this._logHandler(this,zt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...e),this._logHandler(this,zt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...e),this._logHandler(this,zt.ERROR,...e)}}const CS=(a,e)=>e.some(i=>a instanceof i);let Ly,zy;function DS(){return Ly||(Ly=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VS(){return zy||(zy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cv=new WeakMap,sd=new WeakMap,hv=new WeakMap,Kf=new WeakMap,Ud=new WeakMap;function IS(a){const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{i(Dr(a.result)),o()},d=()=>{s(a.error),o()};a.addEventListener("success",c),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&cv.set(i,a)}).catch(()=>{}),Ud.set(e,a),e}function NS(a){if(sd.has(a))return;const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});sd.set(a,e)}let ld={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return sd.get(a);if(e==="objectStoreNames")return a.objectStoreNames||hv.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Dr(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function OS(a){ld=a(ld)}function MS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(Yf(this),e,...i);return hv.set(s,e.sort?e.sort():[e]),Dr(s)}:VS().includes(a)?function(...e){return a.apply(Yf(this),e),Dr(cv.get(this))}:function(...e){return Dr(a.apply(Yf(this),e))}}function xS(a){return typeof a=="function"?MS(a):(a instanceof IDBTransaction&&NS(a),CS(a,DS())?new Proxy(a,ld):a)}function Dr(a){if(a instanceof IDBRequest)return IS(a);if(Kf.has(a))return Kf.get(a);const e=xS(a);return e!==a&&(Kf.set(a,e),Ud.set(e,a)),e}const Yf=a=>Ud.get(a);function US(a,e,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(a,e),g=Dr(d);return s&&d.addEventListener("upgradeneeded",p=>{s(Dr(d.result),p.oldVersion,p.newVersion,Dr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const LS=["get","getKey","getAll","getAllKeys","count"],zS=["put","add","delete","clear"],Xf=new Map;function Py(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Xf.get(e))return Xf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=zS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||LS.includes(i)))return;const c=async function(d,...g){const p=this.transaction(d,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&p.done]))[0]};return Xf.set(e,c),c}OS(a=>({...a,get:(e,i,s)=>Py(e,i)||a.get(e,i,s),has:(e,i)=>!!Py(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(kS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function kS(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const od="@firebase/app",ky="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new uv("@firebase/app"),BS="@firebase/app-compat",qS="@firebase/analytics-compat",jS="@firebase/analytics",HS="@firebase/app-check-compat",GS="@firebase/app-check",QS="@firebase/auth",FS="@firebase/auth-compat",KS="@firebase/database",YS="@firebase/data-connect",XS="@firebase/database-compat",$S="@firebase/functions",ZS="@firebase/functions-compat",JS="@firebase/installations",WS="@firebase/installations-compat",tb="@firebase/messaging",eb="@firebase/messaging-compat",nb="@firebase/performance",ib="@firebase/performance-compat",rb="@firebase/remote-config",ab="@firebase/remote-config-compat",sb="@firebase/storage",lb="@firebase/storage-compat",ob="@firebase/firestore",ub="@firebase/vertexai",cb="@firebase/firestore-compat",hb="firebase",fb="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud="[DEFAULT]",db={[od]:"fire-core",[BS]:"fire-core-compat",[jS]:"fire-analytics",[qS]:"fire-analytics-compat",[GS]:"fire-app-check",[HS]:"fire-app-check-compat",[QS]:"fire-auth",[FS]:"fire-auth-compat",[KS]:"fire-rtdb",[YS]:"fire-data-connect",[XS]:"fire-rtdb-compat",[$S]:"fire-fn",[ZS]:"fire-fn-compat",[JS]:"fire-iid",[WS]:"fire-iid-compat",[tb]:"fire-fcm",[eb]:"fire-fcm-compat",[nb]:"fire-perf",[ib]:"fire-perf-compat",[rb]:"fire-rc",[ab]:"fire-rc-compat",[sb]:"fire-gcs",[lb]:"fire-gcs-compat",[ob]:"fire-fst",[cb]:"fire-fst-compat",[ub]:"fire-vertex","fire-js":"fire-js",[hb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=new Map,mb=new Map,cd=new Map;function By(a,e){try{a.container.addComponent(e)}catch(i){Bi.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function lc(a){const e=a.name;if(cd.has(e))return Bi.debug(`There were multiple attempts to register component ${e}.`),!1;cd.set(e,a);for(const i of sc.values())By(i,a);for(const i of mb.values())By(i,a);return!0}function gb(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function pb(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vr=new ov("app","Firebase",yb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ao("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=fb;function fv(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s=Object.assign({name:ud,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Vr.create("bad-app-name",{appName:String(o)});if(i||(i=lv()),!i)throw Vr.create("no-options");const c=sc.get(o);if(c){if(ac(i,c.options)&&ac(s,c.config))return c;throw Vr.create("duplicate-app",{appName:o})}const d=new AS(o);for(const p of cd.values())d.addComponent(p);const g=new _b(i,s,d);return sc.set(o,g),g}function Eb(a=ud){const e=sc.get(a);if(!e&&a===ud&&lv())return fv();if(!e)throw Vr.create("no-app",{appName:a});return e}function As(a,e,i){var s;let o=(s=db[a])!==null&&s!==void 0?s:a;i&&(o+=`-${i}`);const c=o.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const g=[`Unable to register library "${o}" with version "${e}":`];c&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bi.warn(g.join(" "));return}lc(new ao(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="firebase-heartbeat-database",Ab=1,so="firebase-heartbeat-store";let $f=null;function dv(){return $f||($f=US(Tb,Ab,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(so)}catch(i){console.warn(i)}}}}).catch(a=>{throw Vr.create("idb-open",{originalErrorMessage:a.message})})),$f}async function Sb(a){try{const i=(await dv()).transaction(so),s=await i.objectStore(so).get(mv(a));return await i.done,s}catch(e){if(e instanceof xs)Bi.warn(e.message);else{const i=Vr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Bi.warn(i.message)}}}async function qy(a,e){try{const s=(await dv()).transaction(so,"readwrite");await s.objectStore(so).put(e,mv(a)),await s.done}catch(i){if(i instanceof xs)Bi.warn(i.message);else{const s=Vr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Bi.warn(s.message)}}}function mv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=1024,Rb=30;class wb{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Db(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=jy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>Rb){const d=Vb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Bi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=jy(),{heartbeatsToSend:s,unsentEntries:o}=Cb(this._heartbeatsCache.heartbeats),c=rc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Bi.warn(i),""}}}function jy(){return new Date().toISOString().substring(0,10)}function Cb(a,e=bb){const i=[];let s=a.slice();for(const o of a){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),Hy(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Hy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class Db{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mS()?gS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Sb(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return qy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return qy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Hy(a){return rc(JSON.stringify({version:2,heartbeats:a})).length}function Vb(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(a){lc(new ao("platform-logger",e=>new PS(e),"PRIVATE")),lc(new ao("heartbeat",e=>new wb(e),"PRIVATE")),As(od,ky,a),As(od,ky,"esm2017"),As("fire-js","")}Ib("");var Gy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ir,gv;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,w){function S(){}S.prototype=w.prototype,x.D=w.prototype,x.prototype=new S,x.prototype.constructor=x,x.C=function(D,O,k){for(var V=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)V[ye-2]=arguments[ye];return w.prototype[O].apply(D,V)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,w,S){S||(S=0);var D=Array(16);if(typeof w=="string")for(var O=0;16>O;++O)D[O]=w.charCodeAt(S++)|w.charCodeAt(S++)<<8|w.charCodeAt(S++)<<16|w.charCodeAt(S++)<<24;else for(O=0;16>O;++O)D[O]=w[S++]|w[S++]<<8|w[S++]<<16|w[S++]<<24;w=x.g[0],S=x.g[1],O=x.g[2];var k=x.g[3],V=w+(k^S&(O^k))+D[0]+3614090360&4294967295;w=S+(V<<7&4294967295|V>>>25),V=k+(O^w&(S^O))+D[1]+3905402710&4294967295,k=w+(V<<12&4294967295|V>>>20),V=O+(S^k&(w^S))+D[2]+606105819&4294967295,O=k+(V<<17&4294967295|V>>>15),V=S+(w^O&(k^w))+D[3]+3250441966&4294967295,S=O+(V<<22&4294967295|V>>>10),V=w+(k^S&(O^k))+D[4]+4118548399&4294967295,w=S+(V<<7&4294967295|V>>>25),V=k+(O^w&(S^O))+D[5]+1200080426&4294967295,k=w+(V<<12&4294967295|V>>>20),V=O+(S^k&(w^S))+D[6]+2821735955&4294967295,O=k+(V<<17&4294967295|V>>>15),V=S+(w^O&(k^w))+D[7]+4249261313&4294967295,S=O+(V<<22&4294967295|V>>>10),V=w+(k^S&(O^k))+D[8]+1770035416&4294967295,w=S+(V<<7&4294967295|V>>>25),V=k+(O^w&(S^O))+D[9]+2336552879&4294967295,k=w+(V<<12&4294967295|V>>>20),V=O+(S^k&(w^S))+D[10]+4294925233&4294967295,O=k+(V<<17&4294967295|V>>>15),V=S+(w^O&(k^w))+D[11]+2304563134&4294967295,S=O+(V<<22&4294967295|V>>>10),V=w+(k^S&(O^k))+D[12]+1804603682&4294967295,w=S+(V<<7&4294967295|V>>>25),V=k+(O^w&(S^O))+D[13]+4254626195&4294967295,k=w+(V<<12&4294967295|V>>>20),V=O+(S^k&(w^S))+D[14]+2792965006&4294967295,O=k+(V<<17&4294967295|V>>>15),V=S+(w^O&(k^w))+D[15]+1236535329&4294967295,S=O+(V<<22&4294967295|V>>>10),V=w+(O^k&(S^O))+D[1]+4129170786&4294967295,w=S+(V<<5&4294967295|V>>>27),V=k+(S^O&(w^S))+D[6]+3225465664&4294967295,k=w+(V<<9&4294967295|V>>>23),V=O+(w^S&(k^w))+D[11]+643717713&4294967295,O=k+(V<<14&4294967295|V>>>18),V=S+(k^w&(O^k))+D[0]+3921069994&4294967295,S=O+(V<<20&4294967295|V>>>12),V=w+(O^k&(S^O))+D[5]+3593408605&4294967295,w=S+(V<<5&4294967295|V>>>27),V=k+(S^O&(w^S))+D[10]+38016083&4294967295,k=w+(V<<9&4294967295|V>>>23),V=O+(w^S&(k^w))+D[15]+3634488961&4294967295,O=k+(V<<14&4294967295|V>>>18),V=S+(k^w&(O^k))+D[4]+3889429448&4294967295,S=O+(V<<20&4294967295|V>>>12),V=w+(O^k&(S^O))+D[9]+568446438&4294967295,w=S+(V<<5&4294967295|V>>>27),V=k+(S^O&(w^S))+D[14]+3275163606&4294967295,k=w+(V<<9&4294967295|V>>>23),V=O+(w^S&(k^w))+D[3]+4107603335&4294967295,O=k+(V<<14&4294967295|V>>>18),V=S+(k^w&(O^k))+D[8]+1163531501&4294967295,S=O+(V<<20&4294967295|V>>>12),V=w+(O^k&(S^O))+D[13]+2850285829&4294967295,w=S+(V<<5&4294967295|V>>>27),V=k+(S^O&(w^S))+D[2]+4243563512&4294967295,k=w+(V<<9&4294967295|V>>>23),V=O+(w^S&(k^w))+D[7]+1735328473&4294967295,O=k+(V<<14&4294967295|V>>>18),V=S+(k^w&(O^k))+D[12]+2368359562&4294967295,S=O+(V<<20&4294967295|V>>>12),V=w+(S^O^k)+D[5]+4294588738&4294967295,w=S+(V<<4&4294967295|V>>>28),V=k+(w^S^O)+D[8]+2272392833&4294967295,k=w+(V<<11&4294967295|V>>>21),V=O+(k^w^S)+D[11]+1839030562&4294967295,O=k+(V<<16&4294967295|V>>>16),V=S+(O^k^w)+D[14]+4259657740&4294967295,S=O+(V<<23&4294967295|V>>>9),V=w+(S^O^k)+D[1]+2763975236&4294967295,w=S+(V<<4&4294967295|V>>>28),V=k+(w^S^O)+D[4]+1272893353&4294967295,k=w+(V<<11&4294967295|V>>>21),V=O+(k^w^S)+D[7]+4139469664&4294967295,O=k+(V<<16&4294967295|V>>>16),V=S+(O^k^w)+D[10]+3200236656&4294967295,S=O+(V<<23&4294967295|V>>>9),V=w+(S^O^k)+D[13]+681279174&4294967295,w=S+(V<<4&4294967295|V>>>28),V=k+(w^S^O)+D[0]+3936430074&4294967295,k=w+(V<<11&4294967295|V>>>21),V=O+(k^w^S)+D[3]+3572445317&4294967295,O=k+(V<<16&4294967295|V>>>16),V=S+(O^k^w)+D[6]+76029189&4294967295,S=O+(V<<23&4294967295|V>>>9),V=w+(S^O^k)+D[9]+3654602809&4294967295,w=S+(V<<4&4294967295|V>>>28),V=k+(w^S^O)+D[12]+3873151461&4294967295,k=w+(V<<11&4294967295|V>>>21),V=O+(k^w^S)+D[15]+530742520&4294967295,O=k+(V<<16&4294967295|V>>>16),V=S+(O^k^w)+D[2]+3299628645&4294967295,S=O+(V<<23&4294967295|V>>>9),V=w+(O^(S|~k))+D[0]+4096336452&4294967295,w=S+(V<<6&4294967295|V>>>26),V=k+(S^(w|~O))+D[7]+1126891415&4294967295,k=w+(V<<10&4294967295|V>>>22),V=O+(w^(k|~S))+D[14]+2878612391&4294967295,O=k+(V<<15&4294967295|V>>>17),V=S+(k^(O|~w))+D[5]+4237533241&4294967295,S=O+(V<<21&4294967295|V>>>11),V=w+(O^(S|~k))+D[12]+1700485571&4294967295,w=S+(V<<6&4294967295|V>>>26),V=k+(S^(w|~O))+D[3]+2399980690&4294967295,k=w+(V<<10&4294967295|V>>>22),V=O+(w^(k|~S))+D[10]+4293915773&4294967295,O=k+(V<<15&4294967295|V>>>17),V=S+(k^(O|~w))+D[1]+2240044497&4294967295,S=O+(V<<21&4294967295|V>>>11),V=w+(O^(S|~k))+D[8]+1873313359&4294967295,w=S+(V<<6&4294967295|V>>>26),V=k+(S^(w|~O))+D[15]+4264355552&4294967295,k=w+(V<<10&4294967295|V>>>22),V=O+(w^(k|~S))+D[6]+2734768916&4294967295,O=k+(V<<15&4294967295|V>>>17),V=S+(k^(O|~w))+D[13]+1309151649&4294967295,S=O+(V<<21&4294967295|V>>>11),V=w+(O^(S|~k))+D[4]+4149444226&4294967295,w=S+(V<<6&4294967295|V>>>26),V=k+(S^(w|~O))+D[11]+3174756917&4294967295,k=w+(V<<10&4294967295|V>>>22),V=O+(w^(k|~S))+D[2]+718787259&4294967295,O=k+(V<<15&4294967295|V>>>17),V=S+(k^(O|~w))+D[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(O+(V<<21&4294967295|V>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+k&4294967295}s.prototype.u=function(x,w){w===void 0&&(w=x.length);for(var S=w-this.blockSize,D=this.B,O=this.h,k=0;k<w;){if(O==0)for(;k<=S;)o(this,x,k),k+=this.blockSize;if(typeof x=="string"){for(;k<w;)if(D[O++]=x.charCodeAt(k++),O==this.blockSize){o(this,D),O=0;break}}else for(;k<w;)if(D[O++]=x[k++],O==this.blockSize){o(this,D),O=0;break}}this.h=O,this.o+=w},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;var S=8*this.o;for(w=x.length-8;w<x.length;++w)x[w]=S&255,S/=256;for(this.u(x),x=Array(16),w=S=0;4>w;++w)for(var D=0;32>D;D+=8)x[S++]=this.g[w]>>>D&255;return x};function c(x,w){var S=g;return Object.prototype.hasOwnProperty.call(S,x)?S[x]:S[x]=w(x)}function d(x,w){this.h=w;for(var S=[],D=!0,O=x.length-1;0<=O;O--){var k=x[O]|0;D&&k==w||(S[O]=k,D=!1)}this.g=S}var g={};function p(x){return-128<=x&&128>x?c(x,function(w){return new d([w|0],0>w?-1:0)}):new d([x|0],0>x?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return b;if(0>x)return j(y(-x));for(var w=[],S=1,D=0;x>=S;D++)w[D]=x/S|0,S*=4294967296;return new d(w,0)}function T(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return j(T(x.substring(1),w));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=y(Math.pow(w,8)),D=b,O=0;O<x.length;O+=8){var k=Math.min(8,x.length-O),V=parseInt(x.substring(O,O+k),w);8>k?(k=y(Math.pow(w,k)),D=D.j(k).add(y(V))):(D=D.j(S),D=D.add(y(V)))}return D}var b=p(0),R=p(1),M=p(16777216);a=d.prototype,a.m=function(){if(K(this))return-j(this).m();for(var x=0,w=1,S=0;S<this.g.length;S++){var D=this.i(S);x+=(0<=D?D:4294967296+D)*w,w*=4294967296}return x},a.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(L(this))return"0";if(K(this))return"-"+j(this).toString(x);for(var w=y(Math.pow(x,6)),S=this,D="";;){var O=st(S,w).g;S=Y(S,O.j(w));var k=((0<S.g.length?S.g[0]:S.h)>>>0).toString(x);if(S=O,L(S))return k+D;for(;6>k.length;)k="0"+k;D=k+D}},a.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function L(x){if(x.h!=0)return!1;for(var w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function K(x){return x.h==-1}a.l=function(x){return x=Y(this,x),K(x)?-1:L(x)?0:1};function j(x){for(var w=x.g.length,S=[],D=0;D<w;D++)S[D]=~x.g[D];return new d(S,~x.h).add(R)}a.abs=function(){return K(this)?j(this):this},a.add=function(x){for(var w=Math.max(this.g.length,x.g.length),S=[],D=0,O=0;O<=w;O++){var k=D+(this.i(O)&65535)+(x.i(O)&65535),V=(k>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);D=V>>>16,k&=65535,V&=65535,S[O]=V<<16|k}return new d(S,S[S.length-1]&-2147483648?-1:0)};function Y(x,w){return x.add(j(w))}a.j=function(x){if(L(this)||L(x))return b;if(K(this))return K(x)?j(this).j(j(x)):j(j(this).j(x));if(K(x))return j(this.j(j(x)));if(0>this.l(M)&&0>x.l(M))return y(this.m()*x.m());for(var w=this.g.length+x.g.length,S=[],D=0;D<2*w;D++)S[D]=0;for(D=0;D<this.g.length;D++)for(var O=0;O<x.g.length;O++){var k=this.i(D)>>>16,V=this.i(D)&65535,ye=x.i(O)>>>16,he=x.i(O)&65535;S[2*D+2*O]+=V*he,et(S,2*D+2*O),S[2*D+2*O+1]+=k*he,et(S,2*D+2*O+1),S[2*D+2*O+1]+=V*ye,et(S,2*D+2*O+1),S[2*D+2*O+2]+=k*ye,et(S,2*D+2*O+2)}for(D=0;D<w;D++)S[D]=S[2*D+1]<<16|S[2*D];for(D=w;D<2*w;D++)S[D]=0;return new d(S,0)};function et(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function X(x,w){this.g=x,this.h=w}function st(x,w){if(L(w))throw Error("division by zero");if(L(x))return new X(b,b);if(K(x))return w=st(j(x),w),new X(j(w.g),j(w.h));if(K(w))return w=st(x,j(w)),new X(j(w.g),w.h);if(30<x.g.length){if(K(x)||K(w))throw Error("slowDivide_ only works with positive integers.");for(var S=R,D=w;0>=D.l(x);)S=at(S),D=at(D);var O=Et(S,1),k=Et(D,1);for(D=Et(D,2),S=Et(S,2);!L(D);){var V=k.add(D);0>=V.l(x)&&(O=O.add(S),k=V),D=Et(D,1),S=Et(S,1)}return w=Y(x,O.j(w)),new X(O,w)}for(O=b;0<=x.l(w);){for(S=Math.max(1,Math.floor(x.m()/w.m())),D=Math.ceil(Math.log(S)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),k=y(S),V=k.j(w);K(V)||0<V.l(x);)S-=D,k=y(S),V=k.j(w);L(k)&&(k=R),O=O.add(k),x=Y(x,V)}return new X(O,x)}a.A=function(x){return st(this,x).h},a.and=function(x){for(var w=Math.max(this.g.length,x.g.length),S=[],D=0;D<w;D++)S[D]=this.i(D)&x.i(D);return new d(S,this.h&x.h)},a.or=function(x){for(var w=Math.max(this.g.length,x.g.length),S=[],D=0;D<w;D++)S[D]=this.i(D)|x.i(D);return new d(S,this.h|x.h)},a.xor=function(x){for(var w=Math.max(this.g.length,x.g.length),S=[],D=0;D<w;D++)S[D]=this.i(D)^x.i(D);return new d(S,this.h^x.h)};function at(x){for(var w=x.g.length+1,S=[],D=0;D<w;D++)S[D]=x.i(D)<<1|x.i(D-1)>>>31;return new d(S,x.h)}function Et(x,w){var S=w>>5;w%=32;for(var D=x.g.length-S,O=[],k=0;k<D;k++)O[k]=0<w?x.i(k+S)>>>w|x.i(k+S+1)<<32-w:x.i(k+S);return new d(O,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,gv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,Ir=d}).apply(typeof Gy<"u"?Gy:typeof self<"u"?self:typeof window<"u"?window:{});var Hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pv,$l,yv,Zu,hd,_v,vv,Ev;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hu=="object"&&Hu];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var _=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var P=u[A];if(!(P in _))break t;_=_[P]}u=u[u.length-1],A=_[u],m=m(A),m!=A&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var _=0,A=!1,P={next:function(){if(!A&&_<u.length){var H=_++;return{value:m(H,u[H]),done:!1}}return A=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}o("Array.prototype.values",function(u){return u||function(){return c(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function T(u,m,_){return u.call.apply(u.bind,arguments)}function b(u,m,_){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,A),u.apply(m,P)}}return function(){return u.apply(m,arguments)}}function R(u,m,_){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:b,R.apply(null,arguments)}function M(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function L(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(A,P,H){for(var it=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)it[Mt-2]=arguments[Mt];return m.prototype[P].apply(A,it)}}function K(u){const m=u.length;if(0<m){const _=Array(m);for(let A=0;A<m;A++)_[A]=u[A];return _}return[]}function j(u,m){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const P=u.length||0,H=A.length||0;u.length=P+H;for(let it=0;it<H;it++)u[P+it]=A[it]}else u.push(A)}}class Y{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function et(u){return/^[\s\xa0]*$/.test(u)}function X(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function st(u){return st[" "](u),u}st[" "]=function(){};var at=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function Et(u,m,_){for(const A in u)m.call(_,u[A],A,u)}function x(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function w(u){const m={};for(const _ in u)m[_]=u[_];return m}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,m){let _,A;for(let P=1;P<arguments.length;P++){A=arguments[P];for(_ in A)u[_]=A[_];for(let H=0;H<S.length;H++)_=S[H],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function O(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function k(u){g.setTimeout(()=>{throw u},0)}function V(){var u=jt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ye{constructor(){this.h=this.g=null}add(m,_){const A=he.get();A.set(m,_),this.h?this.h.next=A:this.g=A,this.h=A}}var he=new Y(()=>new rt,u=>u.reset());class rt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let _t,gt=!1,jt=new ye,I=()=>{const u=g.Promise.resolve(void 0);_t=()=>{u.then(tt)}};var tt=()=>{for(var u;u=V();){try{u.h.call(u.g)}catch(_){k(_)}var m=he;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}gt=!1};function ft(){this.s=this.s,this.C=this.C}ft.prototype.s=!1,ft.prototype.ma=function(){this.s||(this.s=!0,this.N())},ft.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lt(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var ot=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return u}();function wt(u,m){if(lt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(at){t:{try{st(m.nodeName);var P=!0;break t}catch{}P=!1}P||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:bt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&wt.aa.h.call(this)}}L(wt,lt);var bt={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),Pt=0;function ie(u,m,_,A,P){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!A,this.ha=P,this.key=++Pt,this.da=this.fa=!1}function Qt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ye(u){this.src=u,this.g={},this.h=0}Ye.prototype.add=function(u,m,_,A,P){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var it=gn(u,m,A,P);return-1<it?(m=u[it],_||(m.fa=!1)):(m=new ie(m,this.src,H,!!A,P),m.fa=_,u.push(m)),m};function ci(u,m){var _=m.type;if(_ in u.g){var A=u.g[_],P=Array.prototype.indexOf.call(A,m,void 0),H;(H=0<=P)&&Array.prototype.splice.call(A,P,1),H&&(Qt(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function gn(u,m,_,A){for(var P=0;P<u.length;++P){var H=u[P];if(!H.da&&H.listener==m&&H.capture==!!_&&H.ha==A)return P}return-1}var Gi="closure_lm_"+(1e6*Math.random()|0),Qi={};function hi(u,m,_,A,P){if(Array.isArray(m)){for(var H=0;H<m.length;H++)hi(u,m[H],_,A,P);return null}return _=To(_),u&&u[fe]?u.K(m,_,y(A)?!!A.capture:!1,P):Bs(u,m,_,!1,A,P)}function Bs(u,m,_,A,P,H){if(!m)throw Error("Invalid event type");var it=y(P)?!!P.capture:!!P,Mt=qs(u);if(Mt||(u[Gi]=Mt=new Ye(u)),_=Mt.add(m,_,A,it,H),_.proxy)return _;if(A=Ca(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)ot||(P=it),P===void 0&&(P=!1),u.addEventListener(m.toString(),A,P);else if(u.attachEvent)u.attachEvent(Va(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ca(){function u(_){return m.call(u.src,u.listener,_)}const m=Bc;return u}function Da(u,m,_,A,P){if(Array.isArray(m))for(var H=0;H<m.length;H++)Da(u,m[H],_,A,P);else A=y(A)?!!A.capture:!!A,_=To(_),u&&u[fe]?(u=u.i,m=String(m).toString(),m in u.g&&(H=u.g[m],_=gn(H,_,A,P),-1<_&&(Qt(H[_]),Array.prototype.splice.call(H,_,1),H.length==0&&(delete u.g[m],u.h--)))):u&&(u=qs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=gn(m,_,A,P)),(_=-1<u?m[u]:null)&&jr(_))}function jr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[fe])ci(m.i,u);else{var _=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(_,A,u.capture):m.detachEvent?m.detachEvent(Va(_),A):m.addListener&&m.removeListener&&m.removeListener(A),(_=qs(m))?(ci(_,u),_.h==0&&(_.src=null,m[Gi]=null)):Qt(u)}}}function Va(u){return u in Qi?Qi[u]:Qi[u]="on"+u}function Bc(u,m){if(u.da)u=!0;else{m=new wt(m,this);var _=u.listener,A=u.ha||u.src;u.fa&&jr(u),u=_.call(A,m)}return u}function qs(u){return u=u[Gi],u instanceof Ye?u:null}var tn="__closure_events_fn_"+(1e9*Math.random()>>>0);function To(u){return typeof u=="function"?u:(u[tn]||(u[tn]=function(m){return u.handleEvent(m)}),u[tn])}function _e(){ft.call(this),this.i=new Ye(this),this.M=this,this.F=null}L(_e,ft),_e.prototype[fe]=!0,_e.prototype.removeEventListener=function(u,m,_,A){Da(this,u,m,_,A)};function Ce(u,m){var _,A=u.F;if(A)for(_=[];A;A=A.F)_.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new lt(m,u);else if(m instanceof lt)m.target=m.target||u;else{var P=m;m=new lt(A,u),D(m,P)}if(P=!0,_)for(var H=_.length-1;0<=H;H--){var it=m.g=_[H];P=fi(it,A,!0,m)&&P}if(it=m.g=u,P=fi(it,A,!0,m)&&P,P=fi(it,A,!1,m)&&P,_)for(H=0;H<_.length;H++)it=m.g=_[H],P=fi(it,A,!1,m)&&P}_e.prototype.N=function(){if(_e.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],A=0;A<_.length;A++)Qt(_[A]);delete u.g[m],u.h--}}this.F=null},_e.prototype.K=function(u,m,_,A){return this.i.add(String(u),m,!1,_,A)},_e.prototype.L=function(u,m,_,A){return this.i.add(String(u),m,!0,_,A)};function fi(u,m,_,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var P=!0,H=0;H<m.length;++H){var it=m[H];if(it&&!it.da&&it.capture==_){var Mt=it.listener,Ee=it.ha||it.src;it.fa&&ci(u.i,it),P=Mt.call(Ee,A)!==!1&&P}}return P&&!A.defaultPrevented}function Ao(u,m,_){if(typeof u=="function")_&&(u=R(u,_));else if(u&&typeof u.handleEvent=="function")u=R(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function js(u){u.g=Ao(()=>{u.g=null,u.i&&(u.i=!1,js(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class qc extends ft{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:js(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hr(u){ft.call(this),this.h=u,this.g={}}L(Hr,ft);var Fi=[];function je(u){Et(u.g,function(m,_){this.g.hasOwnProperty(_)&&jr(m)},u),u.g={}}Hr.prototype.N=function(){Hr.aa.N.call(this),je(this)},Hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hs=g.JSON.stringify,Bn=g.JSON.parse,Xe=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Gs(){}Gs.prototype.h=null;function So(u){return u.h||(u.h=u.i())}function bo(){}var qn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ki(){lt.call(this,"d")}L(Ki,lt);function On(){lt.call(this,"c")}L(On,lt);var pn={},Yi=null;function Ia(){return Yi=Yi||new _e}pn.La="serverreachability";function Qs(u){lt.call(this,pn.La,u)}L(Qs,lt);function Xi(u){const m=Ia();Ce(m,new Qs(m))}pn.STAT_EVENT="statevent";function Na(u,m){lt.call(this,pn.STAT_EVENT,u),this.stat=m}L(Na,lt);function oe(u){const m=Ia();Ce(m,new Na(m,u))}pn.Ma="timingevent";function Ro(u,m){lt.call(this,pn.Ma,u),this.size=m}L(Ro,lt);function $i(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function Zi(){this.g=!0}Zi.prototype.xa=function(){this.g=!1};function wo(u,m,_,A,P,H){u.info(function(){if(u.g)if(H)for(var it="",Mt=H.split("&"),Ee=0;Ee<Mt.length;Ee++){var xt=Mt[Ee].split("=");if(1<xt.length){var Ie=xt[0];xt=xt[1];var Te=Ie.split("_");it=2<=Te.length&&Te[1]=="type"?it+(Ie+"="+xt+"&"):it+(Ie+"=redacted&")}}else it=null;else it=H;return"XMLHTTP REQ ("+A+") [attempt "+P+"]: "+m+`
`+_+`
`+it})}function Co(u,m,_,A,P,H,it){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+P+"]: "+m+`
`+_+`
`+H+" "+it})}function Ji(u,m,_,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+De(u,_)+(A?" "+A:"")})}function jn(u,m){u.info(function(){return"TIMEOUT: "+m})}Zi.prototype.info=function(){};function De(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var A=_[u];if(!(2>A.length)){var P=A[1];if(Array.isArray(P)&&!(1>P.length)){var H=P[0];if(H!="noop"&&H!="stop"&&H!="close")for(var it=1;it<P.length;it++)P[it]=""}}}}return Hs(_)}catch{return m}}var ve={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},di={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gr;function Oa(){}L(Oa,Gs),Oa.prototype.g=function(){return new XMLHttpRequest},Oa.prototype.i=function(){return{}},Gr=new Oa;function Hn(u,m,_,A){this.j=u,this.i=m,this.l=_,this.R=A||1,this.U=new Hr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fs}function Fs(){this.i=null,this.g="",this.h=!1}var Wi={},Qr={};function Mn(u,m,_){u.L=1,u.v=Yr(re(m)),u.m=_,u.P=!0,mi(u,null)}function mi(u,m){u.F=Date.now(),Jt(u),u.A=re(u.v);var _=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),yi(_.i,"t",A),u.C=0,_=u.j.J,u.h=new Fs,u.g=qo(u.j,_?m:null,!u.m),0<u.O&&(u.M=new qc(R(u.Y,u,u.g),u.O)),m=u.U,_=u.g,A=u.ca;var P="readystatechange";Array.isArray(P)||(P&&(Fi[0]=P.toString()),P=Fi);for(var H=0;H<P.length;H++){var it=hi(_,P[H],A||m.handleEvent,!1,m.h||m);if(!it)break;m.g[it.key]=it}m=u.H?w(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Xi(),wo(u.i,u.u,u.A,u.l,u.R,u.m)}Hn.prototype.ca=function(u){u=u.target;const m=this.M;m&&Tn(u)==3?m.j():this.Y(u)},Hn.prototype.Y=function(u){try{if(u==this.g)t:{const Te=Tn(this.g);var m=this.g.Ba();const Ti=this.g.Z();if(!(3>Te)&&(Te!=3||this.g&&(this.h.h||this.g.oa()||Mo(this.g)))){this.J||Te!=4||m==7||(m==8||0>=Ti?Xi(3):Xi(2)),Ma(this);var _=this.g.Z();this.X=_;e:if(tr(this)){var A=Mo(this.g);u="";var P=A.length,H=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){en(this),sn(this);var it="";break e}this.h.i=new g.TextDecoder}for(m=0;m<P;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(H&&m==P-1)});A.length=0,this.h.g+=u,this.C=0,it=this.h.g}else it=this.g.oa();if(this.o=_==200,Co(this.i,this.u,this.A,this.l,this.R,Te,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,Ee=this.g;if((Mt=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!et(Mt)){var xt=Mt;break e}}xt=null}if(_=xt)Ji(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ln(this,_);else{this.o=!1,this.s=3,oe(12),en(this),sn(this);break t}}if(this.P){_=!0;let Ue;for(;!this.J&&this.C<it.length;)if(Ue=er(this,it),Ue==Qr){Te==4&&(this.s=4,oe(14),_=!1),Ji(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==Wi){this.s=4,oe(15),Ji(this.i,this.l,it,"[Invalid Chunk]"),_=!1;break}else Ji(this.i,this.l,Ue,null),ln(this,Ue);if(tr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||it.length!=0||this.h.h||(this.s=1,oe(16),_=!1),this.o=this.o&&_,!_)Ji(this.i,this.l,it,"[Invalid Chunked Response]"),en(this),sn(this);else if(0<it.length&&!this.W){this.W=!0;var Ie=this.j;Ie.g==this&&Ie.ba&&!Ie.M&&(Ie.j.info("Great, no buffering proxy detected. Bytes received: "+it.length),ea(Ie),Ie.M=!0,oe(11))}}else Ji(this.i,this.l,it,null),ln(this,it);Te==4&&en(this),this.o&&!this.J&&(Te==4?Po(this.j,this):(this.o=!1,Jt(this)))}else Kc(this.g),_==400&&0<it.indexOf("Unknown SID")?(this.s=3,oe(12)):(this.s=0,oe(13)),en(this),sn(this)}}}catch{}finally{}};function tr(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function er(u,m){var _=u.C,A=m.indexOf(`
`,_);return A==-1?Qr:(_=Number(m.substring(_,A)),isNaN(_)?Wi:(A+=1,A+_>m.length?Qr:(m=m.slice(A,A+_),u.C=A+_,m)))}Hn.prototype.cancel=function(){this.J=!0,en(this)};function Jt(u){u.S=Date.now()+u.I,Ks(u,u.I)}function Ks(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=$i(R(u.ba,u),m)}function Ma(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Hn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(jn(this.i,this.A),this.L!=2&&(Xi(),oe(17)),en(this),this.s=2,sn(this)):Ks(this,this.S-u)};function sn(u){u.j.G==0||u.J||Po(u.j,u)}function en(u){Ma(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,je(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ln(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||nr(_.h,u))){if(!u.K&&nr(_.h,u)&&_.G==3){try{var A=_.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var P=A;if(P[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Ha(_),qa(_);else break t;rl(_),oe(18)}}else _.za=P[1],0<_.za-_.T&&37500>P[2]&&_.F&&_.v==0&&!_.C&&(_.C=$i(R(_.Za,_),6e3));if(1>=Do(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ei(_,11)}else if((u.K||_.g==u)&&Ha(_),!et(m))for(P=_.Da.g.parse(m),m=0;m<P.length;m++){let xt=P[m];if(_.T=xt[0],xt=xt[1],_.G==2)if(xt[0]=="c"){_.K=xt[1],_.ia=xt[2];const Ie=xt[3];Ie!=null&&(_.la=Ie,_.j.info("VER="+_.la));const Te=xt[4];Te!=null&&(_.Aa=Te,_.j.info("SVER="+_.Aa));const Ti=xt[5];Ti!=null&&typeof Ti=="number"&&0<Ti&&(A=1.5*Ti,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Ue=u.g;if(Ue){const $n=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($n){var H=A.h;H.g||$n.indexOf("spdy")==-1&&$n.indexOf("quic")==-1&&$n.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(ir(H,H.h),H.h=null))}if(A.D){const sl=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;sl&&(A.ya=sl,kt(A.I,A.D,sl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var it=u;if(A.qa=Bo(A,A.J?A.ia:null,A.W),it.K){yn(A.h,it);var Mt=it,Ee=A.L;Ee&&(Mt.I=Ee),Mt.B&&(Ma(Mt),Jt(Mt)),A.g=it}else Lo(A);0<_.i.length&&ja(_)}else xt[0]!="stop"&&xt[0]!="close"||Ei(_,7);else _.G==3&&(xt[0]=="stop"||xt[0]=="close"?xt[0]=="stop"?Ei(_,7):nl(_):xt[0]!="noop"&&_.l&&_.l.ta(xt),_.v=0)}}Xi(4)}catch{}}var jc=class{constructor(u,m){this.g=u,this.map=m}};function Ys(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Do(u){return u.h?1:u.g?u.g.size:0}function nr(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ir(u,m){u.g?u.g.add(m):u.h=m}function yn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ys.prototype.cancel=function(){if(this.i=$e(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function $e(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return K(u.i)}function Vo(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],_=u.length,A=0;A<_;A++)m.push(u[A]);return m}m=[],_=0;for(A in u)m[_++]=u[A];return m}function Hc(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const A in u)m[_++]=A;return m}}}function Fr(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=Hc(u),A=Vo(u),P=A.length,H=0;H<P;H++)m.call(void 0,A[H],_&&_[H],u)}var $s=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xa(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var A=u[_].indexOf("="),P=null;if(0<=A){var H=u[_].substring(0,A);P=u[_].substring(A+1)}else H=u[_];m(H,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function gi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof gi){this.h=u.h,rr(this,u.j),this.o=u.o,this.g=u.g,Kr(this,u.s),this.l=u.l;var m=u.i,_=new Gn;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Ua(this,_),this.m=u.m}else u&&(m=String(u).match($s))?(this.h=!1,rr(this,m[1]||"",!0),this.o=ar(m[2]||""),this.g=ar(m[3]||"",!0),Kr(this,m[4]),this.l=ar(m[5]||"",!0),Ua(this,m[6]||"",!0),this.m=ar(m[7]||"")):(this.h=!1,this.i=new Gn(null,this.h))}gi.prototype.toString=function(){var u=[],m=this.j;m&&u.push(_n(m,Zs,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(_n(m,Zs,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(_n(_,_.charAt(0)=="/"?Js:Io,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",_n(_,Fc)),u.join("")};function re(u){return new gi(u)}function rr(u,m,_){u.j=_?ar(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Kr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ua(u,m,_){m instanceof Gn?(u.i=m,Ws(u.i,u.h)):(_||(m=_n(m,Qc)),u.i=new Gn(m,u.h))}function kt(u,m,_){u.i.set(m,_)}function Yr(u){return kt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ar(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function _n(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,Gc),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Gc(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Zs=/[#\/\?@]/g,Io=/[#\?:]/g,Js=/[#\?]/g,Qc=/[#\?@]/g,Fc=/#/g;function Gn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function vn(u){u.g||(u.g=new Map,u.h=0,u.i&&xa(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}a=Gn.prototype,a.add=function(u,m){vn(this),this.i=null,u=_i(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function La(u,m){vn(u),m=_i(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function pi(u,m){return vn(u),m=_i(u,m),u.g.has(m)}a.forEach=function(u,m){vn(this),this.g.forEach(function(_,A){_.forEach(function(P){u.call(m,P,A,this)},this)},this)},a.na=function(){vn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let A=0;A<m.length;A++){const P=u[A];for(let H=0;H<P.length;H++)_.push(m[A])}return _},a.V=function(u){vn(this);let m=[];if(typeof u=="string")pi(this,u)&&(m=m.concat(this.g.get(_i(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},a.set=function(u,m){return vn(this),this.i=null,u=_i(this,u),pi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function yi(u,m,_){La(u,m),0<_.length&&(u.i=null,u.g.set(_i(u,m),K(_)),u.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var A=m[_];const H=encodeURIComponent(String(A)),it=this.V(A);for(A=0;A<it.length;A++){var P=H;it[A]!==""&&(P+="="+encodeURIComponent(String(it[A]))),u.push(P)}}return this.i=u.join("&")};function _i(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ws(u,m){m&&!u.j&&(vn(u),u.i=null,u.g.forEach(function(_,A){var P=A.toLowerCase();A!=P&&(La(this,A),yi(this,P,_))},u)),u.j=m}function No(u,m){const _=new Zi;if(g.Image){const A=new Image;A.onload=M(En,_,"TestLoadImage: loaded",!0,m,A),A.onerror=M(En,_,"TestLoadImage: error",!1,m,A),A.onabort=M(En,_,"TestLoadImage: abort",!1,m,A),A.ontimeout=M(En,_,"TestLoadImage: timeout",!1,m,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Xr(u,m){const _=new Zi,A=new AbortController,P=setTimeout(()=>{A.abort(),En(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(H=>{clearTimeout(P),H.ok?En(_,"TestPingServer: ok",!0,m):En(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),En(_,"TestPingServer: error",!1,m)})}function En(u,m,_,A,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),A(_)}catch{}}function $r(){this.g=new Xe}function Qn(u,m,_){const A=_||"";try{Fr(u,function(P,H){let it=P;y(P)&&(it=Hs(P)),m.push(A+H+"="+encodeURIComponent(it))})}catch(P){throw m.push(A+"type="+encodeURIComponent("_badmap")),P}}function sr(u){this.l=u.Ub||null,this.j=u.eb||!1}L(sr,Gs),sr.prototype.g=function(){return new vi(this.l,this.j)},sr.prototype.i=function(u){return function(){return u}}({});function vi(u,m){_e.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(vi,_e),a=vi.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Kn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fn(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function tl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Fn(this):Kn(this),this.readyState==3&&tl(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,Fn(this))},a.Qa=function(u){this.g&&(this.response=u,Fn(this))},a.ga=function(){this.g&&Fn(this)};function Fn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Kn(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function el(u){let m="";return Et(u,function(_,A){m+=A,m+=":",m+=_,m+=`\r
`}),m}function Ve(u,m,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=el(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):kt(u,m,_))}function Ht(u){_e.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(Ht,_e);var za=/^https?$/i,Zr=["POST","PUT"];a=Ht.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gr.g(),this.v=this.o?So(this.o):So(Gr),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){Oo(this,H);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var P in A)_.set(P,A[P]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const H of A.keys())_.set(H,A.get(H));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),P=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Zr,m,void 0))||A||P||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,it]of _)this.g.setRequestHeader(H,it);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Jr(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){Oo(this,H)}};function Oo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Pa(u),Yn(u)}function Pa(u){u.A||(u.A=!0,Ce(u,"complete"),Ce(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ce(this,"complete"),Ce(this,"abort"),Yn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yn(this,!0)),Ht.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?ka(this):this.bb())},a.bb=function(){ka(this)};function ka(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Tn(u)!=4||u.Z()!=2)){if(u.u&&Tn(u)==4)Ao(u.Ea,0,u);else if(Ce(u,"readystatechange"),Tn(u)==4){u.h=!1;try{const it=u.Z();t:switch(it){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var A;if(A=it===0){var P=String(u.D).match($s)[1]||null;!P&&g.self&&g.self.location&&(P=g.self.location.protocol.slice(0,-1)),A=!za.test(P?P.toLowerCase():"")}_=A}if(_)Ce(u,"complete"),Ce(u,"success");else{u.m=6;try{var H=2<Tn(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",Pa(u)}}finally{Yn(u)}}}}function Yn(u,m){if(u.g){Jr(u);const _=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ce(u,"ready");try{_.onreadystatechange=A}catch{}}}function Jr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function Tn(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Bn(m)}};function Mo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Kc(u){const m={};u=(u.g&&2<=Tn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(et(u[A]))continue;var _=O(u[A]);const P=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=m[P]||[];m[P]=H,H.push(_)}x(m,function(A){return A.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wr(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Ba(u){this.Aa=0,this.i=[],this.j=new Zi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wr("baseRetryDelayMs",5e3,u),this.cb=Wr("retryDelaySeedMs",1e4,u),this.Wa=Wr("forwardChannelMaxRetries",2,u),this.wa=Wr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ys(u&&u.concurrentRequestLimit),this.Da=new $r,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Ba.prototype,a.la=8,a.G=1,a.connect=function(u,m,_,A){oe(0),this.W=u,this.H=m||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Bo(this,null,this.W),ja(this)};function nl(u){if(xo(u),u.G==3){var m=u.U++,_=re(u.I);if(kt(_,"SID",u.K),kt(_,"RID",m),kt(_,"TYPE","terminate"),ta(u,_),m=new Hn(u,u.j,m),m.L=2,m.v=Yr(re(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=qo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Jt(m)}ko(u)}function qa(u){u.g&&(ea(u),u.g.cancel(),u.g=null)}function xo(u){qa(u),u.u&&(g.clearTimeout(u.u),u.u=null),Ha(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function ja(u){if(!Xs(u.h)&&!u.s){u.s=!0;var m=u.Ga;_t||I(),gt||(_t(),gt=!0),jt.add(m,u),u.B=0}}function Yc(u,m){return Do(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=$i(R(u.Ga,u,m),al(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const P=new Hn(this,this.j,u);let H=this.o;if(this.S&&(H?(H=w(H),D(H,this.S)):H=this.S),this.m!==null||this.O||(P.H=H,H=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=Uo(this,P,m),_=re(this.I),kt(_,"RID",u),kt(_,"CVER",22),this.D&&kt(_,"X-HTTP-Session-Id",this.D),ta(this,_),H&&(this.O?m="headers="+encodeURIComponent(String(el(H)))+"&"+m:this.m&&Ve(_,this.m,H)),ir(this.h,P),this.Ua&&kt(_,"TYPE","init"),this.P?(kt(_,"$req",m),kt(_,"SID","null"),P.T=!0,Mn(P,_,null)):Mn(P,_,m),this.G=2}}else this.G==3&&(u?il(this,u):this.i.length==0||Xs(this.h)||il(this))};function il(u,m){var _;m?_=m.l:_=u.U++;const A=re(u.I);kt(A,"SID",u.K),kt(A,"RID",_),kt(A,"AID",u.T),ta(u,A),u.m&&u.o&&Ve(A,u.m,u.o),_=new Hn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Uo(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ir(u.h,_),Mn(_,A,m)}function ta(u,m){u.H&&Et(u.H,function(_,A){kt(m,A,_)}),u.l&&Fr({},function(_,A){kt(m,A,_)})}function Uo(u,m,_){_=Math.min(u.i.length,_);var A=u.l?R(u.l.Na,u.l,u):null;t:{var P=u.i;let H=-1;for(;;){const it=["count="+_];H==-1?0<_?(H=P[0].g,it.push("ofs="+H)):H=0:it.push("ofs="+H);let Mt=!0;for(let Ee=0;Ee<_;Ee++){let xt=P[Ee].g;const Ie=P[Ee].map;if(xt-=H,0>xt)H=Math.max(0,P[Ee].g-100),Mt=!1;else try{Qn(Ie,it,"req"+xt+"_")}catch{A&&A(Ie)}}if(Mt){A=it.join("&");break t}}}return u=u.i.splice(0,_),m.D=u,A}function Lo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;_t||I(),gt||(_t(),gt=!0),jt.add(m,u),u.v=0}}function rl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=$i(R(u.Fa,u),al(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,zo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=$i(R(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,oe(10),qa(this),zo(this))};function ea(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function zo(u){u.g=new Hn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=re(u.qa);kt(m,"RID","rpc"),kt(m,"SID",u.K),kt(m,"AID",u.T),kt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&kt(m,"TO",u.ja),kt(m,"TYPE","xmlhttp"),ta(u,m),u.m&&u.o&&Ve(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Yr(re(m)),_.m=null,_.P=!0,mi(_,u)}a.Za=function(){this.C!=null&&(this.C=null,qa(this),rl(this),oe(19))};function Ha(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Po(u,m){var _=null;if(u.g==m){Ha(u),ea(u),u.g=null;var A=2}else if(nr(u.h,m))_=m.D,yn(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var P=u.B;A=Ia(),Ce(A,new Ro(A,_)),ja(u)}else Lo(u);else if(P=m.s,P==3||P==0&&0<m.X||!(A==1&&Yc(u,m)||A==2&&rl(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),P){case 1:Ei(u,5);break;case 4:Ei(u,10);break;case 3:Ei(u,6);break;default:Ei(u,2)}}}function al(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function Ei(u,m){if(u.j.info("Error code "+m),m==2){var _=R(u.fb,u),A=u.Xa;const P=!A;A=new gi(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||rr(A,"https"),Yr(A),P?No(A.toString(),_):Xr(A.toString(),_)}else oe(2);u.G=0,u.l&&u.l.sa(m),ko(u),xo(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),oe(2)):(this.j.info("Failed to ping google.com"),oe(1))};function ko(u){if(u.G=0,u.ka=[],u.l){const m=$e(u.h);(m.length!=0||u.i.length!=0)&&(j(u.ka,m),j(u.ka,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.ra()}}function Bo(u,m,_){var A=_ instanceof gi?re(_):new gi(_);if(A.g!="")m&&(A.g=m+"."+A.g),Kr(A,A.s);else{var P=g.location;A=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;var H=new gi(null);A&&rr(H,A),m&&(H.g=m),P&&Kr(H,P),_&&(H.l=_),A=H}return _=u.D,m=u.ya,_&&m&&kt(A,_,m),kt(A,"VER",u.la),ta(u,A),A}function qo(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ht(new sr({eb:_})):new Ht(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function jo(){}a=jo.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function Ga(){}Ga.prototype.g=function(u,m){return new Ze(u,m)};function Ze(u,m){_e.call(this),this.g=new Ba(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!et(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!et(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Xn(this)}L(Ze,_e),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){nl(this.g)},Ze.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Hs(u),u=_);m.i.push(new jc(m.Ya++,u)),m.G==3&&ja(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,nl(this.g),delete this.g,Ze.aa.N.call(this)};function Ho(u){Ki.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}L(Ho,Ki);function Go(){On.call(this),this.status=1}L(Go,On);function Xn(u){this.g=u}L(Xn,jo),Xn.prototype.ua=function(){Ce(this.g,"a")},Xn.prototype.ta=function(u){Ce(this.g,new Ho(u))},Xn.prototype.sa=function(u){Ce(this.g,new Go)},Xn.prototype.ra=function(){Ce(this.g,"b")},Ga.prototype.createWebChannel=Ga.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,Ev=function(){return new Ga},vv=function(){return Ia()},_v=pn,hd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ve.NO_ERROR=0,ve.TIMEOUT=8,ve.HTTP_ERROR=6,Zu=ve,di.COMPLETE="complete",yv=di,bo.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",_e.prototype.listen=_e.prototype.K,$l=bo,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,pv=Ht}).apply(typeof Hu<"u"?Hu:typeof self<"u"?self:typeof window<"u"?window:{});const Qy="@firebase/firestore",Fy="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Us="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=new uv("@firebase/firestore");function _s(){return Aa.logLevel}function ut(a,...e){if(Aa.logLevel<=zt.DEBUG){const i=e.map(Ld);Aa.debug(`Firestore (${Us}): ${a}`,...i)}}function qi(a,...e){if(Aa.logLevel<=zt.ERROR){const i=e.map(Ld);Aa.error(`Firestore (${Us}): ${a}`,...i)}}function bs(a,...e){if(Aa.logLevel<=zt.WARN){const i=e.map(Ld);Aa.warn(`Firestore (${Us}): ${a}`,...i)}}function Ld(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(a="Unexpected state"){const e=`FIRESTORE (${Us}) INTERNAL ASSERTION FAILED: `+a;throw qi(e),new Error(e)}function Gt(a,e){a||vt()}function St(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends xs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Nb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Fe.UNAUTHENTICATED))}shutdown(){}}class Ob{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Mb{constructor(e){this.t=e,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Gt(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let c=new Pi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Pi,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const p=c;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},g=p=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Pi)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Gt(typeof s.accessToken=="string"),new Tv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Gt(e===null||typeof e=="string"),new Fe(e)}}class xb{constructor(e,i,s){this.l=e,this.h=i,this.P=s,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Ub{constructor(e,i,s){this.l=e,this.h=i,this.P=s}getToken(){return Promise.resolve(new xb(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ky{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Lb{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,pb(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){Gt(this.o===void 0);const s=c=>{c.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,ut("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const o=c=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Ky(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Gt(typeof i.token=="string"),this.R=i.token,new Ky(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=zb(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=e.charAt(o[c]%62))}return s}}function Dt(a,e){return a<e?-1:a>e?1:0}function fd(a,e){let i=0;for(;i<a.length&&i<e.length;){const s=a.codePointAt(i),o=e.codePointAt(i);if(s!==o){if(s<128&&o<128)return Dt(s,o);{const c=Av(),d=Pb(c.encode(Yy(a,i)),c.encode(Yy(e,i)));return d!==0?d:Dt(s,o)}}i+=s>65535?2:1}return Dt(a.length,e.length)}function Yy(a,e){return a.codePointAt(e)>65535?a.substring(e,e+2):a.substring(e,e+1)}function Pb(a,e){for(let i=0;i<a.length&&i<e.length;++i)if(a[i]!==e[i])return Dt(a[i],e[i]);return Dt(a.length,e.length)}function Rs(a,e,i){return a.length===e.length&&a.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy=-62135596800,$y=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(e){return Re.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*$y);return new Re(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new dt(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new dt(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Xy)throw new dt(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new dt(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$y}_compareTo(e){return this.seconds===e.seconds?Dt(this.nanoseconds,e.nanoseconds):Dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Xy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new Re(0,0))}static max(){return new Tt(new Re(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="__name__";class ni{constructor(e,i,s){i===void 0?i=0:i>e.length&&vt(),s===void 0?s=e.length-i:s>e.length-i&&vt(),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ni.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ni?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const c=ni.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Dt(e.length,i.length)}static compareSegments(e,i){const s=ni.isNumericId(e),o=ni.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?ni.extractNumericId(e).compare(ni.extractNumericId(i)):fd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ir.fromString(e.substring(4,e.length-2))}}class Zt extends ni{construct(e,i,s){return new Zt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new dt(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new Zt(i)}static emptyPath(){return new Zt([])}}const kb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends ni{construct(e,i,s){return new Be(e,i,s)}static isValidIdentifier(e){return kb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Zy}static keyField(){return new Be([Zy])}static fromServerFormat(e){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new dt(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new dt(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new dt(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(c(),o++)}if(c(),d)throw new dt(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.path=e}static fromPath(e){return new pt(Zt.fromString(e))}static fromName(e){return new pt(Zt.fromString(e).popFirst(5))}static empty(){return new pt(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Zt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Zt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pt(new Zt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=-1;function Bb(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(s===1e9?new Re(i+1,0):new Re(i,s));return new xr(o,pt.empty(),e)}function qb(a){return new xr(a.readTime,a.key,lo)}class xr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new xr(Tt.min(),pt.empty(),lo)}static max(){return new xr(Tt.max(),pt.empty(),lo)}}function jb(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=pt.comparator(a.documentKey,e.documentKey),i!==0?i:Dt(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ls(a){if(a.code!==W.FAILED_PRECONDITION||a.message!==Hb)throw a;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&vt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Z.reject(i)}static resolve(e){return new Z((i,s)=>{i(e)})}static reject(e){return new Z((i,s)=>{s(e)})}static waitFor(e){return new Z((i,s)=>{let o=0,c=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++c,d&&c===o&&i()},p=>s(p))}),d=!0,c===o&&i()})}static or(e){let i=Z.resolve(!1);for(const s of e)i=i.next(o=>o?Z.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,c)=>{s.push(i.call(this,o,c))}),this.waitFor(s)}static mapArray(e,i){return new Z((s,o)=>{const c=e.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const y=p;i(e[y]).next(T=>{d[y]=T,++g,g===c&&s(d)},T=>o(T))}})}static doWhile(e,i){return new Z((s,o)=>{const c=()=>{e()===!0?i().next(()=>{c()},o):s()};c()})}}function Qb(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function zs(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Sc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd=-1;function bc(a){return a==null}function oc(a){return a===0&&1/a==-1/0}function Fb(a){return typeof a=="number"&&Number.isInteger(a)&&!oc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="";function Kb(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=Jy(e)),e=Yb(a.get(i),e);return Jy(e)}function Yb(a,e){let i=e;const s=a.length;for(let o=0;o<s;o++){const c=a.charAt(o);switch(c){case"\0":i+="";break;case bv:i+="";break;default:i+=c}}return i}function Jy(a){return a+bv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Br(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function Rv(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e,i){this.comparator=e,this.root=i||ke.EMPTY}insert(e,i){return new ne(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ke.BLACK,null,null))}remove(e){return new ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ke.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gu(this.root,e,this.comparator,!0)}}class Gu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ke{constructor(e,i,s,o,c){this.key=e,this.value=i,this.color=s??ke.RED,this.left=o??ke.EMPTY,this.right=c??ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,c){return new ke(e??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ke.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ke.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw vt();const e=this.left.check();if(e!==this.right.check())throw vt();return e+(this.isRed()?0:1)}}ke.EMPTY=null,ke.RED=!0,ke.BLACK=!1;ke.EMPTY=new class{constructor(){this.size=0}get key(){throw vt()}get value(){throw vt()}get color(){throw vt()}get left(){throw vt()}get right(){throw vt()}copy(e,i,s,o,c){return this}insert(e,i,s){return new ke(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.comparator=e,this.data=new ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new t_(this.data.getIterator())}getIteratorFrom(e){return new t_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof we)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new we(this.comparator);return i.data=e,i}}class t_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new dn([])}unionWith(e){let i=new we(Be.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new dn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Rs(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new wv("Invalid base64 string: "+c):c}}(e);return new qe(i)}static fromUint8Array(e){const i=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(e);return new qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const Xb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ur(a){if(Gt(!!a),typeof a=="string"){let e=0;const i=Xb.exec(a);if(Gt(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ce(a.seconds),nanos:ce(a.nanos)}}function ce(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Lr(a){return typeof a=="string"?qe.fromBase64String(a):qe.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="server_timestamp",Dv="__type__",Vv="__previous_value__",Iv="__local_write_time__";function Pd(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[Dv])===null||i===void 0?void 0:i.stringValue)===Cv}function Rc(a){const e=a.mapValue.fields[Vv];return Pd(e)?Rc(e):e}function oo(a){const e=Ur(a.mapValue.fields[Iv].timestampValue);return new Re(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,i,s,o,c,d,g,p,y){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y}}const uc="(default)";class uo{constructor(e,i){this.projectId=e,this.database=i||uc}static empty(){return new uo("","")}get isDefaultDatabase(){return this.database===uc}isEqual(e){return e instanceof uo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="__type__",Zb="__max__",Qu={mapValue:{}},Ov="__vector__",cc="value";function zr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Pd(a)?4:Wb(a)?9007199254740991:Jb(a)?10:11:vt()}function si(a,e){if(a===e)return!0;const i=zr(a);if(i!==zr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return oo(a).isEqual(oo(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Ur(o.timestampValue),g=Ur(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(o,c){return Lr(o.bytesValue).isEqual(Lr(c.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(o,c){return ce(o.geoPointValue.latitude)===ce(c.geoPointValue.latitude)&&ce(o.geoPointValue.longitude)===ce(c.geoPointValue.longitude)}(a,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return ce(o.integerValue)===ce(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=ce(o.doubleValue),g=ce(c.doubleValue);return d===g?oc(d)===oc(g):isNaN(d)&&isNaN(g)}return!1}(a,e);case 9:return Rs(a.arrayValue.values||[],e.arrayValue.values||[],si);case 10:case 11:return function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(Wy(d)!==Wy(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!si(d[p],g[p])))return!1;return!0}(a,e);default:return vt()}}function co(a,e){return(a.values||[]).find(i=>si(i,e))!==void 0}function ws(a,e){if(a===e)return 0;const i=zr(a),s=zr(e);if(i!==s)return Dt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Dt(a.booleanValue,e.booleanValue);case 2:return function(c,d){const g=ce(c.integerValue||c.doubleValue),p=ce(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(a,e);case 3:return e_(a.timestampValue,e.timestampValue);case 4:return e_(oo(a),oo(e));case 5:return fd(a.stringValue,e.stringValue);case 6:return function(c,d){const g=Lr(c),p=Lr(d);return g.compareTo(p)}(a.bytesValue,e.bytesValue);case 7:return function(c,d){const g=c.split("/"),p=d.split("/");for(let y=0;y<g.length&&y<p.length;y++){const T=Dt(g[y],p[y]);if(T!==0)return T}return Dt(g.length,p.length)}(a.referenceValue,e.referenceValue);case 8:return function(c,d){const g=Dt(ce(c.latitude),ce(d.latitude));return g!==0?g:Dt(ce(c.longitude),ce(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return n_(a.arrayValue,e.arrayValue);case 10:return function(c,d){var g,p,y,T;const b=c.fields||{},R=d.fields||{},M=(g=b[cc])===null||g===void 0?void 0:g.arrayValue,L=(p=R[cc])===null||p===void 0?void 0:p.arrayValue,K=Dt(((y=M==null?void 0:M.values)===null||y===void 0?void 0:y.length)||0,((T=L==null?void 0:L.values)===null||T===void 0?void 0:T.length)||0);return K!==0?K:n_(M,L)}(a.mapValue,e.mapValue);case 11:return function(c,d){if(c===Qu.mapValue&&d===Qu.mapValue)return 0;if(c===Qu.mapValue)return 1;if(d===Qu.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),y=d.fields||{},T=Object.keys(y);p.sort(),T.sort();for(let b=0;b<p.length&&b<T.length;++b){const R=fd(p[b],T[b]);if(R!==0)return R;const M=ws(g[p[b]],y[T[b]]);if(M!==0)return M}return Dt(p.length,T.length)}(a.mapValue,e.mapValue);default:throw vt()}}function e_(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Dt(a,e);const i=Ur(a),s=Ur(e),o=Dt(i.seconds,s.seconds);return o!==0?o:Dt(i.nanos,s.nanos)}function n_(a,e){const i=a.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=ws(i[o],s[o]);if(c)return c}return Dt(i.length,s.length)}function Cs(a){return dd(a)}function dd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=Ur(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return Lr(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return pt.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=dd(c);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${dd(i.fields[d])}`;return o+"}"}(a.mapValue):vt()}function Ju(a){switch(zr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rc(a);return e?16+Ju(e):16;case 5:return 2*a.stringValue.length;case 6:return Lr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+Ju(c),0)}(a.arrayValue);case 10:case 11:return function(s){let o=0;return Br(s.fields,(c,d)=>{o+=c.length+Ju(d)}),o}(a.mapValue);default:throw vt()}}function md(a){return!!a&&"integerValue"in a}function kd(a){return!!a&&"arrayValue"in a}function i_(a){return!!a&&"nullValue"in a}function r_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Wu(a){return!!a&&"mapValue"in a}function Jb(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[Nv])===null||i===void 0?void 0:i.stringValue)===Ov}function to(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return Br(a.mapValue.fields,(i,s)=>e.mapValue.fields[i]=to(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=to(a.arrayValue.values[i]);return e}return Object.assign({},a)}function Wb(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===Zb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Wu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=to(i)}setAll(e){let i=Be.emptyPath(),s={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=to(d):o.push(g.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(e){const i=this.field(e.popLast());Wu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return si(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Wu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Br(i,(o,c)=>e[o]=c);for(const o of s)delete e[o]}clone(){return new an(to(this.value))}}function Mv(a){const e=[];return Br(a.fields,(i,s)=>{const o=new Be([i]);if(Wu(s)){const c=Mv(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)}),new dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,i,s,o,c,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ke(e,0,Tt.min(),Tt.min(),Tt.min(),an.empty(),0)}static newFoundDocument(e,i,s,o){return new Ke(e,1,i,Tt.min(),s,o,0)}static newNoDocument(e,i){return new Ke(e,2,i,Tt.min(),Tt.min(),an.empty(),0)}static newUnknownDocument(e,i){return new Ke(e,3,i,Tt.min(),Tt.min(),an.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,i){this.position=e,this.inclusive=i}}function a_(a,e,i){let s=0;for(let o=0;o<a.position.length;o++){const c=e[o],d=a.position[o];if(c.field.isKeyField()?s=pt.comparator(pt.fromName(d.referenceValue),i.key):s=ws(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function s_(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!si(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,i="asc"){this.field=e,this.dir=i}}function t1(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{}class be extends xv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new n1(e,i,s):i==="array-contains"?new a1(e,s):i==="in"?new s1(e,s):i==="not-in"?new l1(e,s):i==="array-contains-any"?new o1(e,s):new be(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new i1(e,s):new r1(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(ws(i,this.value)):i!==null&&zr(this.value)===zr(i)&&this.matchesComparison(ws(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return vt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends xv{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new li(e,i)}matches(e){return Uv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Uv(a){return a.op==="and"}function Lv(a){return e1(a)&&Uv(a)}function e1(a){for(const e of a.filters)if(e instanceof li)return!1;return!0}function gd(a){if(a instanceof be)return a.field.canonicalString()+a.op.toString()+Cs(a.value);if(Lv(a))return a.filters.map(e=>gd(e)).join(",");{const e=a.filters.map(i=>gd(i)).join(",");return`${a.op}(${e})`}}function zv(a,e){return a instanceof be?function(s,o){return o instanceof be&&s.op===o.op&&s.field.isEqual(o.field)&&si(s.value,o.value)}(a,e):a instanceof li?function(s,o){return o instanceof li&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,d,g)=>c&&zv(d,o.filters[g]),!0):!1}(a,e):void vt()}function Pv(a){return a instanceof be?function(i){return`${i.field.canonicalString()} ${i.op} ${Cs(i.value)}`}(a):a instanceof li?function(i){return i.op.toString()+" {"+i.getFilters().map(Pv).join(" ,")+"}"}(a):"Filter"}class n1 extends be{constructor(e,i,s){super(e,i,s),this.key=pt.fromName(s.referenceValue)}matches(e){const i=pt.comparator(e.key,this.key);return this.matchesComparison(i)}}class i1 extends be{constructor(e,i){super(e,"in",i),this.keys=kv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class r1 extends be{constructor(e,i){super(e,"not-in",i),this.keys=kv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function kv(a,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>pt.fromName(s.referenceValue))}class a1 extends be{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return kd(i)&&co(i.arrayValue,this.value)}}class s1 extends be{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&co(this.value.arrayValue,i)}}class l1 extends be{constructor(e,i){super(e,"not-in",i)}matches(e){if(co(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!co(this.value.arrayValue,i)}}class o1 extends be{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!kd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>co(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,i=null,s=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.le=null}}function l_(a,e=null,i=[],s=[],o=null,c=null,d=null){return new u1(a,e,i,s,o,c,d)}function Bd(a){const e=St(a);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>gd(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),bc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>Cs(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>Cs(s)).join(",")),e.le=i}return e.le}function qd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!t1(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!zv(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!s_(a.startAt,e.startAt)&&s_(a.endAt,e.endAt)}function pd(a){return pt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,i=null,s=[],o=[],c=null,d="F",g=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function c1(a,e,i,s,o,c,d,g){return new wc(a,e,i,s,o,c,d,g)}function jd(a){return new wc(a)}function o_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function h1(a){return a.collectionGroup!==null}function eo(a){const e=St(a);if(e.he===null){e.he=[];const i=new Set;for(const c of e.explicitOrderBy)e.he.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new we(Be.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(g=g.add(y.field))})}),g})(e).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||e.he.push(new fc(c,s))}),i.has(Be.keyField().canonicalString())||e.he.push(new fc(Be.keyField(),s))}return e.he}function ii(a){const e=St(a);return e.Pe||(e.Pe=f1(e,eo(a))),e.Pe}function f1(a,e){if(a.limitType==="F")return l_(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new fc(o.field,c)});const i=a.endAt?new hc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new hc(a.startAt.position,a.startAt.inclusive):null;return l_(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function yd(a,e,i){return new wc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function Cc(a,e){return qd(ii(a),ii(e))&&a.limitType===e.limitType}function Bv(a){return`${Bd(ii(a))}|lt:${a.limitType}`}function vs(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>Pv(o)).join(", ")}]`),bc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>Cs(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>Cs(o)).join(",")),`Target(${s})`}(ii(a))}; limitType=${a.limitType})`}function Dc(a,e){return e.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):pt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(a,e)&&function(s,o){for(const c of eo(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(a,e)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(a,e)&&function(s,o){return!(s.startAt&&!function(d,g,p){const y=a_(d,g,p);return d.inclusive?y<=0:y<0}(s.startAt,eo(s),o)||s.endAt&&!function(d,g,p){const y=a_(d,g,p);return d.inclusive?y>=0:y>0}(s.endAt,eo(s),o))}(a,e)}function d1(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function qv(a){return(e,i)=>{let s=!1;for(const o of eo(a)){const c=m1(o,e,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function m1(a,e,i){const s=a.field.isKeyField()?pt.comparator(e.key,i.key):function(c,d,g){const p=d.data.field(c),y=g.data.field(c);return p!==null&&y!==null?ws(p,y):vt()}(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return vt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Br(this.inner,(i,s)=>{for(const[o,c]of s)e(o,c)})}isEmpty(){return Rv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1=new ne(pt.comparator);function ji(){return g1}const jv=new ne(pt.comparator);function Zl(...a){let e=jv;for(const i of a)e=e.insert(i.key,i);return e}function Hv(a){let e=jv;return a.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function Ta(){return no()}function Gv(){return no()}function no(){return new Ra(a=>a.toString(),(a,e)=>a.isEqual(e))}const p1=new ne(pt.comparator),y1=new we(pt.comparator);function Nt(...a){let e=y1;for(const i of a)e=e.add(i);return e}const _1=new we(Dt);function v1(){return _1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oc(e)?"-0":e}}function Qv(a){return{integerValue:""+a}}function E1(a,e){return Fb(e)?Qv(e):Hd(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(){this._=void 0}}function T1(a,e,i){return a instanceof dc?function(o,c){const d={fields:{[Dv]:{stringValue:Cv},[Iv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Pd(c)&&(c=Rc(c)),c&&(d.fields[Vv]=c),{mapValue:d}}(i,e):a instanceof ho?Kv(a,e):a instanceof fo?Yv(a,e):function(o,c){const d=Fv(o,c),g=u_(d)+u_(o.Ie);return md(d)&&md(o.Ie)?Qv(g):Hd(o.serializer,g)}(a,e)}function A1(a,e,i){return a instanceof ho?Kv(a,e):a instanceof fo?Yv(a,e):i}function Fv(a,e){return a instanceof mc?function(s){return md(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class dc extends Vc{}class ho extends Vc{constructor(e){super(),this.elements=e}}function Kv(a,e){const i=Xv(e);for(const s of a.elements)i.some(o=>si(o,s))||i.push(s);return{arrayValue:{values:i}}}class fo extends Vc{constructor(e){super(),this.elements=e}}function Yv(a,e){let i=Xv(e);for(const s of a.elements)i=i.filter(o=>!si(o,s));return{arrayValue:{values:i}}}class mc extends Vc{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function u_(a){return ce(a.integerValue||a.doubleValue)}function Xv(a){return kd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function S1(a,e){return a.field.isEqual(e.field)&&function(s,o){return s instanceof ho&&o instanceof ho||s instanceof fo&&o instanceof fo?Rs(s.elements,o.elements,si):s instanceof mc&&o instanceof mc?si(s.Ie,o.Ie):s instanceof dc&&o instanceof dc}(a.transform,e.transform)}class b1{constructor(e,i){this.version=e,this.transformResults=i}}class kn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new kn}static exists(e){return new kn(void 0,e)}static updateTime(e){return new kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tc(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Ic{}function $v(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Gd(a.key,kn.none()):new yo(a.key,a.data,kn.none());{const i=a.data,s=an.empty();let o=new we(Be.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new qr(a.key,s,new dn(o.toArray()),kn.none())}}function R1(a,e,i){a instanceof yo?function(o,c,d){const g=o.value.clone(),p=h_(o.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,e,i):a instanceof qr?function(o,c,d){if(!tc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=h_(o.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(Zv(o)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(a,e,i):function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function io(a,e,i,s){return a instanceof yo?function(c,d,g,p){if(!tc(c.precondition,d))return g;const y=c.value.clone(),T=f_(c.fieldTransforms,p,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(a,e,i,s):a instanceof qr?function(c,d,g,p){if(!tc(c.precondition,d))return g;const y=f_(c.fieldTransforms,p,d),T=d.data;return T.setAll(Zv(c)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(b=>b.field))}(a,e,i,s):function(c,d,g){return tc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,e,i)}function w1(a,e){let i=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),c=Fv(s.transform,o||null);c!=null&&(i===null&&(i=an.empty()),i.set(s.field,c))}return i||null}function c_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Rs(s,o,(c,d)=>S1(c,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class yo extends Ic{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class qr extends Ic{constructor(e,i,s,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Zv(a){const e=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}}),e}function h_(a,e,i){const s=new Map;Gt(a.length===i.length);for(let o=0;o<i.length;o++){const c=a[o],d=c.transform,g=e.data.field(c.field);s.set(c.field,A1(d,g,i[o]))}return s}function f_(a,e,i){const s=new Map;for(const o of a){const c=o.transform,d=i.data.field(o.field);s.set(o.field,T1(c,d,e))}return s}class Gd extends Ic{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class C1 extends Ic{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&R1(c,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=io(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=io(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Gv();return this.mutations.forEach(o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const p=$v(d,g);p!==null&&s.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(Tt.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Nt())}isEqual(e){return this.batchId===e.batchId&&Rs(this.mutations,e.mutations,(i,s)=>c_(i,s))&&Rs(this.baseMutations,e.baseMutations,(i,s)=>c_(i,s))}}class Qd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Gt(e.mutations.length===s.length);let o=function(){return p1}();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new Qd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,Lt;function N1(a){switch(a){case W.OK:return vt();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return vt()}}function Jv(a){if(a===void 0)return qi("GRPC error has no .code"),W.UNKNOWN;switch(a){case pe.OK:return W.OK;case pe.CANCELLED:return W.CANCELLED;case pe.UNKNOWN:return W.UNKNOWN;case pe.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case pe.INTERNAL:return W.INTERNAL;case pe.UNAVAILABLE:return W.UNAVAILABLE;case pe.UNAUTHENTICATED:return W.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case pe.NOT_FOUND:return W.NOT_FOUND;case pe.ALREADY_EXISTS:return W.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return W.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case pe.ABORTED:return W.ABORTED;case pe.OUT_OF_RANGE:return W.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return W.UNIMPLEMENTED;case pe.DATA_LOSS:return W.DATA_LOSS;default:return vt()}}(Lt=pe||(pe={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=new Ir([4294967295,4294967295],0);function d_(a){const e=Av().encode(a),i=new gv;return i.update(e),new Uint8Array(i.digest())}function m_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ir([i,s],0),new Ir([o,c],0)]}class Fd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Jl(`Invalid padding: ${i}`);if(s<0)throw new Jl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Jl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Jl(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=Ir.fromNumber(this.Ee)}Ae(e,i,s){let o=e.add(i.multiply(Ir.fromNumber(s)));return o.compare(O1)===1&&(o=new Ir([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=d_(e),[s,o]=m_(i);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,o,c);if(!this.Re(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Fd(c,o,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.Ee===0)return;const i=d_(e),[s,o]=m_(i);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,o,c);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,i,s,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,_o.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Nc(Tt.min(),o,new ne(Dt),ji(),Nt())}}class _o{constructor(e,i,s,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new _o(s,i,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,i,s,o){this.me=e,this.removedTargetIds=i,this.key=s,this.fe=o}}class Wv{constructor(e,i){this.targetId=e,this.ge=i}}class tE{constructor(e,i,s=qe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class g_{constructor(){this.pe=0,this.ye=p_(),this.we=qe.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Nt(),i=Nt(),s=Nt();return this.ye.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:vt()}}),new _o(this.we,this.Se,e,i,s)}Me(){this.be=!1,this.ye=p_()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Gt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class M1{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ji(),this.$e=Fu(),this.Ue=Fu(),this.Ke=new ne(Dt)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const s=this.He(i);switch(e.state){case 0:this.Je(i)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(i);break;case 3:this.Je(i)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),s.Ce(e.resumeToken));break;default:vt()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((s,o)=>{this.Je(o)&&i(o)})}Ze(e){const i=e.targetId,s=e.ge.count,o=this.Xe(i);if(o){const c=o.target;if(pd(c))if(s===0){const d=new pt(c.path);this.ze(i,d,Ke.newNoDocument(d,Tt.min()))}else Gt(s===1);else{const d=this.et(i);if(d!==s){const g=this.tt(e),p=g?this.nt(g,e,d):1;if(p!==0){this.Ye(i);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,y)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=Lr(s).toUint8Array()}catch(p){if(p instanceof wv)return bs("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Fd(d,o,c)}catch(p){return bs(p instanceof Jl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.Ee===0?null:g}nt(e,i,s){return i.ge.count===s-this.st(e,i.targetId)?0:2}st(e,i){const s=this.ke.getRemoteKeysForTarget(i);let o=0;return s.forEach(c=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.ze(i,c,null),o++)}),o}ot(e){const i=new Map;this.qe.forEach((c,d)=>{const g=this.Xe(d);if(g){if(c.current&&pd(g.target)){const p=new pt(g.target.path);this._t(p).has(d)||this.ut(d,p)||this.ze(d,p,Ke.newNoDocument(p,e))}c.ve&&(i.set(d,c.Fe()),c.Me())}});let s=Nt();this.Ue.forEach((c,d)=>{let g=!0;d.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.Qe.forEach((c,d)=>d.setReadTime(e));const o=new Nc(e,i,this.Ke,this.Qe,s);return this.Qe=ji(),this.$e=Fu(),this.Ue=Fu(),this.Ke=new ne(Dt),o}Ge(e,i){if(!this.Je(e))return;const s=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,s),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(e))}ze(e,i,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,i)?o.xe(i,1):o.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(e)),this.Ue=this.Ue.insert(i,this.ct(i).add(e)),s&&(this.Qe=this.Qe.insert(i,s))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new g_,this.qe.set(e,i)),i}ct(e){let i=this.Ue.get(e);return i||(i=new we(Dt),this.Ue=this.Ue.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new we(Dt),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||ut("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new g_),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function Fu(){return new ne(pt.comparator)}function p_(){return new ne(pt.comparator)}const x1={asc:"ASCENDING",desc:"DESCENDING"},U1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},L1={and:"AND",or:"OR"};class z1{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function _d(a,e){return a.useProto3Json||bc(e)?e:{value:e}}function gc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eE(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function P1(a,e){return gc(a,e.toTimestamp())}function ri(a){return Gt(!!a),Tt.fromTimestamp(function(i){const s=Ur(i);return new Re(s.seconds,s.nanos)}(a))}function Kd(a,e){return vd(a,e).canonicalString()}function vd(a,e){const i=function(o){return new Zt(["projects",o.projectId,"databases",o.database])}(a).child("documents");return e===void 0?i:i.child(e)}function nE(a){const e=Zt.fromString(a);return Gt(lE(e)),e}function Ed(a,e){return Kd(a.databaseId,e.path)}function Zf(a,e){const i=nE(e);if(i.get(1)!==a.databaseId.projectId)throw new dt(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new dt(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new pt(rE(i))}function iE(a,e){return Kd(a.databaseId,e)}function k1(a){const e=nE(a);return e.length===4?Zt.emptyPath():rE(e)}function Td(a){return new Zt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function rE(a){return Gt(a.length>4&&a.get(4)==="documents"),a.popFirst(5)}function y_(a,e,i){return{name:Ed(a,e),fields:i.value.mapValue.fields}}function B1(a,e){let i;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:vt()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(y,T){return y.useProto3Json?(Gt(T===void 0||typeof T=="string"),qe.fromBase64String(T||"")):(Gt(T===void 0||T instanceof Buffer||T instanceof Uint8Array),qe.fromUint8Array(T||new Uint8Array))}(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(y){const T=y.code===void 0?W.UNKNOWN:Jv(y.code);return new dt(T,y.message||"")}(d);i=new tE(s,o,c,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Zf(a,s.document.name),c=ri(s.document.updateTime),d=s.document.createTime?ri(s.document.createTime):Tt.min(),g=new an({mapValue:{fields:s.document.fields}}),p=Ke.newFoundDocument(o,c,d,g),y=s.targetIds||[],T=s.removedTargetIds||[];i=new ec(y,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Zf(a,s.document),c=s.readTime?ri(s.readTime):Tt.min(),d=Ke.newNoDocument(o,c),g=s.removedTargetIds||[];i=new ec([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Zf(a,s.document),c=s.removedTargetIds||[];i=new ec([],c,o,null)}else{if(!("filter"in e))return vt();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new I1(o,c),g=s.targetId;i=new Wv(g,d)}}return i}function q1(a,e){let i;if(e instanceof yo)i={update:y_(a,e.key,e.value)};else if(e instanceof Gd)i={delete:Ed(a,e.key)};else if(e instanceof qr)i={update:y_(a,e.key,e.data),updateMask:$1(e.fieldMask)};else{if(!(e instanceof C1))return vt();i={verify:Ed(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(c,d){const g=d.transform;if(g instanceof dc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof ho)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof fo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof mc)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw vt()}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:P1(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:vt()}(a,e.precondition)),i}function j1(a,e){return a&&a.length>0?(Gt(e!==void 0),a.map(i=>function(o,c){let d=o.updateTime?ri(o.updateTime):ri(c);return d.isEqual(Tt.min())&&(d=ri(c)),new b1(d,o.transformResults||[])}(i,e))):[]}function H1(a,e){return{documents:[iE(a,e.path)]}}function G1(a,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=iE(a,o);const c=function(y){if(y.length!==0)return sE(li.create(y,"and"))}(e.filters);c&&(i.structuredQuery.where=c);const d=function(y){if(y.length!==0)return y.map(T=>function(R){return{field:Es(R.field),direction:K1(R.dir)}}(T))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=_d(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:i,parent:o}}function Q1(a){let e=k1(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Gt(s===1);const T=i.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let c=[];i.where&&(c=function(b){const R=aE(b);return R instanceof li&&Lv(R)?R.getFilters():[R]}(i.where));let d=[];i.orderBy&&(d=function(b){return b.map(R=>function(L){return new fc(Ts(L.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(R))}(i.orderBy));let g=null;i.limit&&(g=function(b){let R;return R=typeof b=="object"?b.value:b,bc(R)?null:R}(i.limit));let p=null;i.startAt&&(p=function(b){const R=!!b.before,M=b.values||[];return new hc(M,R)}(i.startAt));let y=null;return i.endAt&&(y=function(b){const R=!b.before,M=b.values||[];return new hc(M,R)}(i.endAt)),c1(e,o,d,c,g,"F",p,y)}function F1(a,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function aE(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ts(i.unaryFilter.field);return be.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ts(i.unaryFilter.field);return be.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ts(i.unaryFilter.field);return be.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ts(i.unaryFilter.field);return be.create(d,"!=",{nullValue:"NULL_VALUE"});default:return vt()}}(a):a.fieldFilter!==void 0?function(i){return be.create(Ts(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vt()}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return li.create(i.compositeFilter.filters.map(s=>aE(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt()}}(i.compositeFilter.op))}(a):vt()}function K1(a){return x1[a]}function Y1(a){return U1[a]}function X1(a){return L1[a]}function Es(a){return{fieldPath:a.canonicalString()}}function Ts(a){return Be.fromServerFormat(a.fieldPath)}function sE(a){return a instanceof be?function(i){if(i.op==="=="){if(r_(i.value))return{unaryFilter:{field:Es(i.field),op:"IS_NAN"}};if(i_(i.value))return{unaryFilter:{field:Es(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(r_(i.value))return{unaryFilter:{field:Es(i.field),op:"IS_NOT_NAN"}};if(i_(i.value))return{unaryFilter:{field:Es(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Es(i.field),op:Y1(i.op),value:i.value}}}(a):a instanceof li?function(i){const s=i.getFilters().map(o=>sE(o));return s.length===1?s[0]:{compositeFilter:{op:X1(i.op),filters:s}}}(a):vt()}function $1(a){const e=[];return a.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function lE(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,i,s,o,c=Tt.min(),d=Tt.min(),g=qe.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new Cr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e){this.Tt=e}}function J1(a){const e=Q1({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?yd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(){this.Tn=new tR}addToCollectionParentIndex(e,i){return this.Tn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(xr.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(xr.min())}updateCollectionGroup(e,i,s){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class tR{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new we(Zt.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new we(Zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oE=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(oE,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Ds(0)}static Kn(){return new Ds(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="LruGarbageCollector",eR=1048576;function E_([a,e],[i,s]){const o=Dt(a,i);return o===0?Dt(e,s):o}class nR{constructor(e){this.Hn=e,this.buffer=new we(E_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();E_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class iR{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ut(v_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){zs(i)?ut(v_,"Ignoring IndexedDB error during garbage collection: ",i):await Ls(i)}await this.er(3e5)})}}class rR{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(Sc.ae);const s=new nR(i);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.tr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(__)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),__):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let s,o,c,d,g,p,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,d=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,g=Date.now(),this.removeTargets(e,s,i))).next(b=>(c=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(y=Date.now(),_s()<=zt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${b} documents in `+(y-p)+`ms
Total Duration: ${y-T}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:b})))}}function aR(a,e){return new rR(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(){this.changes=new Ra(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ke.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Z.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&io(s.mutation,o,dn.empty(),Re.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Nt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Nt()){const o=Ta();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(c=>{let d=Zl();return c.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=Ta();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Nt()))}populateOverlays(e,i,s){const o=[];return s.forEach(c=>{i.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,o){let c=ji();const d=no(),g=function(){return no()}();return i.forEach((p,y)=>{const T=s.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof qr)?c=c.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),io(T.mutation,y,T.mutation.getFieldMask(),Re.now())):d.set(y.key,dn.empty())}),this.recalculateAndSaveOverlays(e,c).next(p=>(p.forEach((y,T)=>d.set(y,T)),i.forEach((y,T)=>{var b;return g.set(y,new lR(T,(b=d.get(y))!==null&&b!==void 0?b:null))}),g))}recalculateAndSaveOverlays(e,i){const s=no();let o=new ne((d,g)=>d-g),c=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(p=>{const y=i.get(p);if(y===null)return;let T=s.get(p)||dn.empty();T=g.applyToLocalView(y,T),s.set(p,T);const b=(o.get(g.batchId)||Nt()).add(p);o=o.insert(g.batchId,b)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,T=p.value,b=Gv();T.forEach(R=>{if(!c.has(R)){const M=$v(i.get(R),s.get(R));M!==null&&b.set(R,M),c=c.add(R)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,b))}return Z.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return pt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):h1(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-c.size):Z.resolve(Ta());let g=lo,p=c;return d.next(y=>Z.forEach(y,(T,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),c.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(e,T).next(R=>{p=p.insert(T,R)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,p,y,Nt())).next(T=>({batchId:g,changes:Hv(T)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pt(i)).next(s=>{let o=Zl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const c=i.collectionGroup;let d=Zl();return this.indexManager.getCollectionParents(e,c).next(g=>Z.forEach(g,p=>{const y=function(b,R){return new wc(R,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(T=>{T.forEach((b,R)=>{d=d.insert(b,R)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,o))).next(d=>{c.forEach((p,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,Ke.newInvalidDocument(T)))});let g=Zl();return d.forEach((p,y)=>{const T=c.get(p);T!==void 0&&io(T.mutation,y,dn.empty(),Re.now()),Dc(i,y)&&(g=g.insert(p,y))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return Z.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ri(o.createTime)}}(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:J1(o.bundledQuery),readTime:ri(o.readTime)}}(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(){this.overlays=new ne(pt.comparator),this.Rr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Ta();return Z.forEach(i,o=>this.getOverlay(e,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,c)=>{this.Et(e,i,c)}),Z.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(s)),Z.resolve()}getOverlaysForCollection(e,i,s){const o=Ta(),c=i.length+1,d=new pt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let c=new ne((y,T)=>y-T);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let T=c.get(y.largestBatchId);T===null&&(T=Ta(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const g=Ta(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,T)=>g.set(y,T)),!(g.size()>=o)););return Z.resolve(g)}Et(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new V1(i,s));let c=this.Rr.get(i);c===void 0&&(c=Nt(),this.Rr.set(i,c)),this.Rr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(){this.Vr=new we(xe.mr),this.gr=new we(xe.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const s=new xe(e,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.wr(new xe(e,i))}Sr(e,i){e.forEach(s=>this.removeReference(s,i))}br(e){const i=new pt(new Zt([])),s=new xe(i,e),o=new xe(i,e+1),c=[];return this.gr.forEachInRange([s,o],d=>{this.wr(d),c.push(d.key)}),c}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new pt(new Zt([])),s=new xe(i,e),o=new xe(i,e+1);let c=Nt();return this.gr.forEachInRange([s,o],d=>{c=c.add(d.key)}),c}containsKey(e){const i=new xe(e,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class xe{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return pt.comparator(e.key,i.key)||Dt(e.Cr,i.Cr)}static pr(e,i){return Dt(e.Cr,i.Cr)||pt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new we(xe.mr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new D1(c,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Mr=this.Mr.add(new xe(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Nr(s),c=o<0?0:o;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?zd:this.Fr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new xe(i,0),o=new xe(i,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([s,o],d=>{const g=this.Or(d.Cr);c.push(g)}),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new we(Dt);return i.forEach(o=>{const c=new xe(o,0),d=new xe(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,d],g=>{s=s.add(g.Cr)})}),Z.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let c=s;pt.isDocumentKey(c)||(c=c.child(""));const d=new xe(new pt(c),0);let g=new we(Dt);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(g=g.add(p.Cr)),!0)},d),Z.resolve(this.Br(g))}Br(e){const i=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){Gt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return Z.forEach(i.mutations,o=>{const c=new xe(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,i){const s=new xe(i,0),o=this.Mr.firstAfterOrEqual(s);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e){this.kr=e,this.docs=function(){return new ne(pt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,d=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Z.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(e,i){let s=ji();return i.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Ke.newInvalidDocument(o))}),Z.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let c=ji();const d=i.path,g=new pt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:T}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||jb(qb(T),s)<=0||(o.has(T.key)||Dc(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(e,i,s,o){vt()}qr(e,i){return Z.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new mR(this)}getSize(e){return Z.resolve(this.size)}}class mR extends sR{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),Z.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.persistence=e,this.Qr=new Ra(i=>Bd(i),qd),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Yd,this.targetCount=0,this.Kr=Ds.Un()}forEachTarget(e,i){return this.Qr.forEach((s,o)=>i(o)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),Z.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Kr=new Ds(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.zn(i),Z.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,s){let o=0;const c=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.Qr.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),Z.waitFor(c).next(()=>o)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const s=this.Qr.get(i)||null;return Z.resolve(s)}addMatchingKeys(e,i,s){return this.Ur.yr(i,s),Z.resolve()}removeMatchingKeys(e,i,s){this.Ur.Sr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach(d=>{c.push(o.markPotentiallyOrphaned(e,d))}),Z.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.Ur.br(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const s=this.Ur.vr(i);return Z.resolve(s)}containsKey(e,i){return Z.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new Sc(0),this.zr=!1,this.zr=!0,this.jr=new hR,this.referenceDelegate=e(this),this.Hr=new gR(this),this.indexManager=new W1,this.remoteDocumentCache=function(o){return new dR(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new Z1(i),this.Yr=new uR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new cR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.Wr[e.toKey()];return s||(s=new fR(i,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,s){ut("MemoryPersistence","Starting transaction:",e);const o=new pR(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(c=>this.referenceDelegate.Xr(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}ei(e,i){return Z.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,i)))}}class pR extends Gb{constructor(e){super(),this.currentSequenceNumber=e}}class Xd{constructor(e){this.persistence=e,this.ti=new Yd,this.ni=null}static ri(e){return new Xd(e)}get ii(){if(this.ni)return this.ni;throw vt()}addReference(e,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),Z.resolve()}removeReference(e,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),Z.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(c=>this.ii.add(c.toString()))}).next(()=>s.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ii,s=>{const o=pt.fromPath(s);return this.si(e,o).next(c=>{c||i.removeEntry(o,Tt.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return Z.or([()=>Z.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class pc{constructor(e,i){this.persistence=e,this.oi=new Ra(s=>Kb(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=aR(this,i)}static ri(e,i){return new pc(e,i)}Zr(){}Xr(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}sr(e){let i=0;return this.rr(e,s=>{i++}).next(()=>i)}rr(e,i){return Z.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(c=>c?Z.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.qr(e,d=>this.ar(e,d,i).next(g=>{g||(s++,c.removeEntry(d,Tt.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),Z.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Ju(e.data.value)),i}ar(e,i,s){return Z.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.oi.get(i);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Hi=s,this.Ji=o}static Yi(e,i){let s=Nt(),o=Nt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new $d(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return dS()?8:Qb(hS())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,s,o){const c={result:null};return this.rs(e,i).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ss(e,i,o,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new yR;return this._s(e,i,d).next(g=>{if(c.result=g,this.Xi)return this.us(e,i,d,g.size)})}).next(()=>c.result)}us(e,i,s,o){return s.documentReadCount<this.es?(_s()<=zt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",vs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Z.resolve()):(_s()<=zt.DEBUG&&ut("QueryEngine","Query:",vs(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(_s()<=zt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",vs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ii(i))):Z.resolve())}rs(e,i){if(o_(i))return Z.resolve(null);let s=ii(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=yd(i,null,"F"),s=ii(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const d=Nt(...c);return this.ns.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.cs(i,g);return this.ls(i,y,d,p.readTime)?this.rs(e,yd(i,null,"F")):this.hs(e,y,i,p)}))})))}ss(e,i,s,o){return o_(i)||o.isEqual(Tt.min())?Z.resolve(null):this.ns.getDocuments(e,s).next(c=>{const d=this.cs(i,c);return this.ls(i,d,s,o)?Z.resolve(null):(_s()<=zt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),vs(i)),this.hs(e,d,i,Bb(o,lo)).next(g=>g))})}cs(e,i){let s=new we(qv(e));return i.forEach((o,c)=>{Dc(e,c)&&(s=s.add(c))}),s}ls(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}_s(e,i,s){return _s()<=zt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",vs(i)),this.ns.getDocumentsMatchingQuery(e,i,xr.min(),s)}hs(e,i,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(c=>(i.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="LocalStore",vR=3e8;class ER{constructor(e,i,s,o){this.persistence=e,this.Ps=i,this.serializer=o,this.Ts=new ne(Dt),this.Is=new Ra(c=>Bd(c),qd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oR(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function TR(a,e,i,s){return new ER(a,e,i,s)}async function cE(a,e){const i=St(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,i.As(e),i.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],g=[];let p=Nt();for(const y of o){d.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}for(const y of c){g.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}return i.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:d,addedBatchIds:g}))})})}function AR(a,e){const i=St(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),c=i.ds.newChangeBuffer({trackRemovals:!0});return function(g,p,y,T){const b=y.batch,R=b.keys();let M=Z.resolve();return R.forEach(L=>{M=M.next(()=>T.getEntry(p,L)).next(K=>{const j=y.docVersions.get(L);Gt(j!==null),K.version.compareTo(j)<0&&(b.applyToRemoteDocument(K,y),K.isValidDocument()&&(K.setReadTime(y.commitVersion),T.addEntry(K)))})}),M.next(()=>g.mutationQueue.removeMutationBatch(p,b))}(i,s,e,c).next(()=>c.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=Nt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function hE(a){const e=St(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function SR(a,e){const i=St(a),s=e.snapshotVersion;let o=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});o=i.Ts;const g=[];e.targetChanges.forEach((T,b)=>{const R=o.get(b);if(!R)return;g.push(i.Hr.removeMatchingKeys(c,T.removedDocuments,b).next(()=>i.Hr.addMatchingKeys(c,T.addedDocuments,b)));let M=R.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?M=M.withResumeToken(qe.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):T.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(T.resumeToken,s)),o=o.insert(b,M),function(K,j,Y){return K.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=vR?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(R,M,T)&&g.push(i.Hr.updateTargetData(c,M))});let p=ji(),y=Nt();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))}),g.push(bR(c,d,e.documentUpdates).next(T=>{p=T.Vs,y=T.fs})),!s.isEqual(Tt.min())){const T=i.Hr.getLastRemoteSnapshotVersion(c).next(b=>i.Hr.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(T)}return Z.waitFor(g).next(()=>d.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,p,y)).next(()=>p)}).then(c=>(i.Ts=o,c))}function bR(a,e,i){let s=Nt(),o=Nt();return i.forEach(c=>s=s.add(c)),e.getEntries(a,s).next(c=>{let d=ji();return i.forEach((g,p)=>{const y=c.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),p.isNoDocument()&&p.version.isEqual(Tt.min())?(e.removeEntry(g,p.readTime),d=d.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),d=d.insert(g,p)):ut(Zd,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)}),{Vs:d,fs:o}})}function RR(a,e){const i=St(a);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=zd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function wR(a,e){const i=St(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Hr.getTargetData(s,e).next(c=>c?(o=c,Z.resolve(o)):i.Hr.allocateTargetId(s).next(d=>(o=new Cr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(s.targetId,s),i.Is.set(e,s.targetId)),s})}async function Ad(a,e,i){const s=St(a),o=s.Ts.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!zs(d))throw d;ut(Zd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function T_(a,e,i){const s=St(a);let o=Tt.min(),c=Nt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,y,T){const b=St(p),R=b.Is.get(T);return R!==void 0?Z.resolve(b.Ts.get(R)):b.Hr.getTargetData(y,T)}(s,d,ii(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(d,g.targetId).next(p=>{c=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(d,e,i?o:Tt.min(),i?c:Nt())).next(g=>(CR(s,d1(e),g),{documents:g,gs:c})))}function CR(a,e,i){let s=a.Es.get(e)||Tt.min();i.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),a.Es.set(e,s)}class A_{constructor(){this.activeTargetIds=v1()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DR{constructor(){this.ho=new A_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,s){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new A_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="ConnectivityMonitor";class b_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ut(S_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ut(S_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ku=null;function Sd(){return Ku===null?Ku=function(){return 268435456+Math.round(2147483648*Math.random())}():Ku++,"0x"+Ku.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf="RestConnection",IR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class NR{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===uc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,i,s,o,c){const d=Sd(),g=this.bo(e,i.toUriEncodedString());ut(Jf,`Sending RPC '${e}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,c),this.vo(e,g,p,s).then(y=>(ut(Jf,`Received RPC '${e}' ${d}: `,y),y),y=>{throw bs(Jf,`RPC '${e}' ${d} failed with error: `,y,"url: ",g,"request:",s),y})}Co(e,i,s,o,c,d){return this.So(e,i,s,o,c)}Do(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Us}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,c)=>e[c]=o),s&&s.headers.forEach((o,c)=>e[c]=o)}bo(e,i){const s=IR[e];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class MR extends NR{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,s,o){const c=Sd();return new Promise((d,g)=>{const p=new pv;p.setWithCredentials(!0),p.listenOnce(yv.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Zu.NO_ERROR:const T=p.getResponseJson();ut(Qe,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),d(T);break;case Zu.TIMEOUT:ut(Qe,`RPC '${e}' ${c} timed out`),g(new dt(W.DEADLINE_EXCEEDED,"Request time out"));break;case Zu.HTTP_ERROR:const b=p.getStatus();if(ut(Qe,`RPC '${e}' ${c} failed with status:`,b,"response text:",p.getResponseText()),b>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const M=R==null?void 0:R.error;if(M&&M.status&&M.message){const L=function(j){const Y=j.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(Y)>=0?Y:W.UNKNOWN}(M.status);g(new dt(L,M.message))}else g(new dt(W.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new dt(W.UNAVAILABLE,"Connection failed."));break;default:vt()}}finally{ut(Qe,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(o);ut(Qe,`RPC '${e}' ${c} sending request:`,o),p.send(i,"POST",y,s,15)})}Wo(e,i,s){const o=Sd(),c=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Ev(),g=vv(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const T=c.join("");ut(Qe,`Creating RPC '${e}' stream ${o}: ${T}`,p);const b=d.createWebChannel(T,p);let R=!1,M=!1;const L=new OR({Fo:j=>{M?ut(Qe,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(R||(ut(Qe,`Opening RPC '${e}' stream ${o} transport.`),b.open(),R=!0),ut(Qe,`RPC '${e}' stream ${o} sending:`,j),b.send(j))},Mo:()=>b.close()}),K=(j,Y,et)=>{j.listen(Y,X=>{try{et(X)}catch(st){setTimeout(()=>{throw st},0)}})};return K(b,$l.EventType.OPEN,()=>{M||(ut(Qe,`RPC '${e}' stream ${o} transport opened.`),L.Qo())}),K(b,$l.EventType.CLOSE,()=>{M||(M=!0,ut(Qe,`RPC '${e}' stream ${o} transport closed`),L.Uo())}),K(b,$l.EventType.ERROR,j=>{M||(M=!0,bs(Qe,`RPC '${e}' stream ${o} transport errored:`,j),L.Uo(new dt(W.UNAVAILABLE,"The operation could not be completed")))}),K(b,$l.EventType.MESSAGE,j=>{var Y;if(!M){const et=j.data[0];Gt(!!et);const X=et,st=(X==null?void 0:X.error)||((Y=X[0])===null||Y===void 0?void 0:Y.error);if(st){ut(Qe,`RPC '${e}' stream ${o} received error:`,st);const at=st.status;let Et=function(S){const D=pe[S];if(D!==void 0)return Jv(D)}(at),x=st.message;Et===void 0&&(Et=W.INTERNAL,x="Unknown error status: "+at+" with message "+st.message),M=!0,L.Uo(new dt(Et,x)),b.close()}else ut(Qe,`RPC '${e}' stream ${o} received:`,et),L.Ko(et)}}),K(g,_v.STAT_EVENT,j=>{j.stat===hd.PROXY?ut(Qe,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===hd.NOPROXY&&ut(Qe,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{L.$o()},0),L}}function Wf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(a){return new z1(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,i,s=1e3,o=1.5,c=6e4){this.Ti=e,this.timerId=i,this.Go=s,this.zo=o,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-s);o>0&&ut("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="PersistentStream";class dE{constructor(e,i,s,o,c,d,g,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new fE(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===W.RESOURCE_EXHAUSTED?(qi(i.toString()),qi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===i&&this.V_(s,o)},s=>{e(()=>{const o=new dt(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,i){const s=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ut(R_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(ut(R_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xR extends dE{constructor(e,i,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=B1(this.serializer,e),s=function(c){if(!("targetChange"in c))return Tt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?ri(d.readTime):Tt.min()}(e);return this.listener.p_(i,s)}y_(e){const i={};i.database=Td(this.serializer),i.addTarget=function(c,d){let g;const p=d.target;if(g=pd(p)?{documents:H1(c,p)}:{query:G1(c,p).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=eE(c,d.resumeToken);const y=_d(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(Tt.min())>0){g.readTime=gc(c,d.snapshotVersion.toTimestamp());const y=_d(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g}(this.serializer,e);const s=F1(this.serializer,e);s&&(i.labels=s),this.I_(i)}w_(e){const i={};i.database=Td(this.serializer),i.removeTarget=e,this.I_(i)}}class UR extends dE{constructor(e,i,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,Gt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=j1(e.writeResults,e.commitTime),s=ri(e.commitTime);return this.listener.v_(s,i)}C_(){const e={};e.database=Td(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>q1(this.serializer,s))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{}class zR extends LR{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new dt(W.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.So(e,vd(i,s),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new dt(W.UNKNOWN,c.toString())})}Co(e,i,s,o,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(e,vd(i,s),o,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new dt(W.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class PR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(qi(i),this.N_=!1):ut("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="RemoteStore";class kR{constructor(e,i,s,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(d=>{s.enqueueAndForget(async()=>{wa(this)&&(ut(Sa,"Restarting streams for network reachability change."),await async function(p){const y=St(p);y.W_.add(4),await vo(y),y.j_.set("Unknown"),y.W_.delete(4),await Mc(y)}(this))})}),this.j_=new PR(s,o)}}async function Mc(a){if(wa(a))for(const e of a.G_)await e(!0)}async function vo(a){for(const e of a.G_)await e(!1)}function mE(a,e){const i=St(a);i.K_.has(e.targetId)||(i.K_.set(e.targetId,e),em(i)?tm(i):Ps(i).c_()&&Wd(i,e))}function Jd(a,e){const i=St(a),s=Ps(i);i.K_.delete(e),s.c_()&&gE(i,e),i.K_.size===0&&(s.c_()?s.P_():wa(i)&&i.j_.set("Unknown"))}function Wd(a,e){if(a.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ps(a).y_(e)}function gE(a,e){a.H_.Ne(e),Ps(a).w_(e)}function tm(a){a.H_=new M1({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>a.K_.get(e)||null,it:()=>a.datastore.serializer.databaseId}),Ps(a).start(),a.j_.B_()}function em(a){return wa(a)&&!Ps(a).u_()&&a.K_.size>0}function wa(a){return St(a).W_.size===0}function pE(a){a.H_=void 0}async function BR(a){a.j_.set("Online")}async function qR(a){a.K_.forEach((e,i)=>{Wd(a,e)})}async function jR(a,e){pE(a),em(a)?(a.j_.q_(e),tm(a)):a.j_.set("Unknown")}async function HR(a,e,i){if(a.j_.set("Online"),e instanceof tE&&e.state===2&&e.cause)try{await async function(o,c){const d=c.cause;for(const g of c.targetIds)o.K_.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.K_.delete(g),o.H_.removeTarget(g))}(a,e)}catch(s){ut(Sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await yc(a,s)}else if(e instanceof ec?a.H_.We(e):e instanceof Wv?a.H_.Ze(e):a.H_.je(e),!i.isEqual(Tt.min()))try{const s=await hE(a.localStore);i.compareTo(s)>=0&&await function(c,d){const g=c.H_.ot(d);return g.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const T=c.K_.get(y);T&&c.K_.set(y,T.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,y)=>{const T=c.K_.get(p);if(!T)return;c.K_.set(p,T.withResumeToken(qe.EMPTY_BYTE_STRING,T.snapshotVersion)),gE(c,p);const b=new Cr(T.target,p,y,T.sequenceNumber);Wd(c,b)}),c.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(s){ut(Sa,"Failed to raise snapshot:",s),await yc(a,s)}}async function yc(a,e,i){if(!zs(e))throw e;a.W_.add(1),await vo(a),a.j_.set("Offline"),i||(i=()=>hE(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{ut(Sa,"Retrying IndexedDB access"),await i(),a.W_.delete(1),await Mc(a)})}function yE(a,e){return e().catch(i=>yc(a,i,e))}async function xc(a){const e=St(a),i=Pr(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:zd;for(;GR(e);)try{const o=await RR(e.localStore,s);if(o===null){e.U_.length===0&&i.P_();break}s=o.batchId,QR(e,o)}catch(o){await yc(e,o)}_E(e)&&vE(e)}function GR(a){return wa(a)&&a.U_.length<10}function QR(a,e){a.U_.push(e);const i=Pr(a);i.c_()&&i.S_&&i.b_(e.mutations)}function _E(a){return wa(a)&&!Pr(a).u_()&&a.U_.length>0}function vE(a){Pr(a).start()}async function FR(a){Pr(a).C_()}async function KR(a){const e=Pr(a);for(const i of a.U_)e.b_(i.mutations)}async function YR(a,e,i){const s=a.U_.shift(),o=Qd.from(s,e,i);await yE(a,()=>a.remoteSyncer.applySuccessfulWrite(o)),await xc(a)}async function XR(a,e){e&&Pr(a).S_&&await async function(s,o){if(function(d){return N1(d)&&d!==W.ABORTED}(o.code)){const c=s.U_.shift();Pr(s).h_(),await yE(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await xc(s)}}(a,e),_E(a)&&vE(a)}async function w_(a,e){const i=St(a);i.asyncQueue.verifyOperationInProgress(),ut(Sa,"RemoteStore received new credentials");const s=wa(i);i.W_.add(3),await vo(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await Mc(i)}async function $R(a,e){const i=St(a);e?(i.W_.delete(2),await Mc(i)):e||(i.W_.add(2),await vo(i),i.j_.set("Unknown"))}function Ps(a){return a.J_||(a.J_=function(i,s,o){const c=St(i);return c.M_(),new xR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(a.datastore,a.asyncQueue,{xo:BR.bind(null,a),No:qR.bind(null,a),Lo:jR.bind(null,a),p_:HR.bind(null,a)}),a.G_.push(async e=>{e?(a.J_.h_(),em(a)?tm(a):a.j_.set("Unknown")):(await a.J_.stop(),pE(a))})),a.J_}function Pr(a){return a.Y_||(a.Y_=function(i,s,o){const c=St(i);return c.M_(),new UR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(a.datastore,a.asyncQueue,{xo:()=>Promise.resolve(),No:FR.bind(null,a),Lo:XR.bind(null,a),D_:KR.bind(null,a),v_:YR.bind(null,a)}),a.G_.push(async e=>{e?(a.Y_.h_(),await xc(a)):(await a.Y_.stop(),a.U_.length>0&&(ut(Sa,`Stopping write stream with ${a.U_.length} pending writes`),a.U_=[]))})),a.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,i,s,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,c){const d=Date.now()+s,g=new nm(e,i,d,o,c);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function im(a,e){if(qi("AsyncQueue",`${e}: ${a}`),zs(a))return new dt(W.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{static emptySet(e){return new Ss(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||pt.comparator(i.key,s.key):(i,s)=>pt.comparator(i.key,s.key),this.keyedMap=Zl(),this.sortedSet=new ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ss)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Ss;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(){this.Z_=new ne(pt.comparator)}track(e){const i=e.doc.key,s=this.Z_.get(i);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(i):e.type===1&&s.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):vt():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,s)=>{e.push(s)}),e}}class Vs{constructor(e,i,s,o,c,d,g,p,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,o,c){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Vs(e,i,Ss.emptySet(i),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class JR{constructor(){this.queries=D_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const o=St(i),c=o.queries;o.queries=D_(),c.forEach((d,g)=>{for(const p of g.ta)p.onError(s)})})(this,new dt(W.ABORTED,"Firestore shutting down"))}}function D_(){return new Ra(a=>Bv(a),Cc)}async function EE(a,e){const i=St(a);let s=3;const o=e.query;let c=i.queries.get(o);c?!c.na()&&e.ra()&&(s=2):(c=new ZR,s=e.ra()?0:1);try{switch(s){case 0:c.ea=await i.onListen(o,!0);break;case 1:c.ea=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=im(d,`Initialization of query '${vs(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.ta.push(e),e.sa(i.onlineState),c.ea&&e.oa(c.ea)&&rm(i)}async function TE(a,e){const i=St(a),s=e.query;let o=3;const c=i.queries.get(s);if(c){const d=c.ta.indexOf(e);d>=0&&(c.ta.splice(d,1),c.ta.length===0?o=e.ra()?0:1:!c.na()&&e.ra()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function WR(a,e){const i=St(a);let s=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.ta)g.oa(o)&&(s=!0);d.ea=o}}s&&rm(i)}function tw(a,e,i){const s=St(a),o=s.queries.get(e);if(o)for(const c of o.ta)c.onError(i);s.queries.delete(e)}function rm(a){a.ia.forEach(e=>{e.next()})}var bd,V_;(V_=bd||(bd={}))._a="default",V_.Cache="cache";class AE{constructor(e,i,s){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Vs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const s=i!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=Vs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==bd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e){this.key=e}}class bE{constructor(e){this.key=e}}class ew{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Nt(),this.mutatedKeys=Nt(),this.ya=qv(e),this.wa=new Ss(this.ya)}get Sa(){return this.fa}ba(e,i){const s=i?i.Da:new C_,o=i?i.wa:this.wa;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,b)=>{const R=o.get(T),M=Dc(this.query,b)?b:null,L=!!R&&this.mutatedKeys.has(R.key),K=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let j=!1;R&&M?R.data.isEqual(M.data)?L!==K&&(s.track({type:3,doc:M}),j=!0):this.va(R,M)||(s.track({type:2,doc:M}),j=!0,(p&&this.ya(M,p)>0||y&&this.ya(M,y)<0)&&(g=!0)):!R&&M?(s.track({type:0,doc:M}),j=!0):R&&!M&&(s.track({type:1,doc:R}),j=!0,(p||y)&&(g=!0)),j&&(M?(d=d.add(M),c=K?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),s.track({type:1,doc:T})}return{wa:d,Da:s,ls:g,mutatedKeys:c}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const c=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((T,b)=>function(M,L){const K=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt()}};return K(M)-K(L)}(T.type,b.type)||this.ya(T.doc,b.doc)),this.Ca(s),o=o!=null&&o;const g=i&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,d.length!==0||y?{snapshot:new Vs(this.query,e.wa,c,d,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new C_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Nt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const i=[];return e.forEach(s=>{this.pa.has(s)||i.push(new bE(s))}),this.pa.forEach(s=>{e.has(s)||i.push(new SE(s))}),i}Oa(e){this.fa=e.gs,this.pa=Nt();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return Vs.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const am="SyncEngine";class nw{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class iw{constructor(e){this.key=e,this.Ba=!1}}class rw{constructor(e,i,s,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new Ra(g=>Bv(g),Cc),this.qa=new Map,this.Qa=new Set,this.$a=new ne(pt.comparator),this.Ua=new Map,this.Ka=new Yd,this.Wa={},this.Ga=new Map,this.za=Ds.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function aw(a,e,i=!0){const s=IE(a);let o;const c=s.ka.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.Na()):o=await RE(s,e,i,!0),o}async function sw(a,e){const i=IE(a);await RE(i,e,!0,!1)}async function RE(a,e,i,s){const o=await wR(a.localStore,ii(e)),c=o.targetId,d=a.sharedClientState.addLocalQueryTarget(c,i);let g;return s&&(g=await lw(a,e,c,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&mE(a.remoteStore,o),g}async function lw(a,e,i,s,o){a.Ha=(b,R,M)=>async function(K,j,Y,et){let X=j.view.ba(Y);X.ls&&(X=await T_(K.localStore,j.query,!1).then(({documents:x})=>j.view.ba(x,X)));const st=et&&et.targetChanges.get(j.targetId),at=et&&et.targetMismatches.get(j.targetId)!=null,Et=j.view.applyChanges(X,K.isPrimaryClient,st,at);return N_(K,j.targetId,Et.Ma),Et.snapshot}(a,b,R,M);const c=await T_(a.localStore,e,!0),d=new ew(e,c.gs),g=d.ba(c.documents),p=_o.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),y=d.applyChanges(g,a.isPrimaryClient,p);N_(a,i,y.Ma);const T=new nw(e,i,d);return a.ka.set(e,T),a.qa.has(i)?a.qa.get(i).push(e):a.qa.set(i,[e]),y.snapshot}async function ow(a,e,i){const s=St(a),o=s.ka.get(e),c=s.qa.get(o.targetId);if(c.length>1)return s.qa.set(o.targetId,c.filter(d=>!Cc(d,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ad(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Jd(s.remoteStore,o.targetId),Rd(s,o.targetId)}).catch(Ls)):(Rd(s,o.targetId),await Ad(s.localStore,o.targetId,!0))}async function uw(a,e){const i=St(a),s=i.ka.get(e),o=i.qa.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Jd(i.remoteStore,s.targetId))}async function cw(a,e,i){const s=yw(a);try{const o=await function(d,g){const p=St(d),y=Re.now(),T=g.reduce((M,L)=>M.add(L.key),Nt());let b,R;return p.persistence.runTransaction("Locally write mutations","readwrite",M=>{let L=ji(),K=Nt();return p.ds.getEntries(M,T).next(j=>{L=j,L.forEach((Y,et)=>{et.isValidDocument()||(K=K.add(Y))})}).next(()=>p.localDocuments.getOverlayedDocuments(M,L)).next(j=>{b=j;const Y=[];for(const et of g){const X=w1(et,b.get(et.key).overlayedDocument);X!=null&&Y.push(new qr(et.key,X,Mv(X.value.mapValue),kn.exists(!0)))}return p.mutationQueue.addMutationBatch(M,y,Y,g)}).next(j=>{R=j;const Y=j.applyToLocalDocumentSet(b,K);return p.documentOverlayCache.saveOverlays(M,j.batchId,Y)})}).then(()=>({batchId:R.batchId,changes:Hv(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,g,p){let y=d.Wa[d.currentUser.toKey()];y||(y=new ne(Dt)),y=y.insert(g,p),d.Wa[d.currentUser.toKey()]=y}(s,o.batchId,i),await Eo(s,o.changes),await xc(s.remoteStore)}catch(o){const c=im(o,"Failed to persist write");i.reject(c)}}async function wE(a,e){const i=St(a);try{const s=await SR(i.localStore,e);e.targetChanges.forEach((o,c)=>{const d=i.Ua.get(c);d&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Ba=!0:o.modifiedDocuments.size>0?Gt(d.Ba):o.removedDocuments.size>0&&(Gt(d.Ba),d.Ba=!1))}),await Eo(i,s,e)}catch(s){await Ls(s)}}function I_(a,e,i){const s=St(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.ka.forEach((c,d)=>{const g=d.view.sa(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const p=St(d);p.onlineState=g;let y=!1;p.queries.forEach((T,b)=>{for(const R of b.ta)R.sa(g)&&(y=!0)}),y&&rm(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function hw(a,e,i){const s=St(a);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Ua.get(e),c=o&&o.key;if(c){let d=new ne(pt.comparator);d=d.insert(c,Ke.newNoDocument(c,Tt.min()));const g=Nt().add(c),p=new Nc(Tt.min(),new Map,new ne(Dt),d,g);await wE(s,p),s.$a=s.$a.remove(c),s.Ua.delete(e),sm(s)}else await Ad(s.localStore,e,!1).then(()=>Rd(s,e,i)).catch(Ls)}async function fw(a,e){const i=St(a),s=e.batch.batchId;try{const o=await AR(i.localStore,e);DE(i,s,null),CE(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Eo(i,o)}catch(o){await Ls(o)}}async function dw(a,e,i){const s=St(a);try{const o=await function(d,g){const p=St(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let T;return p.mutationQueue.lookupMutationBatch(y,g).next(b=>(Gt(b!==null),T=b.keys(),p.mutationQueue.removeMutationBatch(y,b))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,T,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T)).next(()=>p.localDocuments.getDocuments(y,T))})}(s.localStore,e);DE(s,e,i),CE(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await Eo(s,o)}catch(o){await Ls(o)}}function CE(a,e){(a.Ga.get(e)||[]).forEach(i=>{i.resolve()}),a.Ga.delete(e)}function DE(a,e,i){const s=St(a);let o=s.Wa[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Rd(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.qa.get(e))a.ka.delete(s),i&&a.La.Ja(s,i);a.qa.delete(e),a.isPrimaryClient&&a.Ka.br(e).forEach(s=>{a.Ka.containsKey(s)||VE(a,s)})}function VE(a,e){a.Qa.delete(e.path.canonicalString());const i=a.$a.get(e);i!==null&&(Jd(a.remoteStore,i),a.$a=a.$a.remove(e),a.Ua.delete(i),sm(a))}function N_(a,e,i){for(const s of i)s instanceof SE?(a.Ka.addReference(s.key,e),mw(a,s)):s instanceof bE?(ut(am,"Document no longer in limbo: "+s.key),a.Ka.removeReference(s.key,e),a.Ka.containsKey(s.key)||VE(a,s.key)):vt()}function mw(a,e){const i=e.key,s=i.path.canonicalString();a.$a.get(i)||a.Qa.has(s)||(ut(am,"New document in limbo: "+i),a.Qa.add(s),sm(a))}function sm(a){for(;a.Qa.size>0&&a.$a.size<a.maxConcurrentLimboResolutions;){const e=a.Qa.values().next().value;a.Qa.delete(e);const i=new pt(Zt.fromString(e)),s=a.za.next();a.Ua.set(s,new iw(i)),a.$a=a.$a.insert(i,s),mE(a.remoteStore,new Cr(ii(jd(i.path)),s,"TargetPurposeLimboResolution",Sc.ae))}}async function Eo(a,e,i){const s=St(a),o=[],c=[],d=[];s.ka.isEmpty()||(s.ka.forEach((g,p)=>{d.push(s.Ha(p,e,i).then(y=>{var T;if((y||i)&&s.isPrimaryClient){const b=y?!y.fromCache:(T=i==null?void 0:i.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(y){o.push(y);const b=$d.Yi(p.targetId,y);c.push(b)}}))}),await Promise.all(d),s.La.p_(o),await async function(p,y){const T=St(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>Z.forEach(y,R=>Z.forEach(R.Hi,M=>T.persistence.referenceDelegate.addReference(b,R.targetId,M)).next(()=>Z.forEach(R.Ji,M=>T.persistence.referenceDelegate.removeReference(b,R.targetId,M)))))}catch(b){if(!zs(b))throw b;ut(Zd,"Failed to update sequence numbers: "+b)}for(const b of y){const R=b.targetId;if(!b.fromCache){const M=T.Ts.get(R),L=M.snapshotVersion,K=M.withLastLimboFreeSnapshotVersion(L);T.Ts=T.Ts.insert(R,K)}}}(s.localStore,c))}async function gw(a,e){const i=St(a);if(!i.currentUser.isEqual(e)){ut(am,"User change. New user:",e.toKey());const s=await cE(i.localStore,e);i.currentUser=e,function(c,d){c.Ga.forEach(g=>{g.forEach(p=>{p.reject(new dt(W.CANCELLED,d))})}),c.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Eo(i,s.Rs)}}function pw(a,e){const i=St(a),s=i.Ua.get(e);if(s&&s.Ba)return Nt().add(s.key);{let o=Nt();const c=i.qa.get(e);if(!c)return o;for(const d of c){const g=i.ka.get(d);o=o.unionWith(g.view.Sa)}return o}}function IE(a){const e=St(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=wE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hw.bind(null,e),e.La.p_=WR.bind(null,e.eventManager),e.La.Ja=tw.bind(null,e.eventManager),e}function yw(a){const e=St(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dw.bind(null,e),e}class _c{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Oc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return TR(this.persistence,new _R,e.initialUser,this.serializer)}Xa(e){return new uE(Xd.ri,this.serializer)}Za(e){return new DR}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_c.provider={build:()=>new _c};class _w extends _c{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){Gt(this.persistence.referenceDelegate instanceof pc);const s=this.persistence.referenceDelegate.garbageCollector;return new iR(s,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new uE(s=>pc.ri(s,i),this.serializer)}}class wd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>I_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=gw.bind(null,this.syncEngine),await $R(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new JR}()}createDatastore(e){const i=Oc(e.databaseInfo.databaseId),s=function(c){return new MR(c)}(e.databaseInfo);return function(c,d,g,p){return new zR(c,d,g,p)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,c,d,g){return new kR(s,o,c,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>I_(this.syncEngine,i,0),function(){return b_.D()?new b_:new VR}())}createSyncEngine(e,i){return function(o,c,d,g,p,y,T){const b=new rw(o,c,d,g,p,y);return T&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const c=St(o);ut(Sa,"RemoteStore shutting down."),c.W_.add(5),await vo(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}wd.provider={build:()=>new wd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):qi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr="FirestoreClient";class vw{constructor(e,i,s,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Fe.UNAUTHENTICATED,this.clientId=Sv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{ut(kr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(ut(kr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=im(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function td(a,e){a.asyncQueue.verifyOperationInProgress(),ut(kr,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async o=>{s.isEqual(o)||(await cE(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}async function O_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await Ew(a);ut(kr,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener(s=>w_(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,o)=>w_(e.remoteStore,o)),a._onlineComponents=e}async function Ew(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ut(kr,"Using user provided OfflineComponentProvider");try{await td(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;bs("Error using user provided cache. Falling back to memory cache: "+i),await td(a,new _c)}}else ut(kr,"Using default OfflineComponentProvider"),await td(a,new _w(void 0));return a._offlineComponents}async function OE(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ut(kr,"Using user provided OnlineComponentProvider"),await O_(a,a._uninitializedComponentsProvider._online)):(ut(kr,"Using default OnlineComponentProvider"),await O_(a,new wd))),a._onlineComponents}function Tw(a){return OE(a).then(e=>e.syncEngine)}async function ME(a){const e=await OE(a),i=e.eventManager;return i.onListen=aw.bind(null,e.syncEngine),i.onUnlisten=ow.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=sw.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=uw.bind(null,e.syncEngine),i}function Aw(a,e,i={}){const s=new Pi;return a.asyncQueue.enqueueAndForget(async()=>function(c,d,g,p,y){const T=new NE({next:R=>{T.su(),d.enqueueAndForget(()=>TE(c,b));const M=R.docs.has(g);!M&&R.fromCache?y.reject(new dt(W.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&R.fromCache&&p&&p.source==="server"?y.reject(new dt(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),b=new AE(jd(g.path),T,{includeMetadataChanges:!0,Ta:!0});return EE(c,b)}(await ME(a),a.asyncQueue,e,i,s)),s.promise}function Sw(a,e,i={}){const s=new Pi;return a.asyncQueue.enqueueAndForget(async()=>function(c,d,g,p,y){const T=new NE({next:R=>{T.su(),d.enqueueAndForget(()=>TE(c,b)),R.fromCache&&p.source==="server"?y.reject(new dt(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),b=new AE(g,T,{includeMetadataChanges:!0,Ta:!0});return EE(c,b)}(await ME(a),a.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(a,e,i){if(!i)throw new dt(W.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function bw(a,e,i,s){if(e===!0&&s===!0)throw new dt(W.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function x_(a){if(!pt.isDocumentKey(a))throw new dt(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function U_(a){if(pt.isDocumentKey(a))throw new dt(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function lm(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":vt()}function Hi(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new dt(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=lm(a);throw new dt(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="firestore.googleapis.com",L_=!0;class z_{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new dt(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LE,this.ssl=L_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:L_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=oE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<eR)throw new dt(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xE((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new dt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new dt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new dt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new z_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dt(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new dt(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new z_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Nb;switch(s.type){case"firstParty":return new Ub(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new dt(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=M_.get(i);s&&(ut("ComponentProvider","Removing Datastore"),M_.delete(i),s.terminate())}(this),Promise.resolve()}}function Rw(a,e,i,s={}){var o;const c=(a=Hi(a,Uc))._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:a._getEmulatorOptions()}),g=`${e}:${i}`;c.host!==LE&&c.host!==g&&bs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:g,ssl:!1,emulatorOptions:s});if(!ac(p,d)&&(a._setSettings(p),s.mockUserToken)){let y,T;if(typeof s.mockUserToken=="string")y=s.mockUserToken,T=Fe.MOCK_USER;else{y=cS(s.mockUserToken,(o=a._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new dt(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Fe(b)}a._authCredentials=new Ob(new Tv(y,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Lc(this.firestore,e,this._query)}}class mn{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mn(this.firestore,e,this._key)}}class Nr extends Lc{constructor(e,i,s){super(e,i,jd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mn(this.firestore,null,new pt(e))}withConverter(e){return new Nr(this.firestore,e,this._path)}}function om(a,e,...i){if(a=Mr(a),UE("collection","path",e),a instanceof Uc){const s=Zt.fromString(e,...i);return U_(s),new Nr(a,null,s)}{if(!(a instanceof mn||a instanceof Nr))throw new dt(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Zt.fromString(e,...i));return U_(s),new Nr(a.firestore,null,s)}}function Is(a,e,...i){if(a=Mr(a),arguments.length===1&&(e=Sv.newId()),UE("doc","path",e),a instanceof Uc){const s=Zt.fromString(e,...i);return x_(s),new mn(a,null,new pt(s))}{if(!(a instanceof mn||a instanceof Nr))throw new dt(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Zt.fromString(e,...i));return x_(s),new mn(a.firestore,a instanceof Nr?a.converter:null,new pt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="AsyncQueue";class k_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new fE(this,"async_queue_retry"),this.Su=()=>{const s=Wf();s&&ut(P_,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const i=Wf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=Wf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Pi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!zs(e))throw e;ut(P_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(s);throw qi("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=i,i}enqueueAfterDelay(e,i,s){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const o=nm.createAndSchedule(this,e,i,s,c=>this.Fu(c));return this.fu.push(o),o}Du(){this.gu&&vt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}class ks extends Uc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new k_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new k_(e),this._firestoreClient=void 0,await e}}}function ww(a,e){const i=typeof a=="object"?a:Eb(),s=typeof a=="string"?a:uc,o=gb(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=oS("firestore");c&&Rw(o,...c)}return o}function um(a){if(a._terminated)throw new dt(W.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||Cw(a),a._firestoreClient}function Cw(a){var e,i,s;const o=a._freezeSettings(),c=function(g,p,y,T){return new $b(g,p,y,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,xE(T.experimentalLongPollingOptions),T.useFetchStreams)}(a._databaseId,((e=a._app)===null||e===void 0?void 0:e.options.appId)||"",a._persistenceKey,o);a._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),a._firestoreClient=new vw(a._authCredentials,a._appCheckCredentials,a._queue,c,a._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ns(qe.fromBase64String(e))}catch(i){throw new dt(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Ns(qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new dt(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new dt(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new dt(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Dt(this._lat,e._lat)||Dt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=/^__.*__$/;class Vw{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new qr(e,this.data,this.fieldMask,i,this.fieldTransforms):new yo(e,this.data,i,this.fieldTransforms)}}class zE{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new qr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function PE(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt()}}class dm{constructor(e,i,s,o,c,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new dm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return vc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(PE(this.Lu)&&Dw.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Iw{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Oc(e)}ju(e,i,s,o=!1){return new dm({Lu:e,methodName:i,zu:s,path:Be.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kE(a){const e=a._freezeSettings(),i=Oc(a._databaseId);return new Iw(a._databaseId,!!e.ignoreUndefinedProperties,i)}function Nw(a,e,i,s,o,c={}){const d=a.ju(c.merge||c.mergeFields?2:0,e,i,o);mm("Data must be an object, but it was:",d,s);const g=BE(s,d);let p,y;if(c.merge)p=new dn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const b of c.mergeFields){const R=Cd(e,b,i);if(!d.contains(R))throw new dt(W.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);jE(T,R)||T.push(R)}p=new dn(T),y=d.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,y=d.fieldTransforms;return new Vw(new an(g),p,y)}class Pc extends cm{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pc}}function Ow(a,e,i,s){const o=a.ju(1,e,i);mm("Data must be an object, but it was:",o,s);const c=[],d=an.empty();Br(s,(p,y)=>{const T=gm(e,p,i);y=Mr(y);const b=o.Uu(T);if(y instanceof Pc)c.push(T);else{const R=kc(y,b);R!=null&&(c.push(T),d.set(T,R))}});const g=new dn(c);return new zE(d,g,o.fieldTransforms)}function Mw(a,e,i,s,o,c){const d=a.ju(1,e,i),g=[Cd(e,s,i)],p=[o];if(c.length%2!=0)throw new dt(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<c.length;R+=2)g.push(Cd(e,c[R])),p.push(c[R+1]);const y=[],T=an.empty();for(let R=g.length-1;R>=0;--R)if(!jE(y,g[R])){const M=g[R];let L=p[R];L=Mr(L);const K=d.Uu(M);if(L instanceof Pc)y.push(M);else{const j=kc(L,K);j!=null&&(y.push(M),T.set(M,j))}}const b=new dn(y);return new zE(T,b,d.fieldTransforms)}function kc(a,e){if(qE(a=Mr(a)))return mm("Unsupported field value:",e,a),BE(a,e);if(a instanceof cm)return function(s,o){if(!PE(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const c=[];let d=0;for(const g of s){let p=kc(g,o.Ku(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(a,e)}return function(s,o){if((s=Mr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return E1(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Re.fromDate(s);return{timestampValue:gc(o.serializer,c)}}if(s instanceof Re){const c=new Re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:gc(o.serializer,c)}}if(s instanceof hm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ns)return{bytesValue:eE(o.serializer,s._byteString)};if(s instanceof mn){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Kd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof fm)return function(d,g){return{mapValue:{fields:{[Nv]:{stringValue:Ov},[cc]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw g.Wu("VectorValues must only contain numeric values.");return Hd(g.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${lm(s)}`)}(a,e)}function BE(a,e){const i={};return Rv(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Br(a,(s,o)=>{const c=kc(o,e.qu(s));c!=null&&(i[s]=c)}),{mapValue:{fields:i}}}function qE(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Re||a instanceof hm||a instanceof Ns||a instanceof mn||a instanceof cm||a instanceof fm)}function mm(a,e,i){if(!qE(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const s=lm(i);throw s==="an object"?e.Wu(a+" a custom object"):e.Wu(a+" "+s)}}function Cd(a,e,i){if((e=Mr(e))instanceof zc)return e._internalPath;if(typeof e=="string")return gm(a,e);throw vc("Field path arguments must be of type string or ",a,!1,void 0,i)}const xw=new RegExp("[~\\*/\\[\\]]");function gm(a,e,i){if(e.search(xw)>=0)throw vc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new zc(...e.split("."))._internalPath}catch{throw vc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function vc(a,e,i,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${o}`),p+=")"),new dt(W.INVALID_ARGUMENT,g+a+p)}function jE(a,e){return a.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e,i,s,o,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Uw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(GE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Uw extends HE{data(){return super.data()}}function GE(a,e){return typeof e=="string"?gm(a,e):e instanceof zc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new dt(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zw{convertValue(e,i="none"){switch(zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Lr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw vt()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Br(e,(o,c)=>{s[o]=this.convertValue(c,i)}),s}convertVectorValue(e){var i,s,o;const c=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[cc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>ce(d.doubleValue));return new fm(c)}convertGeoPoint(e){return new hm(ce(e.latitude),ce(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Rc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(oo(e));default:return null}}convertTimestamp(e){const i=Ur(e);return new Re(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Zt.fromString(e);Gt(lE(s));const o=new uo(s.get(1),s.get(3)),c=new pt(s.popFirst(5));return o.isEqual(i)||qi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(a,e,i){let s;return s=a?a.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class QE extends HE{constructor(e,i,s,o,c,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new nc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(GE("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class nc extends QE{data(e={}){return super.data(e)}}class kw{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Wl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new nc(this._firestore,this._userDataWriter,s.key,s,new Wl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new dt(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const p=new nc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Wl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new nc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Wl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:Bw(g.type),doc:p,oldIndex:y,newIndex:T}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Bw(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(a){a=Hi(a,mn);const e=Hi(a.firestore,ks);return Aw(um(e),a._key).then(i=>Hw(e,a,i))}class KE extends zw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ns(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new mn(this.firestore,null,i)}}function qw(a){a=Hi(a,Lc);const e=Hi(a.firestore,ks),i=um(e),s=new KE(e);return Lw(a._query),Sw(i,a._query).then(o=>new kw(e,s,a,o))}function YE(a,e,i,...s){a=Hi(a,mn);const o=Hi(a.firestore,ks),c=kE(o);let d;return d=typeof(e=Mr(e))=="string"||e instanceof zc?Mw(c,"updateDoc",a._key,e,i,s):Ow(c,"updateDoc",a._key,e),pm(o,[d.toMutation(a._key,kn.exists(!0))])}function jw(a){return pm(Hi(a.firestore,ks),[new Gd(a._key,kn.none())])}function XE(a,e){const i=Hi(a.firestore,ks),s=Is(a),o=Pw(a.converter,e);return pm(i,[Nw(kE(a.firestore),"addDoc",s._key,o,a.converter!==null,{}).toMutation(s._key,kn.exists(!1))]).then(()=>s)}function pm(a,e){return function(s,o){const c=new Pi;return s.asyncQueue.enqueueAndForget(async()=>cw(await Tw(s),o,c)),c.promise}(um(a),e)}function Hw(a,e,i){const s=i.docs.get(e._key),o=new KE(a);return new QE(a,o,e._key,s,new Wl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Us=o})(vb),lc(new ao("firestore",(s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new ks(new Mb(s.getProvider("auth-internal")),new Lb(d,s.getProvider("app-check-internal")),function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new dt(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uo(y.options.projectId,T)}(d,o),d);return c=Object.assign({useFetchStreams:i},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),As(Qy,Fy,e),As(Qy,Fy,"esm2017")})();var Gw="firebase",Qw="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */As(Gw,Qw,"app");const Fw={apiKey:"AIzaSyDAHltc65Fv4RfhKGWFHJdGReKfmbJPSV8",authDomain:"questionnairesbuilder-61628.firebaseapp.com",projectId:"questionnairesbuilder-61628",storageBucket:"questionnairesbuilder-61628.firebasestorage.app",messagingSenderId:"1084293165769",appId:"1:1084293165769:web:640ca5952071502c8b5318",measurementId:"G-RVKKSSBN77"},Kw=fv(Fw),Or=ww(Kw),Yw="_questionContainer_stkx7_1",Xw="_inputField_stkx7_10",$w="_radioContainer_stkx7_21",Zw="_checkboxContainer_stkx7_22",Jw="_radioInput_stkx7_26",Ww="_checkboxInput_stkx7_27",t2="_questionText_stkx7_31",e2="_label_stkx7_37",Pn={questionContainer:Yw,inputField:Xw,radioContainer:$w,checkboxContainer:Zw,radioInput:Jw,checkboxInput:Ww,questionText:t2,label:e2},n2=({question:a,index:e,answers:i,handleAnswerChange:s})=>nt.jsxs("div",{className:Pn.questionContainer,children:[nt.jsx("p",{className:Pn.questionText,children:a.question}),a.type==="text"&&nt.jsx("input",{type:"text",value:i[e]||"",onChange:o=>s(e,o.target.value),className:Pn.inputField,placeholder:"Your response..."}),a.type==="single"&&nt.jsx("div",{className:Pn.radioContainer,children:a.options.map((o,c)=>nt.jsxs("div",{className:Pn.radioContainer,children:[nt.jsx("input",{type:"radio",name:a.question,id:o,value:o,onChange:d=>s(e,d.target.value),checked:i[e]===o,className:Pn.radioInput}),nt.jsx("label",{htmlFor:o,className:Pn.label,children:o})]},c))}),a.type==="multiple"&&nt.jsx("div",{className:Pn.checkboxContainer,children:a.options.map((o,c)=>{var d;return nt.jsxs("div",{className:Pn.checkboxContainer,children:[nt.jsx("input",{type:"checkbox",name:a.question,id:o,value:o,onChange:g=>s(e,g.target.checked?[...i[e]||[],g.target.value]:i[e].filter(p=>p!==g.target.value)),checked:(d=i[e])==null?void 0:d.includes(o),className:Pn.checkboxInput}),nt.jsx("label",{htmlFor:o,className:Pn.label,children:o})]},c)})})]}),i2="_formContainer_1r5aj_1",r2="_formTitle_1r5aj_14",a2="_formDescription_1r5aj_22",ed={formContainer:i2,formTitle:r2,formDescription:a2},s2=({questionnaire:a,answers:e,handleAnswerChange:i})=>nt.jsxs("div",{className:ed.formContainer,children:[nt.jsx("h2",{className:ed.formTitle,children:a.name}),nt.jsx("p",{className:ed.formDescription,children:a.description}),a.questions.map((s,o)=>nt.jsx(n2,{question:s,index:o,answers:e,handleAnswerChange:i},o))]}),l2="_container_bkn0h_1",o2="_submitButton_bkn0h_10",nd={container:l2,submitButton:o2},u2=()=>{const{id:a}=$_(),[e,i]=G.useState(null),[s,o]=G.useState([]),[c,d]=G.useState(null),[g,p]=G.useState(null),[y,T]=G.useState(null),[b,R]=G.useState(!0),[M,L]=G.useState(null),[K,j]=G.useState(!0);G.useEffect(()=>{(async()=>{try{const st=Is(Or,"questionnaires",a),at=await FE(st);at.exists()?(i(at.data()),p(new Date),R(!1)):(L("Questionnaire not found."),R(!1))}catch{L("An error occurred while fetching the questionnaire."),R(!1)}})()},[a]);const Y=(X,st)=>{const at=[...s];at[X]=st,o(at),j(at.some(Et=>!Et))},et=async()=>{try{const X=Is(Or,"questionnaires",a);await YE(X,{completions:(e.completions||0)+1});const st=e.questions.reduce((S,{question:D},O)=>({...S,[D]:s[O]}),{}),at=new Date;await XE(om(Or,"responses"),{questionnaireId:a,answers:st,timestamp:at}),d(at);const Et=Math.floor((at-g)/1e3),x=Math.floor(Et/60),w=Et%60;T(`${x}m ${w}s`),alert("The questionnaire is filled out and the answers are saved!")}catch{L("Error saving answers.")}};return b?nt.jsx("div",{children:"..."}):M?nt.jsx("div",{children:M}):nt.jsxs("div",{className:nd.container,children:[nt.jsx(s2,{questionnaire:e,answers:s,handleAnswerChange:Y}),nt.jsx("button",{className:nd.submitButton,onClick:et,disabled:K,children:"Submit"}),c&&nt.jsxs("div",{className:nd.answers,children:[nt.jsx("h3",{children:"Your Answers:"}),nt.jsx("ul",{children:e.questions.map((X,st)=>nt.jsxs("li",{children:[nt.jsx("strong",{children:X.question}),": ",s[st]+" "]},st))}),nt.jsxs("p",{children:["Time taken: ",y]}),nt.jsxs("p",{children:["Submitted at: ",c.toLocaleString()]})]})]})},c2=({addQuestion:a})=>{const[e,i]=G.useState(""),[s,o]=G.useState("text"),[c,d]=G.useState(""),g=()=>{a(e,s,c),i(""),d("")};return nt.jsxs("div",{children:[nt.jsx("input",{type:"text",value:e,onChange:p=>i(p.target.value),placeholder:"Add a question"}),nt.jsxs("select",{onChange:p=>o(p.target.value),value:s,children:[nt.jsx("option",{value:"text",children:"Text"}),nt.jsx("option",{value:"single",children:"Single choice"}),nt.jsx("option",{value:"multiple",children:"Multiple choices"})]}),s!=="text"&&nt.jsx("input",{type:"text",value:c,onChange:p=>d(p.target.value),placeholder:"Options (separate by commas)"}),nt.jsx("button",{type:"button",onClick:g,children:"Add a question"})]})},h2="_questionItem_usvt6_1",f2="_questionContent_usvt6_10",d2="_removeButton_usvt6_14",id={questionItem:h2,questionContent:f2,removeButton:d2},m2=({question:a,index:e,removeQuestion:i})=>nt.jsxs("li",{className:id.questionItem,children:[nt.jsxs("div",{className:id.questionContent,children:[nt.jsxs("p",{children:[a.question," (",a.type,")"]}),(a.type==="single"||a.type==="multiple")&&nt.jsx("ul",{children:a.options.map((s,o)=>nt.jsx("li",{children:s},o))})]}),nt.jsx("button",{className:id.removeButton,type:"button",onClick:()=>i(e),children:"Remove"})]}),g2="_questionnaireBuilder_tfslp_1",p2="_questionList_tfslp_40",B_={questionnaireBuilder:g2,questionList:p2},y2=()=>{const[a,e]=G.useState(""),[i,s]=G.useState(""),[o,c]=G.useState([]),{id:d}=$_(),g=Tc();G.useEffect(()=>{d&&(async()=>{const R=Is(Or,"questionnaires",d),M=await FE(R);if(M.exists()){const L=M.data();e(L.name),s(L.description),c(L.questions)}else console.log("Questionnaire not found")})()},[d]);const p=(b,R,M)=>{if(!b.trim()){alert("Question cannot be empty");return}if((R==="single"||R==="multiple")&&!M.trim()){alert("Options cannot be empty for single or multiple choice questions");return}const L={question:b,type:R,options:M.split(",").map(K=>K.trim()),correctAnswers:R==="single"?[M.split(",")[0].trim()]:[]};c([...o,L])},y=b=>{c(o.filter((R,M)=>M!==b))},T=async b=>{if(b.preventDefault(),o.length===0){alert("You must add at least one question to the questionnaire");return}try{if(d){const R=Is(Or,"questionnaires",d);await YE(R,{name:a,description:i,questions:o}),alert("The questionnaire has been updated!")}else await XE(om(Or,"questionnaires"),{name:a,description:i,questions:o,completions:0}),alert("The questionnaire has been created!");g("/")}catch(R){console.error("Error saving document: ",R)}};return nt.jsxs("div",{className:B_.questionnaireBuilder,children:[nt.jsx("h2",{children:d?"Edit the questionnaire":"Create the questionnaire"}),nt.jsxs("form",{onSubmit:T,children:[nt.jsx("input",{type:"text",value:a,onChange:b=>e(b.target.value),placeholder:"Name of the questionnaire",required:!0}),nt.jsx("textarea",{value:i,onChange:b=>s(b.target.value),placeholder:"Description of the questionnaire",required:!0}),nt.jsx(c2,{addQuestion:p}),nt.jsx("ul",{className:B_.questionList,children:o.map((b,R)=>nt.jsx(m2,{question:b,index:R,removeQuestion:y},R))}),nt.jsx("button",{type:"submit",children:d?"Edit the questionnaire":"Create the questionnaire"})]})]})},_2="_quizCard_44gl1_1",v2="_questionsCount_44gl1_24",E2="_completionText_44gl1_30",T2="_menuButton_44gl1_43",A2="_menu_44gl1_43",Xl={quizCard:_2,questionsCount:v2,completionText:E2,menuButton:T2,menu:A2},S2=({questionnaire:a,toggleMenu:e,activeMenu:i,handleDelete:s})=>{const o=Tc();return nt.jsxs("div",{className:Xl.quizCard,onClick:()=>o(`/questionnaire/${a.id}`),children:[nt.jsx("h3",{children:a.name}),nt.jsx("p",{children:a.description}),nt.jsxs("p",{className:Xl.questionsCount,children:["Questions: ",a.questions.length]}),nt.jsxs("div",{className:Xl.completionText,children:["Completed: ",a.completions]}),nt.jsx("button",{className:Xl.menuButton,onClick:c=>{c.stopPropagation(),e(a.id)},children:""}),i===a.id&&nt.jsxs("div",{className:Xl.menu,children:[nt.jsx("button",{onClick:c=>{c.stopPropagation(),o(`/create/${a.id}`)},children:"Edit"}),nt.jsx("button",{onClick:c=>{c.stopPropagation(),s(a.id)},children:"Delete"})]})]})},b2="_pagination_1ca9q_1",R2={pagination:b2},w2=({currentPage:a,paginate:e,indexOfLastItem:i,questionnaires:s})=>nt.jsxs("div",{className:R2.pagination,children:[nt.jsx("button",{onClick:()=>e(a-1),disabled:a===1,children:"Prev"}),nt.jsxs("span",{children:["Page ",a]}),nt.jsx("button",{onClick:()=>e(a+1),disabled:i>=s.length,children:"Next"})]}),C2="_catalogContainer_ui2wk_1",D2="_createButton_ui2wk_13",V2="_sortMenu_ui2wk_26",I2="_sortSelect_ui2wk_38",N2="_questionnaireList_ui2wk_56",ys={catalogContainer:C2,createButton:D2,sortMenu:V2,sortSelect:I2,questionnaireList:N2},O2=()=>{const[a,e]=G.useState([]),[i,s]=G.useState(1),[o]=G.useState(12),[c,d]=G.useState(null),[g,p]=G.useState("name"),y=Tc(),[T,b]=G.useState(!0);G.useEffect(()=>{(async()=>{b(!0);const at=(await qw(om(Or,"questionnaires"))).docs.map(Et=>({id:Et.id,...Et.data()}));e(at),b(!1)})()},[]);const R=[...a].sort((X,st)=>{switch(g){case"name":return X.name.localeCompare(st.name);case"questions":return X.questions.length-st.questions.length;case"completions":return X.completions-st.completions}}),M=i*o,L=M-o,K=R.slice(L,M),j=X=>s(X),Y=async X=>{try{const st=Is(Or,"questionnaires",X);await jw(st),e(a.filter(at=>at.id!==X))}catch(st){console.error("Error deleting document: ",st),alert("An error occurred while deleting the questionnaire. Please try again.")}},et=X=>{d(c===X?null:X)};return nt.jsxs("div",{children:[nt.jsxs("div",{className:ys.catalogContainer,children:[nt.jsx("h2",{children:"Quiz Catalog"}),nt.jsx("button",{className:ys.createButton,onClick:()=>y("/create"),children:"Create New"}),nt.jsxs("div",{className:ys.sortMenu,children:[nt.jsx("label",{children:"Sort by: "}),nt.jsxs("select",{className:ys.sortSelect,value:g,onChange:X=>p(X.target.value),children:[nt.jsx("option",{value:"name",children:"Name"}),nt.jsx("option",{value:"questions",children:"Number of Questions"}),nt.jsx("option",{value:"completions",children:"Completions"})]})]})]}),T?nt.jsx("div",{className:ys.loadingSpinner,children:"Loading..."}):nt.jsx("div",{className:ys.questionnaireList,children:K.map(X=>nt.jsx(S2,{questionnaire:X,toggleMenu:et,activeMenu:c,handleDelete:Y},X.id))}),K.length>0&&nt.jsx(w2,{currentPage:i,paginate:j,indexOfLastItem:M,questionnaires:a})]})};function M2(){return nt.jsx(jA,{children:nt.jsxs(vA,{children:[nt.jsx(Yu,{path:"/",element:nt.jsx(O2,{})}),nt.jsx(Yu,{path:"/create/:id?",element:nt.jsx(y2,{})}),nt.jsx(Yu,{path:"/questionnaire/:id",element:nt.jsx(u2,{})})]})})}VT.createRoot(document.getElementById("root")).render(nt.jsx(G.StrictMode,{children:nt.jsx(M2,{})}));
